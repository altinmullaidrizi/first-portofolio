(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[9],{"/Mjl":function(e,t,n){"use strict";t.a={debugPinImpressions:999,max:9999,pinActionWrapper:101,saved:102,storyPinImage:-1}},"19Gw":function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var o=n("GyhR"),r=n.n(o),a=n("Qo1m"),i=n("yXM0"),l=n("z/1d"),c=n("+U6O");function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var f=function(e){function t(){var e,n,o,r,i,l,c;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var u=arguments.length,p=new Array(u),f=0;f<u;f++)p[f]=arguments[f];return o=this,n=!(r=(e=d(t)).call.apply(e,[this].concat(p)))||"object"!==s(r)&&"function"!=typeof r?m(o):r,i=m(m(n)),l="statsList",c=n.props.isVideo?[{iconType:"play",displayText:a.a._("Video views","Label for views of a video pin on closeup page"),field:"video_views",align:"start"},{iconType:"clock",displayText:a.a._("Avg. time","Label for average time of a video pin on closeup page"),field:"video_average_time",align:"center",valueFormat:"TIME"},{iconType:"angled-pin",displayText:a.a._("Saves","Label for saves of a video pin on closeup page"),field:"save",align:"end"}]:[{iconType:"eye",displayText:a.a._("Impressions","Label for impressions of a pin on closeup page"),field:"impression",align:"start"},{iconType:"angled-pin",displayText:a.a._("Saves","Label for saves of a pin on closeup page"),field:"save",align:"center"},{iconType:"arrow-up-right",displayText:a.a._("Link clicks","Label for click-throughs of a pin on closeup page"),field:"clickthrough",iconSize:10,align:"end"}],l in i?Object.defineProperty(i,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):i[l]=c,n}var n,o,f;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,e),n=t,(o=[{key:"renderValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"COUNT";return Number.isInteger(e)?"TIME"===t?Object(i.a)(e):r.a.createElement(l.a,{value:e,shortform:!0,shortformMaximumFractionDigits:1}):"-"}},{key:"render",value:function(){var e=this,t=this.props,n=t.isVideo,o=t.stats,a=t.isStoryPin,i=t.show90Days;if(!o)return null;var l=i?"90d":"30d",s=(n||a)&&o.all_time?o.all_time:o[l];return s&&0!==Object.keys(s).length?r.a.createElement(c.c,{display:"flex"},this.statsList.map((function(t,n){var o=t.align,a=t.iconType,i=t.iconSize,l=void 0===i?12:i,u=t.field,d=t.displayText,p=t.valueFormat;return r.a.createElement(c.c,{key:n,column:4,display:"flex",justifyContent:o,alignItems:"center"},r.a.createElement(c.c,{display:"inlineBlock",marginRight:1},r.a.createElement(c.n,{accessibilityLabel:d,color:"darkGray",icon:a,size:l})),r.a.createElement(c.K,{inline:!0,size:"sm"},e.renderValue(s[u],p)))}))):null}}])&&u(n.prototype,o),f&&u(n,f),t}(o.Component)},4081:function(e,t,n){"use strict";var o=n("GyhR"),r=n.n(o),a=n("Ivf5"),i=n("HcgI"),l=n("+U6O");t.a=Object(a.connect)((function(e,t){var n=e.pins,o=t.pinId;return{carousel_data:n[o]&&n[o].carousel_data}}))((function(e){var t=e.carousel_data,n=e.title;if(t){var o=t.carousel_slots,a=void 0===o?[]:o,c=t.index;a[c]&&a[c].title&&(n=a[c].title)}var s=t?{height:"40px",overflow:"hidden"}:{};return r.a.createElement(l.c,{dangerouslySetInlineStyle:{__style:s},paddingY:1},r.a.createElement(l.K,{size:"sm",bold:!0},r.a.createElement(i.a,{text:n,options:{hashtags:{appendText:"".concat(n),source:"hashtag_pinrep"}}})))}))},E1Qe:function(e,t,n){"use strict";var o=n("hvnN"),r=n.n(o);t.a=r.a.shape({access:r.a.arrayOf(r.a.string),ad_match_reason:r.a.number,aggregated_pin_data:r.a.shape({aggregated_stats:r.a.shape({done:r.a.number,likes:r.a.number,saves:r.a.number}),pin_tags:r.a.arrayOf(r.a.shape({pin_tag_key:r.a.string.isRequired,x_percent:r.a.number.isRequired,y_percent:r.a.number.isRequired}))}),attribution:r.a.shape({embed:r.a.shape({src:r.a.string})}),board:r.a.shape({followed_by_me:r.a.bool,id:r.a.string,url:r.a.string,name:r.a.string}),buyable_product:r.a.shape({display_active_max_price:r.a.string,display_active_min_price:r.a.string,short_description:r.a.string,title:r.a.string}),debug_info_html:r.a.string,description:r.a.string,domain:r.a.string,dominant_color:r.a.string,done_by_me:r.a.bool,embed:r.a.shape({src:r.a.string,type:r.a.string}),id:r.a.string,images:r.a.shape({"236x":r.a.shape({url:r.a.string,height:r.a.number}),"474x":r.a.shape({url:r.a.string,height:r.a.number})}),image_signature:r.a.string,is_quick_promotable:r.a.bool,is_eligible_for_web_closeup:r.a.bool,is_native:r.a.bool,link:r.a.string,native_creator:r.a.shape({username:r.a.string,full_name:r.a.string,id:r.a.string,image_small_url:r.a.string}),per_pin_analytics:r.a.shape({clickthrough:r.a.number,closeup:r.a.number,id:r.a.string,impression:r.a.number,repin:r.a.number,total_engagement:r.a.number,type:r.a.string}),pinner:r.a.shape({explicitly_followed_by_me:r.a.bool,full_name:r.a.string,id:r.a.string,image_small_url:r.a.string}),promoter:r.a.shape({username:r.a.string,full_name:r.a.string,image_small_url:r.a.string}),recommendationReason:r.a.shape({reason:r.a.string,board:r.a.shape({id:r.a.string,name:r.a.string,url:r.a.string}),interest:r.a.shape({id:r.a.string}),pin:r.a.shape({id:r.a.string})}),repin_count:r.a.number,rich_summary:r.a.shape({display_name:r.a.string}),source_interest:r.a.shape({name:r.a.string,url_name:r.a.string,id:r.a.string}),tracked_link:r.a.string,title:r.a.string,type:r.a.string,videos:r.a.shape({}),saved:r.a.bool})},EQo2:function(e,t,n){"use strict";var o=n("GyhR"),r=n.n(o),a=n("IqQH"),i=n("PNko"),l=n.n(i),c=n("/Mjl"),s=n("+U6O");function u(e){var t=e.onError,n=e.onLoad,o=e.pin,a=o.title,i=void 0===a?"":a,l=o.dominant_color,u=o.images,d=void 0===u?{}:u,p="".concat(16/9*100,"%"),m=d["236x"].width>d["236x"].height?d["736x"]:d["236x"];return r.a.createElement(s.c,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingTop:p}}},r.a.createElement(s.c,{position:"absolute",top:!0,left:!0,width:"100%",height:"100%",dangerouslySetInlineStyle:{__style:{zIndex:c.a.storyPinImage}}},r.a.createElement(s.p,{alt:i,color:l,naturalHeight:m.height,naturalWidth:m.width,onError:t,onLoad:n,src:m.url,fit:"cover"})))}var d=n("UmN8"),p=n("3hnx");t.a=function(e){var t,n,o,i,c=e.cropProductPin,m=e.highResOnly,f=e.lowResOnly,g=e.onError,h=e.onLoad,y=e.pin,b=e.saved,v=void 0!==b&&b,w=e.animateGif,_=y.carousel_data,E=y.description,P=void 0===E?"":E,O=y.dominant_color,k=y.id,S=y.images;if(_)return r.a.createElement(a.a,{onError:g,onLoad:h,highResOnly:m,lowResOnly:f,pinId:k});if(S){var T=m&&(S["736x"]||S.orig||S["474x"])||S["236x"];o=T.height,i=T.width,t=T.url,n=f||m?"".concat(T.url," 1x"):["".concat(S["236x"].url," 1x"),S["474x"]&&"".concat(S["474x"].url," 2x"),S["736x"]&&"".concat(S["736x"].url," 3x"),S.orig&&"".concat(S.orig.url," 4x")].filter(Boolean).join(", ")}if(w){var x=Math.max(y.embed&&y.embed.width||0,236),C=Math.max(y.embed&&y.embed.height||0,236),I=y.embed?y.embed.src:"";I&&(o=C,i=x,t=I,n="")}return r.a.createElement(s.c,{minHeight:120,display:"flex",alignItems:"center"},r.a.createElement(s.c,{flex:"grow"},r.a.createElement("div",{className:l()({savedGradient:v})},y.story_pin_data_id?r.a.createElement(u,{pin:y,onError:g,onLoad:h}):r.a.createElement(d.a,{name:"web_image_loading_optimization"},(function(e){var a=e.group;return r.a.createElement(s.c,{height:c?p.a:void 0,width:c?p.b:void 0},r.a.createElement(s.p,{alt:P,color:O,fit:c?"cover":"none",naturalHeight:o,naturalWidth:i,onError:g,onLoad:h,src:t,srcSet:n,loading:a.includes("lazy")?"lazy":"auto",importance:a.includes("low")?"low":"auto"}))})))))}},FSbA:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return d}));var o,r=n("ePT2"),a=n("NoZx");function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=(i(o={},a.a.BOARD_ACTIVITY,"BoardActivityReactionResource"),i(o,a.a.BOARD_ACTIVITY_COMMENT,"BoardActivityCommentReactionResource"),o);function c(e,t){return{type:"ACTIVITY_ITEM_UPDATE_REACTION_COUNT",payload:{id:e,increment:t,reactionType:arguments.length>2&&void 0!==arguments[2]?arguments[2]:1}}}function s(e,t,n){return function(o){var l=a.c[t],c=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){i(e,t,n[t])}))}return e}({activityId:e},n);return r.a.create(l,c).callUpdate().then((function(e){var t=e.resource_response.data;return o({type:"ACTIVITY_ITEM_UPDATED",payload:{data:t}}),t}))}}function u(e,t,n,o){return function(a){if(n!==o){var i=l[t],s={activityId:e,reactionType:o},u=r.a.create(i,s);0===o?u.callDelete({showError:!1}):u.callUpdate({showError:!1}),0!==n&&a(c(e,!1,n)),0!==o&&a(c(e,!0,o))}}}function d(e,t,n,o){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return function(i){var s=l[n];if(!o&&a>0){i(c(e,!1,a)),i(c(e,!0,t));var u={activityId:e,reactionType:a},d=r.a.create(s,u),p={activityId:e,reactionType:t},m=r.a.create(s,p);d.callDelete({showError:!1}).then((function(){m.callCreate({showError:!1})}))}else{var f={activityId:e,reactionType:t},g=r.a.create(s,f);o?g.callDelete({showError:!1}):g.callCreate({showError:!1}),i(c(e,!o,t))}}}},GB3e:function(e,t,n){},"JU/q":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var o="favorited"},TRIq:function(e,t,n){"use strict";var o=n("GyhR"),r=n.n(o),a=n("HvLx"),i=n("Qo1m"),l=n("iEzj"),c=n("+U6O");t.a=l.a.makeSendShareButton((function(e){var t=e.handleSendShareFlyoutButtonClick;e.viewType;return r.a.createElement("div",{className:"pinRepSendShareFlyoutButton"},r.a.createElement(c.d,{onClick:function(e){var n=e.event;n&&n.stopPropagation&&n.stopPropagation(),Object(a.a)(t)()},text:i.a._("Send","Send a pin"),color:"gray",accessibilityLabel:i.a._("Send","Accessible label to send a pin")}))}))},VI9K:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a}));var o=function(e){return{type:"MOST_RECENT_PIN",payload:{id:e}}},r=function(e){return{type:"MOST_RECENT_PLP",payload:{plpPinId:e}}},a=function(e){return{type:"MOST_RECENT_PIN_IMAGE",payload:{image_signature:e}}}},"Ww6/":function(e,t,n){"use strict";var o=n("GyhR"),r=n.n(o),a=n("Ivf5"),i=(n("GB3e"),n("Fpqi")),l=n("PNko"),c=n.n(l),s=n("/Mjl"),u=n("+U6O");function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){var t=e.debugImpressionStarted,n=e.debugImpressionLogged,r=e.slotIndex,a=n||t?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){d(e,t,n[t])}))}return e}({},n&&!t?{opacity:.1}:{},t?{backgroundColor:"#adebad"}:{},{height:"100%",width:"100%"}):null;return o.createElement("div",{style:a},(t||n)&&o.createElement(u.c,{position:"absolute",padding:2,color:"darkGray",dangerouslySetInlineStyle:{__style:{zIndex:s.a.debugPinImpressions}}},o.createElement(u.K,{size:"xl",color:"white"},r)),e.children)}var m=n("Uc2O"),f=n("m2OL"),g=n("UgxU"),h=n("rSK6"),y=n("Qo1m"),b=n("E56J"),v=n("exzK"),w=n("iJ35"),_=n("NmHc"),E=n("hvnN"),P=n.n(E),O=n("fifU"),k=n("Mce2"),S=n("s3m5"),T=n("NoZx"),x=n("buVl"),C=n("UmN8"),I=n("nI4G"),j=n("k9eC"),B=n("lixz"),L=n("NmcB"),R=n("4OrY");function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){V(e,t,n[t])}))}return e}function F(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N=23,M=15,G=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];return r=this,a=(e=z(t)).call.apply(e,[this].concat(l)),n=!a||"object"!==D(a)&&"function"!=typeof a?U(r):a,V(U(U(n)),"state",{hovered:!1,focused:!1,active:!1}),V(U(U(n)),"handleFocus",(function(){n.setState({focused:!0})})),V(U(U(n)),"handleMouseDown",(function(){n.setState({active:!0})})),V(U(U(n)),"handleMouseUp",(function(){n.setState({active:!1})})),V(U(U(n)),"handleMouseEnter",(function(){n.setState({hovered:!0})})),V(U(U(n)),"handleMouseLeave",(function(){n.setState({active:!1,hovered:!1})})),V(U(U(n)),"renderRightArrowClickthrough",(function(){var e=n.props,t=e.backgroundColor,r=e.borderRadius,a=e.denseViewSelected,i=e.domain,l=e.textColor,c=e.maxHeight,s=a?M:N,d=Object(R.a)(i,{maxLength:s});return o.createElement(u.c,{padding:2,color:t,display:"flex",justifyContent:"between",alignItems:"center",dangerouslySetInlineStyle:{__style:{borderRadius:r}},maxHeight:c},o.createElement(u.c,{display:"flex",flex:"none"},o.createElement(u.n,{icon:"arrow-up-right",accessibilityLabel:y.a._("link","Website url link"),size:14,color:l})),o.createElement(u.c,{marginLeft:2,height:18,flex:"grow",overflow:"hidden"},o.createElement(u.K,{bold:!0,size:"sm",color:l,truncate:!0},d)))})),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.borderRadius,n=e.bottom,r=e.hoverStyle,a=e.isEligibleForWebCloseup,i=e.onClick,l=e.pinId,c=e.position,s=e.sourceUrl,d=e.paddingX;if(!s)return null;var p=this.state.hovered||this.state.focused||this.state.active?r:{};return o.createElement(u.c,{position:c,bottom:n},o.createElement(u.c,{alignItems:"end",display:"flex",justifyContent:"between",marginLeft:-1,marginRight:-1,padding:2},o.createElement(u.c,{minWidth:0,paddingX:d},!a&&o.createElement(u.c,{position:"relative",dangerouslySetInlineStyle:{__style:A({borderRadius:t},p)},onFocus:this.handleFocus,onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseUp:this.handleMouseUp},o.createElement(w.b,{external:!0,onClick:i,pinId:l,stopPropagation:!0,to:s},this.renderRightArrowClickthrough())))))}}])&&F(n.prototype,r),a&&F(n,a),t}(o.Component);V(G,"defaultProps",{textColor:"darkGray",backgroundColor:"lightGray",borderRadius:4,position:"absolute",bottom:!0,hoverStyle:{},paddingX:1});var Y=n("2YES"),K=n("FSbA"),q=n("9Y9K"),W=n("zBQm");function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Z(e,t){return(Z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){te(e,t,n[t])}))}return e}function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ne=Object(o.lazy)((function(){return n.e("NuxOneClickSaveButtonCommon").then(n.bind(null,"/zC8"))})),oe=Object(o.lazy)((function(){return Promise.all([n.e("ArticlePageDesktop~AuthHomePageDesktop~BoardPageContainerDesktop~BoardPageDesktop~BoardSectionPageDe~96007a1e"),n.e("CreateFlowSterling~PersistentOneClickSaveCommon~PinBetterSaveCommon~PinFeedbackPageDesktop~PinPersis~927303d1"),n.e("PersistentOneClickSaveCommon~PinBetterSaveCommon~PinFeedbackPageDesktop~PinPersistentOneClickSaveCom~5976c585"),n.e("PinPersistentOneClickSaveCommon"),n.e("PersistentOneClickSaveCommon")]).then(n.bind(null,"d94/"))})),re=Object(o.lazy)((function(){return Promise.all([n.e("ArticlePageDesktop~AuthHomePageDesktop~BoardPageContainerDesktop~BoardPageDesktop~BoardSectionPageDe~96007a1e"),n.e("BoardSectionPageDesktop~ExperienceBizNuxContainer~ImagesFeedPageDesktop~PinBetterSaveCommon~PinBookm~58bd55d7"),n.e("ExperienceBizNuxContainer~ImagesFeedPageDesktop~PinBetterSaveCommon~PinBookmarkletPageDesktop~PinFee~85d27636"),n.e("CreateFlowSterling~PersistentOneClickSaveCommon~PinBetterSaveCommon~PinFeedbackPageDesktop~PinPersis~927303d1"),n.e(20),n.e("PersistentOneClickSaveCommon~PinBetterSaveCommon~PinFeedbackPageDesktop~PinPersistentOneClickSaveCom~5976c585"),n.e(29),n.e("PinBetterSaveCommon")]).then(n.bind(null,"qoD0"))})),ae=Object(o.lazy)((function(){return n.e("PinPromoteButtonCommon").then(n.bind(null,"Is9E"))})),ie=Object(o.lazy)((function(){return Promise.all([n.e("ArticlePageDesktop~AuthHomePageDesktop~BoardPageContainerDesktop~BoardPageDesktop~BoardSectionPageDe~96007a1e"),n.e("CreateFlowSterling~PersistentOneClickSaveCommon~PinBetterSaveCommon~PinFeedbackPageDesktop~PinPersis~927303d1"),n.e("PersistentOneClickSaveCommon~PinBetterSaveCommon~PinFeedbackPageDesktop~PinPersistentOneClickSaveCom~5976c585"),n.e("PinRepEditButtonCommon")]).then(n.bind(null,"24KF"))})),le=Object(o.lazy)((function(){return Promise.all([n.e("ArticlePageDesktop~AuthHomePageDesktop~BoardPageContainerDesktop~BoardPageDesktop~BoardSectionPageDe~96007a1e"),n.e("BoardSectionPageDesktop~ExperienceBizNuxContainer~ImagesFeedPageDesktop~PinBetterSaveCommon~PinBookm~58bd55d7"),n.e("ExperienceBizNuxContainer~ImagesFeedPageDesktop~PinBetterSaveCommon~PinBookmarkletPageDesktop~PinFee~85d27636"),n.e("PinFeedbackPageDesktop~PinSaveButtonCommon"),n.e("PinSaveButtonCommon")]).then(n.bind(null,"odTJ"))})),ce=Object(o.lazy)((function(){return n.e("PinRepSendShareFlyoutButtonCommon").then(n.bind(null,"pi5b"))})),se=Object(o.lazy)((function(){return n.e("BoardActivityPinRepLikeButtonCommon").then(n.bind(null,"1pwd"))})),ue=function(e){var t=e.style,n=ee({},void 0===t?{}:t,{zIndex:s.a.pinActionWrapper});return r.a.createElement(u.c,Object.assign({},e,{dangerouslySetInlineStyle:{__style:n}}))},de=function(e){function t(){var e,n,o,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return o=this,r=(e=J(t)).call.apply(e,[this].concat(i)),n=!r||"object"!==X(r)&&"function"!=typeof r?$(o):r,te($($(n)),"state",{isReactionBarShowing:!1}),te($($(n)),"onToggleFlyout",(function(){var e=n.props,t=e.isFlyoutOpen;(0,e.onToggleFlyout)(!t)})),te($($(n)),"handleOnSourceImageClick",(function(){var e=n.props,t=e.imageSignature,o=e.requestContext,r=e.slotIndex;Object(B.g)(13),new j.c(o,"smb_pin_stats_from_business_profile").enabled(),n.handleClickLogging(35,{grid_index:r,image_signature:t})})),te($($(n)),"handleToggleHover",(function(e){n.props.onToggleFlyout(!1,e)})),te($($(n)),"handleToggleSubmenu",(function(e,t){n.props.onToggleFlyout(e,t,"save")})),te($($(n)),"handleDropdownClose",(function(){n.props.onToggleFlyout(!1)})),te($($(n)),"handleClickthroughLogging",(function(){var e=n.props,t=e.componentType,o=e.contextLogData,r=e.pin,a=e.slotIndex,i=e.viewType,l=e.viewParameter,c=r.id;Object(L.a)(12,ee({},o,{view:i,viewParameter:l,component:t,objectId:c,grid_index:a})),n.handleClickLogging(162)})),te($($(n)),"handleSaveButtonClick",(function(){n.handleClickLogging(0),Object(I.b)("Lead",(function(){b.a.increment("fb_tracking_pixel",1,{event_category:"Lead",event_name:"Repin Click"})}))})),te($($(n)),"handleLikeButtonClick",(function(e){var t=e.event;t&&t.stopPropagation&&(t.stopPropagation(),n.toggleReaction())})),te($($(n)),"handleLikeButtonTouch",(function(e){e&&e.stopPropagation&&(e.stopPropagation(),n.toggleReaction())})),te($($(n)),"toggleReaction",(function(){var e=n.props,t=e.boardActivity,o=e.updateReaction,r=e.reactionByMe,a=e.pin,i=0;0===r&&(i=1),o(t&&t.id||a.id,T.a.BOARD_ACTIVITY,r,i)})),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z(e,t)}(t,e),n=t,(a=[{key:"getViewInfo",value:function(){var e=this.props,t=e.viewType,n=e.showEditPinButton,o=5===t,r=2===t,a=4===t;return{isBoardView:o,isSearchView:r,isProfileView:a,isOwnProfileView:a&&n,isOwnBoardView:(o||164===t)&&n,isOwnPinSearchView:r&&n}}},{key:"cropImageStyles",value:function(){var e=this.props,t=e.imageHeight,n=e.pin,o=e.truncatePinHeight,r={},a=n.story_pin_data_id;if(n.image_crop&&o&&!a&&(0!==n.image_crop.min_y||1!==n.image_crop.max_y)){var i=n.image_crop.min_y,l=n.image_crop.max_y;r={marginTop:i>0?-1*i*t+"px":"0px",marginBottom:l<1?Math.round(-1*(1-l)*t)+"px":"0px"}}return r}},{key:"handleClickLogging",value:function(e,t){var n=this.props,o=n.componentType,r=n.contextLogData,a=n.viewParameter,i=n.viewType,l=n.pin.id;Object(L.a)(101,ee({},r,t,{component:o,view:i,viewParameter:a,element:e,objectId:l}))}},{key:"renderSendShareButton",value:function(e){var t=this,n=this.props,o=n.images,a=n.pin.id,i=n.viewType;return r.a.createElement(k.a,{id:"share-button"},r.a.createElement(O.a,null,r.a.createElement(ce,{imageSrc:o&&o["236x"].url,onClick:function(){return t.handleClickLogging(98)},onToggleFlyout:this.onToggleFlyout,onFlyoutDismiss:this.handleDropdownClose,pinId:a,sendType:"pin",shownWithinMasonry:!0,isFlyoutOpen:this.props.isFlyoutOpen,viewType:i,backgroundColor:"transparentDarkGray",iconColor:"white",iconSize:e})))}},{key:"renderEditButton",value:function(e){var t=this.props,n=t.pin,o=n.id,a=n.carousel_data,i=t.viewParameter,l=t.viewType;return r.a.createElement(k.a,{id:"edit-button"},r.a.createElement(O.a,null,r.a.createElement(ie,{component:0,pinId:o,onToggleModal:this.handleToggleHover,view:l,viewParameter:i,carouselSlotCurrentIndex:a&&a.index,style:e})))}},{key:"renderEditAndSendRow",value:function(e,t){var n={bgColor:"transparentDarkGray",iconColor:"white",size:"md"};return r.a.createElement(ue,{padding:1,position:"absolute",top:!0,left:!0,display:"flex"},e&&r.a.createElement(u.c,{padding:1},this.renderSendShareButton("md")),t&&r.a.createElement(u.c,{padding:1},this.renderEditButton(n)))}},{key:"renderPrimaryButtons",value:function(){var e=this,t=this.props,n=t.hideSaveButton,o=t.inNewUserOneTapExperiment,a=t.onSave,i=t.pin,l=t.showRepinButton,c=t.showPromoteButton,s=t.showCondensedInfo,d=t.showButtons,p=t.viewer,m=t.saveOptions,f=t.viewParameter,g=t.showClickthroughButton,h="controlled"===m.type,y=m&&"persistentOneClickSave"===m.type,v=h&&m.saved&&m.save,w=l||c,_=m&&"none"!==m.type?m.renderPinSaveTooltip:void 0;if(!(v||d&&w||_||y))return g?r.a.createElement(u.c,{position:"absolute",bottom:!0,color:"transparentDarkGray",right:!0,marginBottom:2,marginRight:2,shape:"pill"},r.a.createElement(u.c,{paddingX:3,paddingY:1},r.a.createElement(u.K,{color:"white",bold:!0,size:"xs"},"Open"))):null;if(n)return null;var E=null,P=r.a.createElement(k.a,{id:"pin-save-button"},r.a.createElement(O.a,null,r.a.createElement(le,{onClickCallback:function(){e.handleClickLogging(0),Object(I.b)("Lead",(function(){b.a.increment("fb_tracking_pixel",1,{event_category:"Lead",event_name:"Repin Click"})}))},onToggleModal:this.handleToggleHover,oneTapSave:h?m:void 0,pin:i,renderPinSaveTooltip:_})));c?E=r.a.createElement(k.a,{id:"promote-button"},r.a.createElement(O.a,null,r.a.createElement(ae,{pin:i}))):"inline"===m.type?E=r.a.createElement(k.a,{id:"better-save"},r.a.createElement(O.a,null,r.a.createElement(re,{initialSelection:m&&m.initialSelection,useMasonryFlyout:!0,onSave:function(){m&&m.onSave&&m.onSave(),a&&a()},onToggleFlyout:this.handleToggleSubmenu,onToggleModal:this.handleToggleHover,pin:i,renderPinSaveTooltip:_,viewParameter:f,renderSavedStatus:null}))):"persistentOneClickSave"===m.type?E=r.a.createElement(O.a,null,r.a.createElement(oe,{onToggleModal:this.handleToggleHover,pin:i,saveOptions:m})):(v||l&&p.isAuth)&&(E=o?r.a.createElement(k.a,{id:"nux-one-click-save"},r.a.createElement(O.a,null,r.a.createElement(ne,{onClickCallback:this.handleSaveButtonClick,pin:i}))):P),s&&(E=P);var S="inline"!==m.type||s?"auto":"100%";return r.a.createElement(ue,{padding:2,position:"absolute",top:!0,right:!0,width:S},E)}},{key:"renderGradientOverlay",value:function(e){var t=this.props.showButtons;return r.a.createElement(u.c,{position:"relative"},e,t&&r.a.createElement(u.c,{bottom:!0,left:!0,height:"100%",position:"absolute",right:!0,top:!0,width:"100%",dangerouslySetInlineStyle:{__style:{backgroundColor:"#000",opacity:.3}}}))}},{key:"renderClickThrough",value:function(e){var t=this.props,n=t.denseViewSelected,o=t.domain,a=t.isEligibleForWebCloseup,i=t.pin.id,l=t.sourceUrl;return r.a.createElement(G,{denseViewSelected:n,domain:o,isEligibleForWebCloseup:a,sourceUrl:l,pinId:i,position:e,textColor:"white",backgroundColor:"transparentDarkGray",borderRadius:20,onClick:this.handleClickthroughLogging,hoverStyle:{backgroundColor:"#333"},maxHeight:32,paddingX:0})}},{key:"renderHolisticHoverOwnPinViewCondensed",value:function(){var e=this.props,t=e.pin.id,n=e.domain,o=e.sourceUrl,a=e.showEditPinButton,i={size:"md",iconColor:"white",bgColor:"transparentDarkGray"},l=ee({pinId:t,domain:n,sourceUrl:o,bgColor:"transparentDarkGray"},i);return r.a.createElement(ue,{padding:1,width:"100%",position:"absolute",bottom:!0,left:!0,display:"flex",alignItems:"center",justifyContent:"around"},r.a.createElement(u.c,{padding:1},r.a.createElement(u.c,{width:40,height:40},r.a.createElement(_.a,Object.assign({},l,{onClick:this.handleClickthroughLogging})))),r.a.createElement(u.c,{padding:1},a&&this.renderEditButton(i)),r.a.createElement(u.c,{padding:1},this.renderSendShareButton("md")))}},{key:"renderHolisticHoverOwnPinView",value:function(){var e=this.props,t=e.showSendButton,n=e.showEditPinButton,o=e.pin.id,a=e.domain,i=e.isEligibleForWebCloseup,l=e.sourceUrl,c={iconColor:"white",bgColor:"transparentDarkGray",size:"sm"};return r.a.createElement(ue,{padding:1,position:"absolute",bottom:!0,left:!0,display:"flex",width:"100%",alignItems:"center",height:50},r.a.createElement(u.c,{width:"".concat(65,"%")},r.a.createElement(G,{domain:a,isEligibleForWebCloseup:i,sourceUrl:l,pinId:o,position:"relative",textColor:"white",backgroundColor:"transparentDarkGray",borderRadius:20,onClick:this.handleClickthroughLogging,hoverStyle:{backgroundColor:"#333"},maxHeight:32,paddingX:0})),r.a.createElement(u.c,{width:"".concat(35,"%"),display:"flex",justifyContent:"end"},n&&r.a.createElement(u.c,{padding:1},this.renderEditButton(c)),t&&r.a.createElement(u.c,{padding:1},this.renderSendShareButton("sm"))))}},{key:"renderReactionButton",value:function(e,t){var n=this,o=this.props.denseViewSelected;return r.a.createElement(k.a,{id:"board-reactions-button"},r.a.createElement(O.a,null,r.a.createElement(C.a,{name:"group_boards_reactions",activate:!1},(function(t){var a=t.anyEnabled,i=t.customActivate;return r.a.createElement(se,{pin:e,activateReactionsExperiment:i,inReactionsExperiment:a,onShowReactionsBar:function(){n.setState({isReactionBarShowing:!0})},onHideReactionsBar:function(){n.setState({isReactionBarShowing:!1})},supportsReactionBar:!o})}))))}},{key:"renderSecondaryButtons",value:function(){return this.props.showCondensedInfo?this.renderHolisticHoverOwnPinViewCondensed():this.renderHolisticHoverOwnPinView()}},{key:"renderTopButtons",value:function(){var e=this.props,t=e.pin,n=e.showReactions,a=e.showButtons,i=e.reactionByMe,l=this.state.isReactionBarShowing,c=null;if(n){var s=0!==i;if(a){var u=l?"100%":null;c=r.a.createElement(o.Fragment,null,r.a.createElement(ue,{width:u,position:"absolute",top:!0,left:!0,padding:2},this.renderReactionButton(t,i)),this.renderSecondaryButtons())}else s&&(c=r.a.createElement(ue,{position:"absolute",top:!0,left:!0,padding:2},this.renderReactionButton(t,i)))}else c=r.a.createElement(o.Fragment,null,a&&this.renderSecondaryButtons(),this.renderPrimaryButtons());return c}},{key:"render",value:function(){var e=this.props,t=e.currentlyPlayingVideo,n=e.children,a=e.isEligibleForAnalyticsCloseup,i=e.pin,l=i.carousel_data,s=i.id,d=i.videos,p=e.selection,m=e.showButtons,f=e.viewParameter,g=e.viewType,h=e.componentType,y=this.cropImageStyles(),b=!!d&&!!d.video_list,_=(d&&d.video_list&&d.video_list[Object.keys(d.video_list)[0]]||{}).duration,E=void 0===_?0:_;return r.a.createElement(u.c,{"data-test-id":l?"carousel-pin":"",position:"relative"},m&&l&&r.a.createElement(v.a,{pinId:s,componentType:h,viewParameter:f,viewType:g}),r.a.createElement(w.b,{deeplinkUrls:Object(x.m)(s),onClick:this.handleOnSourceImageClick,forceRefresh:1,extraData:{isReact:!0,reactData:this.props.pin,searchOptions:this.props.searchOptions},style:{cursor:"zoom-in",display:"block",position:"relative"},to:Object(W.b)(s,a||!1)},r.a.createElement(u.u,{shape:"rounded",wash:!0},r.a.createElement(u.c,{dangerouslySetInlineStyle:{__style:y},minHeight:55},this.renderGradientOverlay(n))),r.a.createElement(u.c,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0})),p!==ut.NO_SELECTION&&r.a.createElement("div",{className:c()("pinSelectionBorder",{selected:p===ut.SELECTED})}),r.a.createElement(o.Fragment,null,this.renderTopButtons(),m||!b||t?null:r.a.createElement(ue,{padding:2,position:"absolute",bottom:!0,left:!0,display:"flex"},r.a.createElement(S.a,{duration:E}))))}}])&&Q(n.prototype,a),i&&Q(n,i),t}(r.a.Component);te(de,"defaultProps",{onToggleFlyout:function(){},pinsBoardEditableByViewer:!1,showCondensedInfo:!1,showOnPinAnalyticsNUX:!1,showPromoteButton:!1});var pe=Object(a.connect)((function(e,t){var n=t.pin.id,o=t.boardActivity,r=e.ui.app?e.ui.app.videosAutoplaying:{organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},a=Object(W.j)(n,r),i=o&&o.id||n,l=e.activityItems[i],c=0;return l&&null!==l.reaction_by_me&&void 0!==l.reaction_by_me&&(c=l.reaction_by_me),{currentlyPlayingVideo:a,reactionByMe:c}}),(function(e,t){return{updateReaction:Object(q.bindActionCreators)(K.c,e)}}))(de),me=n("vl7u");function fe(e){var t=e.feedbackType,n=e.topic,o=e.pinner||{},a=o.full_name,i="topic"===t,l=!i&&"followed"===t,c="/".concat(o.username,"/"),s=Object(me.g)(n),d="/search/pins/?q=".concat(encodeURIComponent(s),"&rs=image_only_attribution"),p=i?d:c,m={topic:y.a._("From {topic}","attribution on pin rep"),followed:y.a._("From {pinnerName}","attribution on pin rep"),pfyBoard:y.a._("Picked for you","attribution on pin rep"),pfy:y.a._("Picked for you","attribution on pin rep")}[t];if(!m)return null;if(l||i){var f=0===m.indexOf("{"),g=i?n:a,h=f?m.slice(m.indexOf("}")+1):m.slice(0,m.indexOf("{"));return f?r.a.createElement(u.c,{display:"inlineBlock",marginTop:1},r.a.createElement(w.b,{to:p},r.a.createElement(u.K,{bold:!0,inline:!0,size:"xs",truncate:!0},g)),r.a.createElement(u.K,{inline:!0,size:"xs"},h)):r.a.createElement(u.c,{display:"inlineBlock",marginTop:1},r.a.createElement(u.K,{inline:!0,size:"xs"},h),r.a.createElement(w.b,{to:p},r.a.createElement(u.K,{bold:!0,inline:!0,size:"xs",truncate:!0},g)))}return r.a.createElement(u.c,{display:"inlineBlock",marginTop:1},r.a.createElement(u.K,{inline:!0,size:"xs"},m))}var ge=n("Irlq");function he(e){var t=e.pin,n=e.feedbackType,o=e.imageOnlyAttribution,a=e.isHovering,i=e.isVideo,l=e.onClickThrough,c=e.sourceUrl,s=Object(x.m)(t.id),d=t.attribution||{},p=d.author_url||d.provider_url,m=d.author_name,f=d.rich_site_name||d.provider_name,g=m?Object(ge.b)(y.a._("by {{ authorName }}","attribution on pin rep"),{authorName:m}):f,h=!g&&t.has_required_attribution_provider?t.domain:g,b=p||c,v=b&&h,_=a&&!v&&o&&!i&&!t.is_native&&"followed"!==n,E=(t.source_interest||{}).name,P="io-topic-attr-"+E;return r.a.createElement(r.a.Fragment,null,v&&r.a.createElement(u.c,{paddingY:1},r.a.createElement(u.K,{size:"sm",bold:!0},r.a.createElement(w.b,{deeplinkUrls:s,external:!0,onClick:l,pinId:t.id,stopPropagation:!0,style:{color:"#898989"},to:b},h))),o&&n&&r.a.createElement(u.c,{"data-test-id":P}),_&&n&&r.a.createElement(fe,{feedbackType:n,pinner:t.pinner,topic:E}))}var ye=n("xP02");function be(e){var t=e.avatarUrl,n=e.creditNameLink,o=e.name,a=void 0===o?"":o;return n?r.a.createElement(w.b,{className:"underlineLink",stopPropagation:!0,to:n},r.a.createElement(u.a,{name:a,src:t,size:"sm"})):r.a.createElement(u.a,{name:a,src:t,size:"sm"})}function ve(e){var t=e.name,n=e.creditNameLink;return r.a.createElement(u.c,null,n?r.a.createElement(w.b,{className:"underlineLink",stopPropagation:!0,to:n},r.a.createElement(u.K,{truncate:!0,size:"xs",bold:!0},t)):r.a.createElement(u.K,{truncate:!0,size:"xs",bold:!0},t))}function we(e){var t=e.title,n=e.link;return t?r.a.createElement(u.c,null,n?r.a.createElement(w.b,{className:"underlineLink",stopPropagation:!0,to:n},r.a.createElement(u.K,{truncate:!0,size:"xs"},t)):r.a.createElement(u.K,{truncate:!0,size:"xs"},t)):null}var _e=n("VI9K"),Ee=32,Pe=function(e){return!!e.promoter&&!e.is_downstream_promotion};var Oe=Object(a.connect)(null,(function(e){return{setMostRecentPin:function(t){return e(Object(_e.b)(t))}}}))((function(e){var t,n,o,a,i,l,c=e.hideTitle,s=e.pin,d=e.viewType,p=e.viewParameter,m=e.setMostRecentPin,f=s.board,g=s.promoter,h=s.pinner||{},b=Pe(s),v=s.promoter||h;b&&g?(t="/".concat(g.username,"/"),n=y.a._("Promoted by"),a=g.full_name,l=g.image_small_url):(t=f&&f.url,n=h.full_name,a=f&&f.name&&"protected"!==f.privacy?f.name:"",l=h.image_small_url,o="/".concat(h.username,"/"),i=f?f.url:"");var _=!b&&!!g,E=r.a.createElement(u.c,{display:"flex",direction:"row",alignItems:"center",marginLeft:-1,marginRight:-1},r.a.createElement(u.c,{paddingX:1},r.a.createElement(ye.a,{user:v,username:v&&v.username,avatarSize:Ee,isDarkPromoter:_,pinId:s.id,viewParameter:p},r.a.createElement(be,{avatarUrl:l,creditNameLink:o,name:n}))),r.a.createElement(u.c,{paddingX:1,overflow:"hidden"},r.a.createElement(ve,{creditNameLink:o,name:n}),!c&&r.a.createElement(we,{link:i,title:a})));return!t||o||i?E:r.a.createElement(w.b,{className:"underlineLink",stopPropagation:!0,onClick:function(){m(s.id),Object(L.a)(101,{view:d,viewParameter:p,element:b?283:27,objectId:s.id})},to:t},E)})),ke=Object(o.lazy)((function(){return n.e("BoardActivityPinRepReactionsCommon").then(n.bind(null,"sB4Q"))})),Se=function(e){return e&&e.board_activity&&e.board_activity.id||e.id};var Te=function(e){var t=e.pin,n=e.feedbackType,o=e.hideAttribution,a=e.imageOnlyAttribution,i=e.isHovering,l=e.imageOnly,c=e.isVideo,d=e.onClickThrough,p=(e.onReactionReplyClick,e.showCredits),m=e.showPinReactionsReply,f=e.sourceUrl,g=e.viewParameter,h=e.viewType,y=t.promoter||!l&&(p||"followed"===n),b=t.board&&t.board.should_show_board_activity,v=y&&!o;("promoted"===n||t.promoter&&!t.is_downstream_promotion)&&(v=!0);var w=Se(t);return r.a.createElement(r.a.Fragment,null,r.a.createElement(he,{pin:t,feedbackType:n,imageOnlyAttribution:a,isHovering:i,isVideo:c,onClickThrough:d,sourceUrl:f}),(y||b)&&r.a.createElement(u.c,{dangerouslySetInlineStyle:{__style:{zIndex:s.a.max,position:"relative"}},paddingY:1},!b&&v&&r.a.createElement(Oe,{hideTitle:!!b,pin:t,viewParameter:g,viewType:h}),b&&r.a.createElement(u.c,{position:"relative","data-test-id":"board-activity-reactions",minHeight:16},r.a.createElement(O.a,null,r.a.createElement(ke,{pinId:t.id,activityId:w,showReply:m})))))},xe=n("HcgI"),Ce=Object(a.connect)((function(e,t){var n=e.pins,o=t.pinId;return{carousel_data:n[o]&&n[o].carousel_data}}))((function(e){var t=e.carousel_data,n=e.description;if(t){var o=t.carousel_slots,a=void 0===o?[]:o,i=t.index;a[i]&&a[i].details&&(n=a[i].details)}var l=t?{height:"39px",overflow:"hidden"}:{};return r.a.createElement(u.c,{dangerouslySetInlineStyle:{__style:l},paddingY:1},r.a.createElement(u.K,{size:"sm",bold:!0},r.a.createElement(xe.a,{text:n,options:{hashtags:{appendText:"".concat(n),source:"hashtag_pinrep"}}})))})),Ie=n("EQo2"),je=Object(a.connect)((function(e,t){var n=e.pins,o=t.pinId;return{carousel_data:n[o]&&n[o].carousel_data}}))((function(e){var t,n=e.carousel_data,o=e.pinId,a=e.sourceUrl,i=e.pinDeeplinkUrls,l=e.handleOneTapLogging,c="one-tap-desktop",s=a;if(n){var u=n.carousel_slots,d=void 0===u?[]:u,p=n.id,m=n.index;d[m]&&d[m].link&&(s=d[m].link),t={carousel_slot_id:d[m]&&d[m].id,carousel_data_id:p,carousel_slot_index:m},c+="-carousel"}return r.a.createElement(C.a,{name:"web_grid_immersive"},(function(e){var n=e.anyEnabled;return r.a.createElement(C.a,{name:"ads_desktop_whitespace_gaps"},(function(e){var a=e.anyEnabled;return r.a.createElement("div",{"data-test-id":!n&&a?"oneTapPromotedPin":"otpp"},r.a.createElement(k.a,{id:c},r.a.createElement(w.b,{auxData:t&&t,className:"oneTapNavigateLink",deeplinkUrls:i,external:!0,onClick:l,pinId:o,stopPropagation:!0,to:s})))}))}))}));function Be(e){var t,n,o=e.buyableProduct,a=e.showProductInfo,i=e.richSummary;if(!a)return null;if(o){var l=o.display_active_min_price,c=o.display_active_max_price;n=o.is_available,t=l===c?l:"".concat(l," - ").concat(c)}else if(i&&(i.products||[]).length>0){var s=i.products[0].offer_summary||{},d=s.availability;t=s.price,1===d?n=!0:2===d&&(n=!1)}return t?r.a.createElement(u.c,{display:"flex",paddingY:1},r.a.createElement(u.c,{marginRight:2},r.a.createElement(u.K,{size:"sm"},t)),void 0!==n&&r.a.createElement(u.K,{size:"sm",color:n?"darkGray":"gray"},n?y.a._("In stock","A product Pin that is available"):y.a._("Out of stock","A product Pin that is out of stock"))):null}var Le=76;var Re=function(e){var t=e.chips;return r.a.createElement(u.c,{display:"flex",direction:"row",justifyContent:"between"},t.map((function(e){var t=e.images["750x"]||{};return r.a.createElement(u.c,{marginTop:1,key:e.id},r.a.createElement(w.b,{stopPropagation:!0,to:"/pin/".concat(e.id,"/")},r.a.createElement(u.u,{shape:"rounded",width:Le,height:Le,wash:!0},r.a.createElement(u.p,{alt:"",naturalHeight:t.height,naturalWidth:t.width,src:t.url,fit:"cover"}))))})))},De=n("mnfC"),Ae=n("E1Qe"),Fe=n("19Gw"),ze=n("4081"),He=n("cNuv"),Ue=n("k3nM"),Ve=n("bUMO"),Ne=n("mcMS");function Me(e){var t=e.richSummary;return r.a.createElement(u.c,{display:"flex"},!!t.display_cook_time&&r.a.createElement(u.c,{alignItems:"center",display:"flex"},r.a.createElement(u.n,{icon:"clock",accessibilityLabel:y.a._("cooking time","time it takes to cook a recipe"),color:"darkGray",size:10,inline:!0}),r.a.createElement(u.c,{paddingX:1},r.a.createElement(u.K,{inline:!0,size:"sm"},!!t.display_cook_time&&Object(Ve.a)(Object(Ne.b)(t.display_cook_time))))))}var Ge=n("TRIq"),Ye=n("LCmp"),Ke=n("q579"),qe=n("kR61"),We=n("dmID"),Xe=n("wHKh"),Qe=n("3BJc"),Je=n("JsRk"),Ze=n("kIql"),$e=n("hCBh");function et(e){return(et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){it(e,t,n[t])}))}return e}function nt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ot(e){return(ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rt(e,t){return(rt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function at(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function it(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return ut}));var lt=Object(o.lazy)((function(){return Promise.all([n.e(10),n.e("PinFeedbackButtonCommon")]).then(n.bind(null,"w8LQ"))})),ct=Object(o.lazy)((function(){return n.e("PinFeedbackConfirmationCommon").then(n.bind(null,"+LSA"))})),st=Object(o.lazy)((function(){return Promise.resolve().then(n.bind(null,"dmID"))})),ut={NO_SELECTION:"NO_SELECTION",SELECTED:"SELECTED",UNSELECTED:"UNSELECTED"},dt=function(e){var t=e.aggregated_pin_data.creator_analytics,n=e.creator_analytics,o=e.story_pin_data_id;return!n||!!!o&&t?t:n},pt=(P.a.number,P.a.number,P.a.number,P.a.shape({}),P.a.string,P.a.bool,P.a.bool,P.a.func,P.a.shape({title:P.a.oneOfType([P.a.string,P.a.arrayOf(P.a.node)]),subTitle:P.a.oneOfType([P.a.string,P.a.arrayOf(P.a.node)])}),P.a.bool,P.a.bool,P.a.bool,P.a.bool,P.a.bool,P.a.shape({type:P.a.oneOf(["promoted","followed","topic","pfyBoard","pfy","search","newsHub","default"]).isRequired,data:P.a.shape({})}),P.a.bool,P.a.bool,P.a.func,P.a.func,Ae.a.isRequired,P.a.bool,P.a.shape({push:P.a.func.isRequired}),P.a.shape({type:P.a.oneOf(["classic","inline","controlled","persistentOneClickSave"]).isRequired}),P.a.shape({boardId:P.a.string,localPinId:P.a.string,sectionId:P.a.string,title:P.a.string,url:P.a.string}),P.a.shape({query:P.a.string.isRequired,scope:P.a.string.isRequired}),P.a.oneOf([ut.NO_SELECTION,ut.SELECTED,ut.UNSELECTED]),Y.b,P.a.bool,P.a.bool,P.a.bool,P.a.bool,P.a.number.isRequired,P.a.bool,P.a.shape({id:P.a.string,isAuth:P.a.bool,isPartner:P.a.bool,username:P.a.string}),P.a.number,P.a.number,function(e){function t(){var e,n,o,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return o=this,r=(e=ot(t)).call.apply(e,[this].concat(l)),n=!r||"object"!==et(r)&&"function"!=typeof r?at(o):r,it(at(at(n)),"state",{isHovering:!1,flyoutShown:!1,flyoutSource:"send",isNewlySaved:!1,savedInfo:n.props.savedInfo}),it(at(at(n)),"onPinRepClick",(function(e){var t=n.props,o=t.pin,r=o.id,a=o.is_promoted,i=t.requestContext,l=t.router,c=t.viewer,s=t.setCurrentVideo,u=t.videosAutoplaying,d=Object(W.b)(r,n.isEligibleForAnalyticsCloseup());Object(W.j)(r,u)&&(0===n.currentVideoCurrentTime||n.currentVideoCurrentTime)&&s({pinId:r,isPromoted:a,currentTime:n.currentVideoCurrentTime}),Object(I.b)("Lead",(function(){b.a.increment("fb_tracking_pixel",1,{event_category:"Lead",event_name:"Pin Click"})}));var p=e.target;if(p&&p.nodeName&&p.parentElement){var f=new m.b(n.context.userAgent.raw,n.context.userAgent.platform);if(f.shouldDeepLink(document.referrer,n.context.userAgent,c.isAuth))return e.preventDefault(),void f.navigateToDeepLink(n.context.unauthId,Object(x.m)(r));var g=p.parentElement,h=p.nodeName,y=g.nodeName,v=g.parentElement&&g.parentElement.nodeName;"A"!==h&&"A"!==y&&"BUTTON"!==h&&"BUTTON"!==y&&"A"!==v&&"BUTTON"!==v&&(new j.c(i,"smb_pin_stats_from_business_profile").enabled(),e.metaKey||e.ctrlKey?(e.preventDefault(),window.open(d)):l.push(d))}})),it(at(at(n)),"getComponentType",(function(){return n.props.componentType||0})),it(at(at(n)),"getSourceURL",(function(){var e=n.props.pin,t=e.link;return e.tracked_link||t})),it(at(at(n)),"getPinTypes",(function(){var e=n.props.pin,t=e.attribution,o=e.buyable_product,r=e.carousel_data,a=e.embed,i=e.is_collage_pin,l=e.is_eligible_for_web_closeup,c=e.rich_summary,s=e.videos,u=[];r&&u.push("carousel"),l&&u.push("oneTap"),Object(W.i)(s)&&u.push("video");var d=a||t&&t.embed||null;return d&&"gif"===d.type&&u.push("gif"),d&&d.src&&!d.type&&u.push("embeddedVideo"),(o||c&&"product"===c.type_name)&&u.push("product"),c&&"recipe"===c.type_name&&u.push("recipe"),i&&u.push("collage"),u})),it(at(at(n)),"feedbackHelpers",Object(h.a)({i18n:y.a,interpolateNamedTemplate:ge.b})),it(at(at(n)),"handleSave",(function(){n.setState({isHovering:!0})})),it(at(at(n)),"handleOneTapLogging",(function(){var e=n.props,t=e.contextLogData,o=e.pin.id,r=i.a.getInstance(),a=r.getViewFromContext();n.handleClickthroughLogging(!0),Object(L.a)(13,tt({},t,{closeup_navigation_type:"web_closeup",objectId:o,component:0,view:3})),r.addViewToContext(a)})),it(at(at(n)),"_getPrefetchCompletionPercent",(function(e){if(!window||!window.prefetchCompletion||!window.prefetchCompletion[e])return"0";var t=window.prefetchCompletion[e],n=t.downloadedAssets,o=t.totalAssets;return o?(n/o*100).toFixed(3).toString():"-1"})),it(at(at(n)),"handleClickthroughLogging",(function(e){var t=n.props,o=t.contextLogData,r=t.pin,a=r.id,i=r.link,l=t.slotIndex,c=t.viewType,s=t.viewParameter;Object(L.a)(12,tt({},o,{view:c,viewParameter:s,component:n.getComponentType(),objectId:a,grid_index:l,pin_id:a,prefetch_percentage_complete:e?n._getPrefetchCompletionPercent(i):null}))})),it(at(at(n)),"handleReactionReplyClick",(function(e){return function(){return n.props.router.push(e)}})),it(at(at(n)),"handleToggleFlyout",(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2?arguments[2]:void 0,r=!(!e&&!t);n.setState({flyoutShown:e,isHovering:r,flyoutSource:o})})),it(at(at(n)),"handleMouseOver",(function(){n.state.isHovering||n.setState((function(){return{isHovering:!0}}))})),it(at(at(n)),"handleMouseLeave",(function(){n.state.isHovering&&n.setState((function(){return{isHovering:!1}}))})),it(at(at(n)),"handleCurrentVideoCurrentTimeChanged",(function(e){var t=n.props,o=t.pin,r=t.videosAutoplaying,a=o.id;Object(W.j)(a,r)&&(n.currentVideoCurrentTime=e.time)})),n}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rt(e,t)}(t,e),n=t,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e.savedInfo&&t.savedInfo!==e.savedInfo?{isNewlySaved:!0,savedInfo:e.savedInfo}:null}}],(o=[{key:"getTruncatedString",value:function(e){var t=this.props.pin.is_promoted?60:50;return e&&Object(Ye.a)(e.trim(),t)||""}},{key:"getPinTitle",value:function(){var e=this.props.pin,t=e.carousel_data,n=e.title,o=e.buyable_product,r=e.rich_summary,a=r&&"mobile application"!==r.type_name;if(this.isOwnPin&&!t)return"";if(t){var i=t.carousel_slots,l=void 0===i?[]:i,c=t.index;if(l[c]&&l[c].title)return l[c].title.trim()}return this.getTruncatedString(n||a&&r.display_name||o&&o.title)}},{key:"getFeedbackType",value:function(){var e=this.props,t=e.feedback,n=e.viewParameter,o=e.pin;return this.feedbackHelpers.getFeedbackType({board:o.board,feedback:t,viewParameter:n,pin:o,pinner:o.pinner})}},{key:"isEligibleForAnalyticsCloseup",value:function(){var e=this.props,t=e.requestContext,n=e.viewParameter,o=e.viewer,r=92===n,a=43===n,i=!1;return this.isOwnPin&&o.isPartner&&!r&&!a&&(i=new j.c(t,"smb_pin_stats_from_business_profile").enabledWithNoActivation()),i}},{key:"render",value:function(){var e=this,t=this.props,n=t.boardCount,o=t.carouselIndex,a=t.contextLogData,i=t.createdAt,l=t.debugImpressionLogged,d=t.debugImpressionStarted,m=t.denseViewSelected,h=t.feedback,b=t.feedbackText,v=t.isHomefeedContextualMenuTooltipExperience,w=t.isNewOrResurrectedNonPartner,_=t.isSocialSeasonalBoard,E=t.hideAttribution,P=t.hideFeedbackButton,S=t.showCondensedInfo,T=t.showFeedbackOverlay,I=t.isShareable,B=t.hideHover,L=t.hideSaveButton,R=t.lowResOnly,D=t.highResOnly,A=t.onError,F=t.onLoad,z=t.pin,H=t.pinsBoardEditableByViewer,U=t.saveOptions,V=t.savedInfo,N=t.searchOptions,M=t.selection,G=void 0===M?ut.NO_SELECTION:M,Y=t.showImageOnly,K=t.slotIndex,q=t.truncatePinHeight,X=t.viewer,Q=t.viewParameter,J=t.viewType,Z=t.showCredits,$=t.showFeedback,ee=t.showProductInfo,te=t.showPinReactionsReply,ne=t.showPinStats,oe=t.showSavedInfo,re=t.undoAction,ae=t.undoText,ie=t.requestContext,le="boolean"==typeof Y?Y:w,ce=w,se=z.ad_match_reason,ue=z.aggregated_pin_data,de=z.board,me=z.board_activity,fe=z.buyable_product,ge=z.carousel_data,he=z.creator_analytics,ye=z.debug_info_html,be=z.description,ve=void 0===be?"":be,we=z.domain,_e=z.dominant_color,Ee=z.grid_title,Pe=z.id,ke=z.image_signature,Se=z.images,Le=z.is_quick_promotable,Ae=z.is_eligible_for_web_closeup,Ve=z.pinner,Ne=void 0===Ve?{}:Ve,Ye=z.promoted_is_removable,Qe=z.promoter,Je=z.recommendation_reason,Ze=z.rich_summary,et=z.source_interest,nt=z.category,ot=this.state,rt=ot.flyoutShown,at=ot.flyoutSource,it=ot.isHovering,pt=ot.isNewlySaved,mt=this.getSourceURL(),ft=((g.a.instance.getPlacedExperience(12)||{}).display_data||{}).lite,gt=(this.isOwnPin||this.canDelete)&&!ft,ht=!ft&&I,yt=tt({},a,Object(qe.a)(z,a)),bt=((ue||{}).aggregated_stats||{}).done,vt=(ue||{}).pin_tags_chips,wt=Se&&Se["236x"].height,_t=Se&&Se["236x"].width,Et=this.getPinTypes(),Pt=Object(W.g)(z),Ot=Object(We.getEligiblePinTypes)(Et),kt=Ot.isCarousel,St=Ot.isOneTap,Tt=Ot.isRecipe,xt=Ot.isStoryPin,Ct=Ot.isVideo,It=xt?"":this.getTruncatedString(Ee),jt=this.getPinTitle(),Bt=this.getTruncatedString(ve),Lt=le,Rt=!Lt&&"string"==typeof Ee&&!ge,Dt=!Lt&&!jt&&!Rt,At=!(Lt||!jt||Rt||_),Ft=c()("PinRep","Module","Pin","hasAttribution","summary","fullWidth",{flyoutShown:rt}),zt=Object(Xe.j)(z),Ht=Et.length>0,Ut=!St&&!kt&&Ct||Tt&&!kt&&(!z.rich_summary||!z.rich_summary.aggregate_rating||!z.rich_summary.aggregate_rating.review_count),Vt=!_&&At&&jt.length>0,Nt=!_&&Dt&&Bt.length>0,Mt=!Vt&&!Nt&&_,Gt=_&&Et.includes("gif"),Yt=X.isAuth&&X.isEmployee&&ye,Kt=0!==Object.keys(he||{}).length||0!==Object.keys(ue||{}).length&&0!==Object.keys(ue.creator_analytics||{}).length,qt=U||(!gt&&void 0!==n&&n>1?{type:"inline"}:{type:"classic"}),Wt=X.isAuth&&ht&&I&&!Mt,Xt="persistentOneClickSave"===qt.type,Qt=qt&&qt.savedInfo&&qt.savedInfo.title||"",Jt=this.getFeedbackType(),Zt=we;if(ge){var $t=o||ge.index||0,en=ge.carousel_slots,tn=void 0===en?[]:en,nn=tn[$t]&&tn[$t].link||"";Zt=(Zt=nn&&Ke.a.parse(nn).hostname)&&Zt.replace("www.","")||we}var on=z.is_native||z.promoter||!Lt&&(Z||"followed"===Jt),rn=z.board&&z.board.should_show_board_activity,an=rn&&on&&!E,ln=1===K&&!!v,cn=new j.c(ie,"px_pinstats_90_day_default_on_grid").enabled();return r.a.createElement(u.c,{position:"relative"},r.a.createElement("div",{className:Ft,onMouseOver:this.handleMouseOver,onMouseLeave:this.handleMouseLeave,"data-test-id":"pin","data-test-pin-id":z.id},V&&oe&&r.a.createElement(k.a,{id:"savedInfo"},r.a.createElement(u.c,{width:"172px",marginTop:Xt?3:2,paddingY:3,paddingX:3,position:"absolute",left:!0,top:!0,dangerouslySetInlineStyle:{__style:{zIndex:s.a.saved}}},r.a.createElement(De.a,{isNewlySaved:pt,name:Xt?Qt:V.title,url:Xt?qt&&qt.savedInfo&&qt.savedInfo.url:V.url}))),r.a.createElement(p,{debugImpressionLogged:l,debugImpressionStarted:d,slotIndex:this.props.slotIndex},r.a.createElement("div",{className:c()("pinWrapper",$&&"disableHover"),"data-test-id":"pinWrapper",onClick:this.onPinRepClick},an&&rn&&r.a.createElement(u.c,{marginBottom:2},r.a.createElement(Oe,{hideTitle:!!rn,pin:z,viewParameter:Q,viewType:J})),Ae&&r.a.createElement(je,{pinDeeplinkUrls:Object(x.m)(Pe),handleOneTapLogging:this.handleOneTapLogging,pinId:Pe,sourceUrl:mt}),r.a.createElement(C.a,{name:"web_nux_one_tap_save",isEligible:X.isAuth&&Object($e.d)({user:X,days:7})},(function(t){var n=t.anyEnabled;return r.a.createElement(pe,{boardActivity:me,buyableProduct:fe,componentType:e.getComponentType(),contextLogData:yt,denseViewSelected:m,description:ve,domain:Zt,dominantColor:_e,doneCount:bt,hideSaveButton:L,imageHeight:wt,imageSignature:ke,images:Se,imageWidth:_t,showReactions:rn,isEligibleForWebCloseup:Ae,isEligibleForAnalyticsCloseup:e.isEligibleForAnalyticsCloseup(),inNewUserOneTapExperiment:n,onSave:e.handleSave,onToggleFlyout:e.handleToggleFlyout,pin:z,pinsBoardEditableByViewer:H,pinTitle:jt,requestContext:ie,saveOptions:qt,searchOptions:N,selection:G,showButtons:!!(it&&!B||rt),showCondensedInfo:S,showEditPinButton:gt,showPromoteButton:Le,showRepinButton:!Le&&!Ye,showSendButton:Wt,slotIndex:K,sourceUrl:mt,truncatePinHeight:q,viewer:X,viewParameter:Q,viewType:J,isFlyoutOpen:rt&&"save"!==at},r.a.createElement(C.a,{name:"ads_desktop_video_ads",isEligible:Ct,activate:!1},(function(t){var n=t.anyEnabled;return!Ct||!n&&Pt?r.a.createElement(Ie.a,{lowResOnly:R,highResOnly:D,onLoad:F,onError:A,pin:z,saved:!!V,animateGif:Gt}):r.a.createElement(Ue.a,{inAdsDesktopVideoExperiment:n,isExperimentalPinRep:!1,lowResOnly:R,highResOnly:D,onLoad:F,onError:A,pin:z,saved:!!V,onTimeChange:e.handleCurrentVideoCurrentTimeChanged,viewType:J,viewParameter:Q,currentTimeFromPinRep:e.currentVideoCurrentTime})})))})),!!vt&&!S&&vt.length>=3&&r.a.createElement(Re,{chips:vt.slice(0,3)}),Mt&&r.a.createElement(u.c,{marginTop:2,marginBottom:3,width:"100%"},r.a.createElement(u.c,{width:228,margin:"auto"},r.a.createElement(Ge.a,{onFlyoutDismiss:function(){return e.handleToggleFlyout(!rt&&"save"!==at)},onToggleFlyout:function(){return e.handleToggleFlyout(!rt&&"save"!==at)},pinId:z.id,sendType:"pin",shownWithinMasonry:!0,isFlyoutOpen:rt&&"save"!==at,viewType:J}))),(!Lt||Jt)&&!S&&!Mt&&(Ht||ne||Vt||Nt||ee||i||Rt||Yt||Jt)&&r.a.createElement(u.c,{display:"flex",direction:"row",marginTop:1},r.a.createElement(u.c,{paddingX:2,flex:"grow",width:"100%"},ne&&Kt&&r.a.createElement(Fe.a,{stats:dt(z),isVideo:Ct,isStoryPin:!!z.story_pin_data_id,show90Days:cn}),i&&!Pt&&r.a.createElement(u.c,{paddingY:1},r.a.createElement(u.K,{color:"darkGray",size:"xs"},y.a.getHumanizedTimesince(i))),Ht&&!Ut&&r.a.createElement(u.c,{"data-test-id":"pin-type",minHeight:kt&&St?40:24},r.a.createElement(O.a,null,r.a.createElement(st,{componentType:0,viewParameter:Q,viewType:J,pinId:Pe,pin:z,types:Et}))),r.a.createElement(u.c,{display:"flex",justifyContent:"between"},r.a.createElement(u.c,{column:12},!!z.story_pin_data_id&&r.a.createElement(u.c,{paddingY:1},r.a.createElement(He.a,{icon:"story-pin",pinId:Pe})),r.a.createElement(Be,{buyableProduct:fe,richSummary:Ze,showProductInfo:ee}),Rt&&It.length>0&&r.a.createElement(u.c,{paddingY:1},r.a.createElement(u.K,{size:"sm",bold:!0},r.a.createElement(xe.a,{text:It,options:{hashtags:{appendText:It,source:"hashtag_pinrep"}}}))),At&&jt.length>0&&r.a.createElement(ze.a,{title:jt,pinId:Pe}),Dt&&Bt.length>0&&r.a.createElement(Ce,{description:Bt,pinId:Pe}),Tt&&r.a.createElement(Me,{richSummary:Ze}),r.a.createElement(Te,{feedbackType:Jt,hideAttribution:E,imageOnly:Lt,imageOnlyAttribution:ce,isHovering:it,isVideo:Ct,onClickThrough:this.handleClickthroughLogging,onReactionReplyClick:this.handleReactionReplyClick,pin:z,showCredits:Z,showPinReactionsReply:te,sourceUrl:mt,viewParameter:Q,viewType:J}))),Yt&&r.a.createElement(u.c,{paddingY:1},r.a.createElement("pre",null,ye))),r.a.createElement(u.c,{display:"flex",direction:"column",alignItems:"center"},!P&&Jt&&r.a.createElement(u.c,{"data-test-id":"feedback-button",display:"flex",justifyContent:"end",position:"relative",dangerouslySetInlineStyle:{__style:{zIndex:s.a.max}},width:24,height:24},r.a.createElement(O.a,null,r.a.createElement(lt,{ad_match_reason:se,bestPinImgSrc:zt,board:de,feedbackData:h&&h.data||{},feedbackType:Jt,hideDownload:Ct,isHomefeedContextualMenuTooltip:ln,pinDescription:Bt,pinTitle:jt,pinId:Pe,pinCategory:nt,pinImage:Se&&Se["236x"].url,pinner:Ne,promoter:Qe,recommendationReason:Je,reportPin:Object(f.a)({pin:z,viewParameter:Q,viewType:J}),sourceInterest:et,viewParameter:Q,viewType:J})))))))),r.a.createElement(C.a,{name:"web_homefeed_control_panel_nag",activate:!1},(function(e){var t=e.anyEnabled;return r.a.createElement(C.a,{name:"web_homefeed_control_panel_pin_feedback"},(function(e){var n=e.anyEnabled;return r.a.createElement(C.a,{name:"web_homefeed_control_contextual_menu_v2"},(function(e){var o=e.anyEnabled;return!!$&&r.a.createElement(O.a,null,r.a.createElement(ct,{feedbackText:b,feedbackType:Jt,pinId:Pe,pinImage:Se&&Se["236x"].url,undoAction:re,undoText:ae,isContextMenuV2Exp:o,isHomefeedControlPanelExp:t||n,showFeedbackOverlay:T}))}))}))})))}},{key:"canDelete",get:function(){return(this.props.pin.access||[]).includes("delete")}},{key:"isOwnPin",get:function(){return(this.props.pin.access||[]).includes("write")}}])&&nt(n.prototype,o),a&&nt(n,a),t}(r.a.Component));it(pt,"contextTypes",{unauthId:P.a.string.isRequired,userAgent:P.a.shape({platform:P.a.string.isRequired,platformVersion:P.a.arrayOf(P.a.number),raw:P.a.string.isRequired})}),it(pt,"defaultProps",{pinsBoardEditableByViewer:!1,showCondensedInfo:!1,truncatePinHeight:!0,showSavedInfo:!0});t.b=Object(q.compose)(Je.withRouter,Ze.a,Y.e,Object(a.connect)((function(e,t){var n,o=e.boards,r=e.experiences,a=e.pins,i=e.ui,l=e.viewer,c=t.pin,s=c.id,u=c.board,d=a[s],p=l.isAuth?l.boardCount:void 0,m=u&&u.id,f=o.content[m],g=f&&(f.access||[]).includes("write"),h=o.isSocialSeasonalBoard,y=void 0!==h&&h,b=l.isAuth&&(Object($e.d)({user:l})||Object($e.e)({user:l}))&&!l.isPartner;if(d){var v=d.carousel_data;n=v&&v.index}var w=r&&r.eligibleExperiences&&r.eligibleExperiences[1000116]&&501093===r.eligibleExperiences[1000116].experience_id,_=i.app?i.app.videosAutoplaying:{organicVideosAutoplaying:{},promotedVideosAutoplaying:{}};return{isSocialSeasonalBoard:y,boardCount:p,carouselIndex:n,isHomefeedContextualMenuTooltipExperience:w,feedbackText:d&&d.feedbackText,hideSaveButton:d&&d.pinner&&d.pinner.blocked_by_me,isNewOrResurrectedNonPartner:b,isShareable:!f||"secret"!==f.privacy,pinsBoardEditableByViewer:g,savedInfo:d&&d.savedInfo,showFeedback:d&&d.showFeedback,showFeedbackOverlay:d&&d.showFeedbackOverlay,undoAction:d&&d.undoAction,undoText:d&&d.undoText,videosAutoplaying:_}}),(function(e,t){return{setCurrentVideo:function(t){return e(Object(Qe.c)(t))}}})))(pt)},YvLn:function(e,t,n){},dmID:function(e,t,n){"use strict";n.r(t);var o=n("GyhR"),r=n.n(o),a=n("Ivf5"),i=n("4gpq"),l=n("cNuv"),c=n("lglE"),s=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};var u=n("/Mjl"),d=n("+U6O"),p=n("kR61");function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"getEligiblePinTypes",(function(){return f})),n.d(t,"PinType",(function(){return g}));var f=function(e){return e.reduce((function(e,t){var n,o="story-pin"===t?"StoryPin":(n=t,s(Object(c.a)(n)));return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){m(e,t,n[t])}))}return e}({},e,m({},"is".concat(o),!0))}),{isCarousel:!1,isEmbeddedVideo:!1,isGif:!1,isOneTap:!1,isProduct:!1,isRecipe:!1,isStoryPin:!1,isVideo:!1})},g=function(e){var t=e.pin,n=e.pinId,o=e.types,a=t.promoter,c=f(o),s=c.isStoryPin,m=c.isOneTap,g=c.isCarousel,h=c.isEmbeddedVideo,y=c.isRecipe,b=c.isProduct,v=c.isGif;return m?g?r.a.createElement(d.c,{paddingY:1},r.a.createElement(d.c,{position:"relative",marginBottom:2,marginLeft:2,dangerouslySetInlineStyle:{__style:{zIndex:u.a.max}}},r.a.createElement(i.a,{pinId:n,variant:"legacy"})),r.a.createElement(l.a,{text:(a||{}).full_name,icon:"arrow-up-right"})):r.a.createElement(d.c,{paddingY:1},r.a.createElement(l.a,{text:(a||{}).full_name,icon:"arrow-up-right"})):g?r.a.createElement(i.a,{pinId:n,variant:"legacy"}):v?r.a.createElement(d.c,{paddingY:1},r.a.createElement(l.a,{icon:"gif"})):h?r.a.createElement(d.c,{paddingY:1},r.a.createElement(l.a,{icon:"play"})):b?r.a.createElement(d.c,{paddingY:1},r.a.createElement(l.a,{text:Object(p.b)(t),icon:"tag"})):y?t.rich_summary&&t.rich_summary.aggregate_rating&&t.rich_summary.aggregate_rating.review_count?r.a.createElement(d.c,{paddingY:1},r.a.createElement(l.a,{text:t.rich_summary.aggregate_rating.review_count.toString(),icon:"star",rating:t.rich_summary&&t.rich_summary.aggregate_rating?t.rich_summary.aggregate_rating.rating_value:"",max_rating:t.rich_summary&&t.rich_summary.aggregate_rating?t.rich_summary.aggregate_rating.best_rating:""})):null:s?r.a.createElement(d.c,{paddingY:1},r.a.createElement(l.a,{icon:"story-pin"})):null};t.default=Object(a.connect)((function(e,t){var n=e.pins,o=t.pinId,r=t.pin;return{pin:n[o]||r}}))(g)},k3nM:function(e,t,n){"use strict";var o=n("GyhR"),r=n.n(o),a=n("Ivf5"),i=n("HW6o"),l=n("Qo1m"),c=n("EQo2"),s=n("+U6O"),u={__path:"M12 18.5A6.508 6.508 0 0 1 5.5 12c0-1.706.689-3.307 1.835-4.5H6.5a1 1 0 1 1 0-2h4.185v4.474a1 1 0 0 1-2 0V8.972A4.505 4.505 0 0 0 7.5 12c0 2.481 2.019 4.5 4.5 4.5s4.5-2.019 4.5-4.5a4.49 4.49 0 0 0-3.112-4.283 1 1 0 1 1 .615-1.902A6.482 6.482 0 0 1 18.5 12c0 3.584-2.916 6.5-6.5 6.5M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0"},d={__path:"M17.496 14.572a1 1 0 0 1-1 1h-.001a1.001 1.001 0 0 1-.999-1.001l.002-4.652-7.29 7.288a.995.995 0 0 1-.707.293.999.999 0 0 1-.707-1.707l7.293-7.29L9.428 8.5a1 1 0 0 1 .001-2h.001l8.071.005-.005 8.067zM12 0C5.373 0 0 5.373 0 12c0 6.628 5.373 12 12 12 6.628 0 12-5.372 12-12 0-6.627-5.372-12-12-12z"},p={overlay:{__style:{backgroundColor:"#000",opacity:.8}}};function m(e){var t=e.backgroundImage,n=e.naturalHeight,o=e.naturalWidth,a=e.onRestartVideo,i=e.pinTitle;e.pin;return r.a.createElement(s.p,{alt:i||l.a._("pin image","image of a pin"),naturalHeight:n,naturalWidth:o,src:t},r.a.createElement(s.c,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,dangerouslySetInlineStyle:p.overlay}),r.a.createElement(s.c,{justifyContent:"center",direction:"column",display:"flex",position:"absolute",height:"100%",width:"100%"},r.a.createElement(s.P,{shape:"rounded"},r.a.createElement(s.c,{display:"flex",justifyContent:"center",padding:2},r.a.createElement(s.n,{accessibilityLabel:l.a._("Visit site","Button when pressed goes to pin's website"),color:"white",dangerouslySetSvgPath:d,size:25}),r.a.createElement(s.c,{margin:1}),r.a.createElement(s.K,{bold:!0,color:"white",size:"lg",truncate:!0},l.a._("Visit site","Button when pressed goes to pin's website")))),r.a.createElement(s.c,{margin:3}),r.a.createElement(s.P,{shape:"rounded",onTouch:a},r.a.createElement(s.c,{display:"flex",justifyContent:"center",padding:2},r.a.createElement(s.n,{accessibilityLabel:l.a._("Watch again","Button when pressed restarts the video"),color:"white",dangerouslySetSvgPath:u,size:25}),r.a.createElement(s.c,{margin:1}),r.a.createElement(s.K,{bold:!0,color:"white",size:"lg",truncate:!0},l.a._("Watch again","Button when pressed restarts the video"))))))}var f=n("XHfN"),g=n("zBQm"),h=n("3BJc");function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],o=!0,r=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(o=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);o=!0);}catch(c){r=!0,a=c}finally{try{o||null==l.return||l.return()}finally{if(r)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var b=Object(a.connect)(void 0,(function(e,t){return{setCurrentVideo:function(t){return e(Object(h.c)(t))}}}))((function(e){var t=e.inAdsDesktopVideoExperiment,n=e.isAutoplay,a=e.currentTime,i=e.lowResOnly,u=e.highResOnly,d=e.onLoad,p=e.onError,h=e.saved,b=e.onTimeChange,v=e.isExperimentalPinRep,w=e.pin,_=e.playing,E=e.setCurrentVideo,P=e.viewType,O=e.viewParameter,k=y(Object(o.useState)(!1),2),S=k[0],T=k[1],x=y(Object(o.useState)(!0),2),C=x[0],I=x[1],j=Object(g.g)(w),B=j&&!w.is_eligible_for_web_closeup,L=v&&j&&w.is_eligible_for_web_closeup,R=!j||B||!v,D=!_;t&&(D=C,n&&_&&C&&I(!1));var A=(w.images["236x"]||{}).url,F=w.id,z=w.is_promoted,H=Object(o.useCallback)((function(e){var t=e.event;t.preventDefault(),t.stopPropagation(),E({pinId:F,isPromoted:z,currentTime:0}),T(!1)}),[]),U=Object(o.useCallback)((function(){T(L)}),[L]);if(!w.videos||!w.videos.video_list.V_HLSV4)return null;var V=w.videos.video_list.V_HLSV4||{},N=V.height,M=V.thumbnail,G=V.width,Y=V.url,K=w.videos.id,q=[{type:"video/m3u8",src:Y}];return S?r.a.createElement(s.c,null,r.a.createElement(m,{backgroundImage:A,naturalHeight:N,naturalWidth:G,pin:w,onRestartVideo:H})):D?r.a.createElement(s.c,null,r.a.createElement(c.a,{lowResOnly:i,highResOnly:u,onLoad:d,onError:p,pin:w,saved:h})):r.a.createElement(s.c,null,r.a.createElement(f.a,{contextLogData:{component:0,view:P,viewParameter:O,objectId:w.id,video_id:K},accessibilityMaximizeLabel:l.a._("Maximize","Maximize button on video"),accessibilityMinimizeLabel:l.a._("Minimize","Minimize button on video"),accessibilityMuteLabel:l.a._("Mute","Mute button on video"),accessibilityPauseLabel:l.a._("Pause","Pause button on video"),accessibilityPlayLabel:l.a._("Play","Play button on video"),accessibilityUnmuteLabel:l.a._("Unmute","Unmute button on video"),aspectRatio:G/N,captions:"",hlsConfig:{capLevelToPlayerSize:!0,startPosition:a||-1},loop:R,onTimeChange:b,playing:_,poster:A||M,src:q,volume:0,onEnded:U}))}));function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=Object(i.a)(b),S=function(e){function t(){var e,n,o,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return o=this,r=(e=_(t)).call.apply(e,[this].concat(i)),n=!r||"object"!==v(r)&&"function"!=typeof r?P(o):r,O(P(P(n)),"handleVisibilityChanged",(function(e){var t=n.props,o=t.currentTimeFromPinRep,r=t.pin,a=t.setCurrentVideo,i=t.pauseAutoplay,l=t.videosAutoplaying,c=r.id,s=r.is_promoted,u=Object(g.c)(c,l),d=Object(g.j)(c,l),p=Object(g.a)(c,l);e?s?a({pinId:c,isPromoted:s,currentTime:u||o||n.currentVideoCurrentTime}):p&&a({pinId:c,isPromoted:s,currentTime:u||o||n.currentVideoCurrentTime}):!e&&d&&i({pinId:c,isPromoted:s,currentTime:o||n.currentVideoCurrentTime})})),O(P(P(n)),"handleVideoTimeChange",(function(e){var t=n.props,o=t.pin,r=t.onTimeChange,a=t.videosAutoplaying,i=o.id;Object(g.j)(i,a)&&(n.currentVideoCurrentTime=e.time),r&&r(e)})),n}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,e),n=t,(o=[{key:"componentDidMount",value:function(){this.props.onLoad&&this.props.onLoad()}},{key:"componentDidUpdate",value:function(e){var t=e.appInFocus,n=this.props,o=n.appInFocus,r=n.currentTimeFromPinRep,a=n.pauseAutoplay,i=n.pin,l=n.setCurrentVideo,c=n.videosAutoplaying,s=i.id,u=i.is_promoted,d=Object(g.j)(s,c),p=Object(g.c)(s,c);o!==t&&!o&&d?(this.pausedDueToBrowserOutOfFocus=!0,a({pinId:s,isPromoted:u,currentTime:r||this.currentVideoCurrentTime})):this.pausedDueToBrowserOutOfFocus&&o&&(this.pausedDueToBrowserOutOfFocus=!1,l({pinId:s,isPromoted:u,currentTime:p||r||this.currentVideoCurrentTime}))}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.currentTimeFromPinRep,n=e.pauseAutoplay,o=e.pin,r=e.videosAutoplaying,a=o.id,i=o.is_promoted;Object(g.j)(a,r)&&n({pinId:a,isPromoted:i,currentTime:t||this.currentVideoCurrentTime})}},{key:"render",value:function(){var e=this.props,t=e.isAutoplay,n=e.pin,o=e.videosAutoplaying,a=e.viewParameter,i=e.viewType,l=e.highResOnly,c=e.lowResOnly,s=e.onError,u=e.onLoad,d=e.saved,p=e.inAdsDesktopVideoExperiment,m=e.isExperimentalPinRep,f=n.id,h=Object(g.c)(f,o),y=Object(g.j)(f,o)&&t;return r.a.createElement(k,{currentTime:h,inAdsDesktopVideoExperiment:p,isAutoplay:t,viewParameter:a,viewType:i,onTimeChange:this.handleVideoTimeChange,onVisibilityChanged:this.handleVisibilityChanged,pin:n,playing:y,trackFullVisible:!1,highResOnly:l,lowResOnly:c,onError:s,onLoad:u,saved:d,isExperimentalPinRep:m})}}])&&w(n.prototype,o),a&&w(n,a),t}(r.a.Component);t.a=Object(a.connect)((function(e,t){return{appInFocus:e.ui.app.appInFocus,isAutoplay:e.ui.app.isAutoplay,videosAutoplaying:e.ui.app?e.ui.app.videosAutoplaying:{organicVideosAutoplaying:{},promotedVideosAutoplaying:{}}}}),(function(e,t){return{pauseAutoplay:function(t){return e(Object(h.a)(t))},setCurrentVideo:function(t){return e(Object(h.c)(t))}}}))(S)},mnfC:function(e,t,n){"use strict";var o=n("GyhR"),r=n.n(o),a=(n("YvLn"),n("PNko")),i=n.n(a),l=n("Qo1m"),c=n("iJ35"),s=n("+U6O");function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var g={color:"white",size:"xl"},h=function(e){function t(){var e,n,o,r,a,i,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,s=new Array(c),d=0;d<c;d++)s[d]=arguments[d];return o=this,n=!(r=(e=p(t)).call.apply(e,[this].concat(s)))||"object"!==u(r)&&"function"!=typeof r?f(o):r,a=f(f(n)),l={showBoardName:!1},(i="state")in a?Object.defineProperty(a,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[i]=l,n}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,e),n=t,(o=[{key:"componentDidMount",value:function(){var e=this;this.timer=setTimeout((function(){e.setState({showBoardName:!0})}),950)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"render",value:function(){var e,t,n=this.state.showBoardName,o=this.props,a=o.isNewlySaved,u=o.name,d=o.url;if(a&&!n)e=r.a.createElement(s.K,g,l.a._("Saved!","Indication that a pin has been saved"));else{var p=r.a.createElement(s.K,Object.assign({},g,{bold:!0,truncate:!0}),u);e=d?r.a.createElement(c.b,{to:d},p):p}return a&&(t=n?"board":"saved"),r.a.createElement("div",{"data-test-id":"savedInfo",className:i()("SavedAnimation",t)},e)}}])&&d(n.prototype,o),a&&d(n,a),t}(r.a.Component);t.a=h},nI4G:function(e,t,n){"use strict";function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;if(window._sendFacebookPixel)"NewOrRezUsers"===e||"MAU"===e?window._sendFacebookPixel("trackCustom",e):window._sendFacebookPixel("track",e),t();else if(n>0){var r=Math.floor(3e3/n);setTimeout((function(){o(e,t,n-1)}),r)}}function r(e,t){return function(n){o(e,t),window.removeEventListener("load",r)}}function a(e,t){"complete"===document.readyState?o(e,t):window.addEventListener("load",r(e,t))}function i(){document.getElementById("facebookPixel")||("complete"===document.readyState&&function(){var e=function(e){var t=document.createElement("iframe");for(var n in e)t.setAttribute(n,e[n]);return t}({src:"https://"+location.hostname+"/fb.html",id:"facebookPixel",sandbox:"allow-scripts allow-same-origin",style:"display: none;"});if(!document.body)throw new Error("missing <body>");document.body.appendChild(e),e.contentWindow.addEventListener("load",(function(){return window._sendFacebookPixel=e.contentWindow.fbq}))}(),window.addEventListener("load",i))}n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}))},rSK6:function(e,t,n){"use strict";var o=n("QJ2d"),r=n("JU/q");function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=function(e){return e.length>32?"".concat(e.substring(0,32).trim(),"..."):e};t.a=function(e){var t=e.i18n,n=e.interpolateNamedTemplate,l=e.isContextMenuV2Exp;return{getLearnMoreUrl:function(e){switch(e){case 1:return o.a.settings.HELP_PROMOTED_PINS_RETARGETED_PIN_URL;case 2:case 3:return o.a.settings.HELP_PROMOTED_PINS_LOOKALIKE_TARGETING_URL;default:return o.a.settings.HELP_PROMOTED_PINS_URL}},getRecommendationDescription:function(e){var o=e.ad_match_reason,r=e.board,a=e.feedbackType,c=e.makeNavigateLink,s=e.pinner,u=e.promoter,d=e.recommendationReason,p=e.sourceInterest;switch(a){case"pfy":return l?t._("This Pin was inspired by your recent activity","Pin feedback reason"):t._("This Pin is inspired by your recent activity.","Pin feedback reason");case"pfyBoard":var m=d.board,f=m.name,g=c("navigation",m.url,f);return n(l?t._("This Pin was inspired by your board {{ boardLink }}","Pin feedback - inspired by your board"):t._("This Pin is inspired by your board {{ boardLink }}.","Pin feedback - inspired by your board"),{boardLink:g});case"topic":var h=p.name,y=p.url_name,b=c("topicUrl","/topics/".concat(y),h);return n(l?t._("This Pin was inspired by {{ formattedTopic }}","Pin feedback"):t._("Youre seeing this Pin because you follow the Topic {{ formattedTopic }}.","Pin feedback"),{formattedTopic:b});case"followed":var v="/".concat(s.username),w=c("boardUrl",r.url,i(r.name)),_=c("pinnerUrl",v,i(s.full_name));return l?s.explicitly_followed_by_me?n(t._("This Pin is from {{ formattedPinner }}, a profile you follow","Pin feedback"),{formattedPinner:_}):n(t._("This Pin is from {{ formattedBoard }}, a board you follow","Pin feedback"),{formattedBoard:w}):s.explicitly_followed_by_me?n(t._("Youre seeing this Pin because you follow {{ formattedPinner }}s Board {{ formattedBoard }}.","Pin feedback"),{formattedPinner:_,formattedBoard:w}):n(t._("Youre seeing this Pin because you follow the Board {{ formattedBoard }}.","Pin feedback"),{formattedBoard:w});case"promoted":switch(o){case 1:case 2:case 3:return l?t._("This ad was personalized for you using info from one of our partners","Pin feedback"):t._("This ad was personalized for you using info from one of our partners.","Pin feedback");default:var E=u.full_name,P=u.username,O=c("promotedLink",P?"/"+P+"/":"/",E);return n(l?t._("{{ promoterLink }} paid to have this Pin show up where\n                youd be more likely to notice it","Pin feedback"):t._("{{ promoterLink }} paid to have this Pin show up where\n                youd be more likely to notice it.","Pin feedback"),{promoterLink:O})}default:return null}},getFeedbackType:function(e){var t=e.board,n=e.feedback,o=e.viewParameter,r=e.pin,a=r.promoter,i=r.is_downstream_promotion,l=r.recommendation_reason,c=e.pinner,s=n&&n.type;return a&&!i?"promoted":s||(l?"FOLLOWED_INTEREST"===l.reason?"topic":l.board?"pfyBoard":"pfy":t&&t.followed_by_me||c&&c.explicitly_followed_by_me?"followed":140===o||144===o||141===o||145===o||139===o||3173===o?"related":92===o?"default":3082===o?"newsHub":null)},getHidePinAction:function(e){var t,n,o=e.feedbackData,r=e.feedbackType,i=e.pinId,l=e.recommendationReasonId,c=e.pinFeedbackType,s=e.complaintReason,u=e.throughId,d="promoted"===r;switch(r){case"promoted":t="promotedComplaint";break;case"search":t="unrelatedSearchPin";break;case"related":t="relatedPinHide";break;case"newsHub":t="newsHubPinHide";break;default:t="complaint"}switch(r){case"search":n={query:o.query,pin_id:i};break;case"related":n={pin:i};break;case"newsHub":n={pinId:i,newsId:o.newsId};break;default:n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){a(e,t,n[t])}))}return e}({complaint_reason:s||0,pin_id:i},l?{recommendation_reason_id:l}:{},{feedback_type:c||1,promoted:d},u?{through_id:u}:{})}return{action:t,actionOptions:n}},getUnfollowAction:function(e){var o=e.board,a=e.feedbackType,i=e.makeNavigateLink,c=e.pinner,s=e.sourceInterest;if("topic"===a){if(s){var u=s.id,d=s.name,p=s.url_name,m=i("topicUrl","/topics/".concat(p),d,!0);return{action:"unfollowTopic",actionOptions:{interest_id:u,interest_list:r.a},title:l?"":t._("Unfollowed","Title shown when unfollowing a certain topic / pin / board"),subTitle:n(l?t._("We'll show you less Pins from {{ formattedTopic }} in the future.","Confirmation text after unfollowing a topic"):t._("Youve unfollowed {{ formattedTopic }}. You can follow it again by searching for it.","Confirmation text after unfollowing a topic"),{formattedTopic:m})}}}else if("followed"===a){var f=o||{},g=f.id,h=f.name,y=f.url,b=c.explicitly_followed_by_me,v=c.full_name,w=c.username,_="/".concat(w);if(o&&c){var E=i("boardUrl",y,h,!0),P=i("pinnerUrl",_,v,!0),O=b?n(t._("Youve unfollowed {{ formattedPinner }}s Board {{ formattedBoard }}. You can follow it again by searching for it.","Confirmation text after unfollowing a board"),{formattedPinner:P,formattedBoard:E}):n(t._("Youve unfollowed {{ formattedBoard }}. You can follow it again by searching for it.","Confirmation text after unfollowing a board"),{formattedBoard:E});return l&&(O=b?n(t._("You unfollowed {{ formattedPinner }} and wont see Pins they save anymore.","Confirmation text after unfollowing a user"),{formattedPinner:P}):n(t._("You unfollowed the board {{ formattedBoard }} and wont see Pins saved to it anymore.","Confirmation text after unfollowing a board"),{formattedBoard:E})),{action:"unfollowBoard",actionOptions:{board_id:g},title:l?"":t._("Unfollowed","Title shown when unfollowing a certain topic / pin / board"),subTitle:O}}}return null}}}},s3m5:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var o=n("GyhR"),r=n.n(o),a=n("Qo1m"),i=n("yXM0"),l=n("+U6O"),c=24;function s(e){var t=e.duration;return r.a.createElement(l.c,{alignItems:"center",color:"transparentDarkGray",display:"flex",height:c,justifyContent:"center",paddingX:2,shape:"pill"},r.a.createElement(l.n,{accessibilityLabel:a.a._("Video camera icon","Video camera indicator icon for a Pin"),color:"white",icon:"video-camera"}),r.a.createElement(l.c,{marginLeft:1},r.a.createElement(l.K,{color:"white",size:"xs",truncate:!0},Object(i.a)(t))))}},xP02:function(e,t,n){"use strict";var o=n("GyhR"),r=n.n(o),a=n("+U6O"),i=136,l={__style:{opacity:.5}};function c(e){return e.isHorizontalDesign?r.a.createElement(a.c,{height:"100%",width:"100%",display:"flex",direction:"row",position:"absolute",top:!0,left:!0},r.a.createElement(a.c,{dangerouslySetInlineStyle:l,color:"midnight",height:"100%",width:"100%",flex:"grow"}),r.a.createElement(a.c,{color:"white",width:"2px",flex:"none"}),r.a.createElement(a.c,{dangerouslySetInlineStyle:l,color:"olive",width:"100%",flex:"grow"}),r.a.createElement(a.c,{color:"white",width:"2px",flex:"none"}),r.a.createElement(a.c,{dangerouslySetInlineStyle:l,color:"maroon",width:"100%",flex:"grow"})):r.a.createElement(a.c,{height:"100%",width:"100%",display:"flex",direction:"row",position:"absolute",top:!0,left:!0},r.a.createElement(a.c,{dangerouslySetInlineStyle:l,color:"midnight",height:"100%",flex:"grow"}),r.a.createElement(a.c,{color:"white",width:"2px",flex:"none"}),r.a.createElement(a.c,{display:"flex",height:i,direction:"column",flex:"grow"},r.a.createElement(a.c,{dangerouslySetInlineStyle:l,color:"olive",width:"100%",flex:"grow"}),r.a.createElement(a.c,{color:"white",height:"2px",flex:"none"}),r.a.createElement(a.c,{dangerouslySetInlineStyle:l,color:"maroon",width:"100%",flex:"grow"})))}var s=n("Qo1m");function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function p(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y={__style:{background:"linear-gradient(0deg, rgba(0, 0, 0, 0.43) 0%, rgba(0,0,0,0) 60%)"}},b=function(e){function t(){var e,n,o,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,c=new Array(l),p=0;p<l;p++)c[p]=arguments[p];return o=this,i=(e=m(t)).call.apply(e,[this].concat(c)),n=!i||"object"!==u(i)&&"function"!=typeof i?g(o):i,h(g(g(n)),"state",{isLoaded:[!1,!1,!1],isMounted:!1}),h(g(g(n)),"getImageArray",(function(){var e=n.props,t=e.userPins,o=e.showcase,r=[];return t&&0!==t.length?(o&&0!==o.length?o&&1===o.length?r=o.filter((function(e){return"board"===e.type}))[0].images["550x"].map((function(e){return e.url})):o&&(r=o.filter((function(e){return"board"===e.type})).map((function(e){return e.image_cover_url}))):r=t.map((function(e){return(e.images["136x136"]||e.images["236x"]||e.images["736x"]).url})),r):r})),h(g(g(n)),"getImage",(function(e,t){var o={transition:"opacity 500ms",opacity:n.state.isLoaded[t]?1:0};return r.a.createElement(a.c,{dangerouslySetInlineStyle:{__style:o},color:"white",height:"100%",width:"100%"},!!e&&r.a.createElement(a.p,{naturalHeight:1,src:e,fit:"cover",alt:s.a._("user's pin","image of one of a user's pins"),naturalWidth:1,color:"lightGray",onLoad:function(){return n.handleLoad(t)}}))})),h(g(g(n)),"handleLoad",(function(e){var t=n.state,o=t.isLoaded,r=t.isMounted,a=d(o);a[e]=!0,r&&n.setState({isLoaded:a})})),n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,e),n=t,(o=[{key:"componentDidMount",value:function(){this.setState({isMounted:!0}),this.getImageArray()}},{key:"render",value:function(){var e=this.props.isHorizontalDesign,t=this.getImageArray(),n=null;return n=1===t.length?r.a.createElement(a.c,{height:"100%",display:"flex",direction:"row"},this.getImage(t[0],0)):2===t.length?r.a.createElement(a.c,{height:"100%",display:"flex",direction:"row"},this.getImage(t[0],0),r.a.createElement(a.c,{color:"white",width:"1px",flex:"none"}),this.getImage(t[1],1)):e?r.a.createElement(a.c,{height:"100%",width:"100%",display:"flex",direction:"row"},r.a.createElement(a.c,{height:"100%",width:"100%"},this.getImage(t[0],0)),r.a.createElement(a.c,{color:"white",width:"2px",flex:"none"}),r.a.createElement(a.c,{height:"100%",width:"100%"},this.getImage(t[1],1)),r.a.createElement(a.c,{color:"white",width:"2px",flex:"none"}),r.a.createElement(a.c,{height:"100%",width:"100%"},this.getImage(t[2],2))):r.a.createElement(a.c,{height:"100%",width:"100%",display:"flex",direction:"row"},r.a.createElement(a.c,{height:"100%",flex:"grow"},this.getImage(t[0],0)),r.a.createElement(a.c,{color:"white",width:"2px",flex:"none"}),r.a.createElement(a.c,{display:"flex",height:136,direction:"column",flex:"grow"},r.a.createElement(a.c,{width:"100%",flex:"grow"},this.getImage(t[1],1)),r.a.createElement(a.c,{color:"white",height:"2px",flex:"none"}),r.a.createElement(a.c,{width:"100%",flex:"grow"},this.getImage(t[2],2)))),r.a.createElement(a.c,{height:136,display:"flex",direction:"column"},r.a.createElement(a.c,{width:"100%",position:"relative",flex:"grow"},r.a.createElement(c,{isHorizontalDesign:e}),n,r.a.createElement(a.c,{dangerouslySetInlineStyle:y,height:"100%",width:"100%",position:"absolute",top:!0,left:!0})))}}])&&p(n.prototype,o),i&&p(n,i),t}(o.PureComponent),v=n("iJ35"),w=n("NmcB");function _(e,t){Object(w.a)(101,{view:e,viewParameter:t,component:13406,element:11373})}var E=function(e){var t=e.avatarUrl,n=e.isVerified,o=e.isHorizontalDesign,i=e.url,l=e.userFullName,c=e.viewParameter,s=e.viewType,u=o?80:86;return r.a.createElement(a.c,{dangerouslySetInlineStyle:{__style:{border:"2px white solid",marginTop:o?-58:-64,marginLeft:o?-6:0,zIndex:1}},display:"flex",flex:"none",shape:"circle"},r.a.createElement(a.c,{flex:"none",height:u,width:u},r.a.createElement(v.b,{onClick:_(s,c),to:i,stopPropagation:!0},r.a.createElement(a.a,{name:l,src:t,verified:n}))))},P=n("LCmp"),O=n("b7z0");function k(e){var t=e.text,n=e.singleLineMaxCharacters,o=e.isBold,a=e.isHorizontalDesign,i=e.numLines*n,l=Object(P.a)(t,i);return o?r.a.createElement(O.b,{align:a?"left":"center",overflow:"normal",size:"sm",weight:"semibold"},l):r.a.createElement(O.b,{align:a?"left":"center",overflow:"normal",size:"sm",weight:"normal",color:a?"darkGray":"gray"},l)}var S=18;function T(e){var t=e.description,n=e.domainUrl,o=e.isHorizontalDesign,i=e.userFullName,l=t||n,c={placeholder:{__style:{transition:"opacity 200ms",opacity:l?0:1}},subtitle:{__style:{transition:"opacity 200ms",opacity:l?1:0}}};return r.a.createElement(a.c,{position:"relative",width:"100%",marginTop:o?4:3,marginBottom:3,alignItems:o?"start":"center",display:"flex",direction:"column"},r.a.createElement(a.c,{height:S,width:"100%"},r.a.createElement(O.b,{align:o?"left":"center",truncate:!0,size:o?"lg":"md",weight:o?"bold":"semibold"},i)),r.a.createElement(a.c,{marginTop:2,overflow:"hidden",position:"relative",width:"100%"},r.a.createElement(a.c,{alignItems:"center",dangerouslySetInlineStyle:c.placeholder,direction:"column",display:"flex",height:"100%",left:!0,position:"absolute",top:!0,width:"100%"},r.a.createElement(a.c,{color:"lightGray",shape:"pill",width:180,flex:"grow"}),r.a.createElement(a.c,{height:6,flex:"none"}),r.a.createElement(a.c,{color:"lightGray",shape:"pill",width:140,flex:"grow"})),o&&!!n&&r.a.createElement(a.c,{dangerouslySetInlineStyle:c.subtitle,width:"100%",height:"100%",marginTop:-1},r.a.createElement(k,{numLines:2,isBold:!0,isHorizontalDesign:o,singleLineMaxCharacters:36,text:n})),o&&!!t&&r.a.createElement(a.c,{dangerouslySetInlineStyle:c.subtitle,width:"100%",height:"100%",marginTop:2},r.a.createElement(k,{isHorizontalDesign:o,numLines:2,singleLineMaxCharacters:36,text:t})),!o&&!!l&&r.a.createElement(a.c,{dangerouslySetInlineStyle:c.subtitle,width:"100%",height:"100%"},r.a.createElement(k,{isHorizontalDesign:o,numLines:2,singleLineMaxCharacters:27,text:l}))))}var x=n("Ivf5"),C=n("z/1d"),I=n("Irlq");function j(e){var t=e.followText,n=e.followerCount,o=e.isHorizontalDesign,i=e.showFollowers,l=e.userFollowed;return i?Object(I.b)(s.a._("{{ followCount }} {{ followText }}"),{followCount:r.a.createElement(a.c,{dangerouslySetInlineStyle:{__style:l?null:{opacity:.75}},"data-test-id":"followCount",display:"inlineBlock",key:"followCount",marginRight:1},r.a.createElement(O.b,{color:l?"gray":"white",size:o?"sm":"md",align:"center",weight:"semibold"},r.a.createElement(C.a,{value:n||0,shortform:!0,shortformMaximumFractionDigits:0}))),followText:r.a.createElement(a.c,{"data-test-id":"followText",display:"inlineBlock",key:"followText"},r.a.createElement(O.b,{weight:"bold",color:l?"darkGray":"white",size:o?"sm":"md",overflow:"normal",align:"center"},t))}):r.a.createElement(a.c,{"data-test-id":"followText",key:"followText"},r.a.createElement(O.b,{weight:"semibold",color:l?"darkGray":"white",size:o?"sm":"md",overflow:"normal",align:"center"},t))}var B=n("KCDi"),L=n("KsVg"),R=n("9Y9K"),D=n("Ii6Q");function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N=function(e){function t(){var e,n,o,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];return o=this,a=(e=z(t)).call.apply(e,[this].concat(l)),n=!a||"object"!==A(a)&&"function"!=typeof a?U(o):a,V(U(U(n)),"handleClick",(function(){var e=n.props,t=e.userFollowed,o=e.viewParameter,r=e.viewType;t?(n.unfollow(),Object(w.a)(46,{view:r,viewParameter:o,component:13406,element:11372})):(n.follow(),Object(w.a)(45,{view:r,viewParameter:o,component:13406,element:11372}))})),V(U(U(n)),"follow",(function(){var e=n.props;(0,e.follow)(e.id),n.showConfirmation()})),V(U(U(n)),"showConfirmation",(function(){var e=n.props,t=e.fullName,o=e.hideAllToasts,a=e.imageUrl,i=e.profileUrl,l=e.showToast;o(),l((function(e){var n=e.onHide;return r.a.createElement(B.a,{onHide:n,text:[s.a._("Now following","text that comes before a board/user name in toast"),t],href:i,imageUrl:a})}))})),V(U(U(n)),"unfollow",(function(){var e=n.props,t=e.id;(0,e.unfollow)(t)})),n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){var e=this.props,t=e.followerCount,n=e.isHorizontalDesign,o=e.showFollowerCount,i=e.userFollowed,l=o&&0!==t,c=this.props.userFollowed?s.a._("Following","User follow button"):s.a._("Follow","User follow button");return r.a.createElement(a.c,{alignItems:"center",dangerouslySetInlineStyle:{__style:{marginTop:n?"-22px":0}},display:"flex",justifyContent:"center",position:"relative"},r.a.createElement(a.P,{onTouch:this.handleClick,shape:"pill"},r.a.createElement(a.c,{alignItems:"center",color:i?"lightGray":"red",direction:"row",display:"flex",justifyContent:"center",paddingX:n?5:6,paddingY:n?3:4,shape:"pill"},r.a.createElement(j,{followerCount:t,followText:c,isHorizontalDesign:n,showFollowers:l,userFollowed:i}))))}}])&&F(n.prototype,o),i&&F(n,i),t}(o.PureComponent),M=Object(R.compose)(L.a,Object(x.connect)((function(e,t){var n=t.id,o=(e.users||{})[n];return{userFollowed:!!o&&o.explicitly_followed_by_me}}),(function(e){return{follow:function(t){return e(Object(D.a)(t))},unfollow:function(t){return e(Object(D.b)(t))}}})))(N);function G(e){var t=e.avatarUrl,n=e.description,o=e.domainUrl,i=e.followerCount,l=e.id,c=e.isCreator,s=e.isHorizontalDesign,u=e.isVerified,d=e.userFullName,p=e.username,m=e.viewParameter,f=e.viewType,g=function(e){return"/".concat(e)}(p);return r.a.createElement(a.c,{alignItems:s?"start":"center",display:"flex",direction:"column",paddingX:s?5:6,paddingY:s?3:4,marginTop:2,width:"100%"},r.a.createElement(E,{avatarUrl:t,isHorizontalDesign:s,isVerified:u,url:g,userFullName:d,viewType:f,viewParameter:m}),s&&r.a.createElement(a.c,{position:"relative",width:"100%"},r.a.createElement(a.c,{display:"flex",marginTop:-2,marginRight:-2,position:"absolute",right:!0,top:!0},r.a.createElement(M,{fullName:d,followerCount:i,id:l,imageUrl:t,isHorizontalDesign:s,profileUrl:g,showFollowerCount:c})),r.a.createElement(a.c,{width:"100%",display:"flex",left:!0,marginTop:1},r.a.createElement(T,{description:n,domainUrl:o,isHorizontalDesign:s,userFullName:d}))),!s&&r.a.createElement(a.c,{width:"100%"},r.a.createElement(T,{userFullName:d,domainUrl:o,description:n,isHorizontalDesign:s}),r.a.createElement(a.c,{width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},r.a.createElement(M,{followerCount:i,fullName:d,id:l,imageUrl:t,isHorizontalDesign:s,profileUrl:g,showFollowerCount:c}))))}var Y=n("dsfX"),K=24;function q(e){var t=e.anchor,n=e.children,o=e.isHorizontalDesign;if(!t)return null;var i=o?320:236,l=t.getBoundingClientRect(),c=l.left,s=l.top,u=l.width,d=l.height,p=c+window.pageXOffset,m=s+window.pageYOffset,f=p+u+i+K/2>window.innerWidth,g={left:f?p:p+u,top:m+d/2,zIndex:Y.a},h={borderRadius:21,boxShadow:"0 9px 26px rgba(0, 0, 0, 0.4)",left:f?-K/2-i:K/2,top:-i/2-44},y={top:-K/2,left:-K/2,fill:"white"},b=f?"M0 0 L12 12 L0 24":"M24 0 L12 12 L24 24";return r.a.createElement(a.c,{position:"absolute",dangerouslySetInlineStyle:{__style:g}},r.a.createElement(a.c,{position:"absolute",color:"white",dangerouslySetInlineStyle:{__style:h},width:i,overflow:"hidden"},n),r.a.createElement(a.c,{position:"absolute",dangerouslySetInlineStyle:{__style:y}},r.a.createElement("svg",{width:K,height:K},r.a.createElement("path",{d:b}))))}var W=n("ePT2"),X=n("IGno"),Q=n("kIql"),J=n("k9eC"),Z=n("2YES");function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){ae(e,t,n[t])}))}return e}function te(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ne(e){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oe(e,t){return(oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ie=300,le=150,ce=function(e){function t(e){var n,o,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,a=ne(t).call(this,e),n=!a||"object"!==$(a)&&"function"!=typeof a?re(o):a,ae(re(re(n)),"anchorRef",r.a.createRef()),ae(re(re(n)),"loadUser",(function(){var e=n.props.username,t=n.state.isMounted;e&&(W.a.create("UserResource",{username:e,field_set_key:"profile"}).callGet().then((function(e){t&&n.setState({detailedUser:e.resource_response.data})})),W.a.create("UserPinsResource",{username:e,page_size:3,field_set_key:"grid_item",isPrefetch:!1}).callGet().then((function(e){t&&n.setState({userPins:e.resource_response.data})})),W.a.create("ShowcaseResource",{username:e,page_size:2,isPrefetch:!1}).callGet().then((function(e){t&&n.setState({showcase:e.resource_response.data})})),t&&n.setState({isLoaded:!0}))})),ae(re(re(n)),"handleScroll",(function(){clearTimeout(n.openTimeout),n.state.isMounted&&(n.setState({isVisible:!1}),n.forceUpdate())})),ae(re(re(n)),"timeoutDismiss",(function(){n.dismissTimeout=setTimeout((function(){n.state.isMounted&&(n.setState({isHovering:!1,isVisible:!1}),clearTimeout(n.openTimeout))}),le)})),ae(re(re(n)),"handleDisplayCard",(function(){var e=n.props,t=e.isDarkPromoter,o=e.pinId,r=e.requestContext,a=e.viewParameter,i=n.state,l=i.currentPinId,c=i.isLoaded,s=i.isMounted;clearTimeout(n.openTimeout),clearTimeout(n.dismissTimeout),o&&l!==o&&n.forceUpdate(),o&&n.setState({isHovering:!0,currentPinId:o});var u=new J.b(r,"web_avatar_hover_cards_v2");156!==a&&0!==a||t||!(u.check("enabled")||u.check("enabled2_vertical")||u.check("enabled2_horizontal"))?s&&n.setState({isVisible:!1}):(c||n.loadUser(),n.openTimeout=setTimeout((function(){s&&n.setState({isVisible:!0})}),ie))})),ae(re(re(n)),"handleHideCard",(function(){n.timeoutDismiss()})),n.state={currentPinId:e.pinId,detailedUser:null,isHovering:!1,isMounted:!1,isLoaded:!1,isVisible:!1,showcase:null,user:null,userPins:null},n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oe(e,t)}(t,e),n=t,i=[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.user,o=t.detailedUser;return{user:ee({},Boolean(n)?n:{},Boolean(o)?o:{})}}}],(o=[{key:"componentDidMount",value:function(){this.setState({isMounted:!0}),window.addEventListener("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function(){this.setState({isMounted:!1}),clearTimeout(this.openTimeout),clearTimeout(this.dismissTimeout),window.removeEventListener("scroll",this.handleScroll)}},{key:"render",value:function(){var e=this.props,t=e.avatarSize,n=e.children,o=e.requestContext,i=e.username,l=e.viewer,c=e.viewParameter,s=e.viewType,u=this.state,d=u.isVisible,p=u.showcase,m=u.user,f=u.userPins,g=m||{},h=g.about,y=g.domain_url,v=g.follower_count,w=g.full_name,_=g.id,E=g.image_medium_url,P=g.show_creator_profile,O=g.verified_identity,k=l.id===_,S=!!O&&O.verified,T=new J.b(o,"web_avatar_hover_cards_v2").checkWithNoActivation("enabled2_horizontal");return r.a.createElement(a.c,{onMouseOver:this.handleDisplayCard,onFocus:this.handleDisplayCard,onMouseLeave:this.handleHideCard},r.a.createElement(a.c,{marginLeft:-2,marginRight:-2,paddingX:2,position:"relative"},r.a.createElement(a.c,{height:t,left:!0,marginLeft:2,position:"absolute",ref:this.anchorRef,top:!0,width:t}),n),!k&&!!m&&!!i&&d&&r.a.createElement(a.c,null,r.a.createElement(X.a,null,r.a.createElement(a.r,null,r.a.createElement(q,{anchor:this.anchorRef.current,isHorizontalDesign:T},r.a.createElement(a.c,{color:"white",dangerouslySetInlineStyle:{__style:{zIndex:Y.a}},onFocus:this.handleDisplayCard,onMouseOver:this.handleDisplayCard,onMouseLeave:this.handleHideCard,position:"relative",width:"100%"},r.a.createElement(a.c,{width:"100%"},r.a.createElement(b,{isHorizontalDesign:T,userPins:f,showcase:p}),r.a.createElement(G,{avatarUrl:E,description:h,domainUrl:y,followerCount:v,id:_,isCreator:P,isHorizontalDesign:T,isVerified:S,userFullName:w,username:i,viewParameter:c,viewType:s}))))))))}}])&&te(n.prototype,o),i&&te(n,i),t}(o.PureComponent);t.a=Object(R.compose)(Z.e,Q.a)(ce)}}]);
//# sourceMappingURL=pjs-9-74d89f83dcc07a2ee4bd.js.map
