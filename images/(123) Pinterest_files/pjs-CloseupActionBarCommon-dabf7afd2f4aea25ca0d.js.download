(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["CloseupActionBarCommon"],{Oj1G:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("GyhR"),o=n.n(r),i=n("iz36"),a=n("+U6O");function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var f=function(e){function t(){var e,n,r,o,i,a,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,f=new Array(s),m=0;m<s;m++)f[m]=arguments[m];return r=this,n=!(o=(e=u(t)).call.apply(e,[this].concat(f)))||"object"!==c(o)&&"function"!=typeof o?p(r):o,i=p(p(n)),l={paused:!1,showPulsar:!1},(a="state")in i?Object.defineProperty(i,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[a]=l,n}var n,r,f;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.mountPulsar(),this.props.onSendExperienceMount&&this.experience&&this.props.onSendExperienceMount(this.experience)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"mountPulsar",value:function(){this.experience&&this.experience.display_data.has_pulsar&&this.setState({showPulsar:!0})}},{key:"renderPulsar",value:function(){var e=this.props.anchor,t=this.state.paused;if(!e)return null;var n=e.getBoundingClientRect(),r=-(68+n.height/2),i=-(68-n.width/2);return o.a.createElement(a.c,{dangerouslySetInlineStyle:{__style:{position:"absolute",zIndex:1,marginTop:r,marginLeft:i,cursor:"pointer",pointerEvents:"none"}}},o.a.createElement(a.A,{paused:t}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.anchor,r=t.experienceIds,c=t.flyoutSize,l=t.idealDirection,u=t.placementId,s=t.shouldTimeoutDismiss,p=t.textOverflow,f=this.state.showPulsar;return o.a.createElement(i.a,{experienceIds:r,placementId:u,type:8},(function(t){var r=t.complete,i=t.dismiss,u=t.display_data;return e.experience=t,u.has_pulsar||u.has_tooltip?(s&&u.disappearTime&&u.disappearTime>0&&(e.timer=setTimeout((function(){return i(),null}),u.disappearTime)),o.a.createElement(a.c,{dangerouslySetInlineStyle:{__style:{zIndex:10}}},f&&e.renderPulsar(),u.has_tooltip&&(!u.has_pulsar||e.state.paused)&&o.a.createElement(a.k,{anchor:n,color:"blue",idealDirection:l||"down",onDismiss:function(){},shouldFocus:!1,size:c},o.a.createElement(a.c,{column:12,padding:3},o.a.createElement(a.K,{bold:!0,color:"white",size:"lg",overflow:p},u.text))))):(r(),null)}))}}])&&l(n.prototype,r),f&&l(n,f),t}(o.a.Component)},g5uw:function(e,t,n){"use strict";n.r(t),n.d(t,"CloseupActionBar",(function(){return P}));var r=n("GyhR"),o=n.n(r),i=n("zPDt"),a=n("tI50"),c=n("m2OL"),l=n("Oj1G"),u=n("f3vW"),s=n("/O0m"),p=n("fifU"),f=n("iN5V"),m=n("OtLr"),d=n("+U6O"),y=n("UmN8"),b=n("wHKh"),h=n("z/cr"),E=n("cemY");function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=Object(r.lazy)((function(){return n.e("SecondarySendButtonCommon").then(n.bind(null,"ieLn"))})),P=function(e){function t(e){var n,i,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=this,a=_(t).call(this,e),n=!a||"object"!==v(a)&&"function"!=typeof a?O(i):a,S(O(O(n)),"sendExperienceComplete",(function(){})),S(O(O(n)),"handleExternalSend",(function(){n.sendExperienceComplete()})),S(O(O(n)),"onSendExperienceMount",(function(e){e&&e.complete&&500946===e.experience_id&&(n.sendExperienceComplete=e.complete)})),S(O(O(n)),"promoteButtonRef",Object(r.createRef)()),S(O(O(n)),"renderPinActionDropdown",(function(){var e,t=n.props,r=t.inChangeTitlesExp,i=t.pin,a=t.usePortal,l=t.viewParameter,p=Object(u.a)(i,r),f=p.pinTitle,m=p.pinDescription,y=p.pinCategory,h=Object(E.k)({pin:i}),v=!!(Object(E.n)(h)||{}).video;i.images&&(e=i.embed&&"gif"===i.embed.type?i.embed.src:i.images["736x"]&&i.images["736x"].url);var g=Object(b.j)(i);return o.a.createElement(d.c,{"data-test-id":"pin-action-bar"},o.a.createElement(s.a,{bestPinImgSrc:g,bgColor:"transparent",hideDownload:v,iconColor:"gray",iconSize:"md",pinCategory:y,pinDescription:m,pinId:i.id,pinImgSrc:e,pinTitle:f,reportPin:Object(c.a)({pin:i,viewParameter:l,viewType:3}),usePortal:a}))})),n.sendButtonTooltipRef=o.a.createRef(),n}var n,m,P;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,e),n=t,(m=[{key:"render",value:function(){var e=this,t=this.props,n=t.editable,r=t.gridDescription,c=t.hidePromoteButton,u=t.hideButtons,s=t.imageSrc,m=t.isFlyoutOpen,b=t.isOnSecretBoard,E=t.onEditSubmit,v=t.onFlyoutDismiss,g=t.onToggleFlyout,_=t.pin,w=t.promotedIsRemovable,O=t.saveButton,S=t.shareButtonRef,P=t.viewParameter,j=t.promoteButton,C=!w&&o.a.createElement(d.c,{marginStart:3},O),T=null;if(c)T=null;else if(j)T=o.a.createElement(o.a.Fragment,null,o.a.createElement(d.c,{ref:this.promoteButtonRef},j),o.a.createElement(l.a,{experienceIds:[501121],idealDirection:"down",placementId:12,anchor:this.promoteButtonRef.current,flyoutSize:"lg"}));else if(_.is_quick_promotable){var D=Object(f.a)(".partnerCloseupPromoteButton")(a.a);T=o.a.createElement(d.c,{"data-test-id":"closeupPromoteButtonWithPulsar"},o.a.createElement(D,{buttonType:"icon",pin:_}))}var B=b?null:o.a.createElement(p.a,null,o.a.createElement(d.c,null,o.a.createElement("div",{ref:this.sendButtonTooltipRef},o.a.createElement(x,{buttonType:"icon",gridDescription:r,imageSrc:s,isFlyoutOpen:m,onExternalSend:this.handleExternalSend,onFlyoutDismiss:v,onToggleFlyout:g,pinId:_.id,sendType:"pin",shareButtonRef:S})),O&&!m&&o.a.createElement(l.a,{experienceIds:[500946],placementId:12,anchor:this.sendButtonTooltipRef.current,onSendExperienceMount:this.onSendExperienceMount}))),I=o.a.createElement(y.a,{isEligible:u,name:"web_align_pin_action_bar_fpe"},(function(t){var r=t.anyEnabled;return o.a.createElement(d.c,{display:"flex",color:"white",justifyContent:u&&r?"end":"between",shape:"rounded",maxWidth:h.k},!u&&o.a.createElement(d.c,{display:"flex"},n&&o.a.createElement(d.c,{marginEnd:1},o.a.createElement(i.b,{carouselSlotCurrentIndex:_&&_.carousel_data&&_.carousel_data.index,pinId:_.id,onSubmit:E,view:3,viewParameter:P})),e.renderPinActionDropdown()),o.a.createElement(d.c,{alignItems:"center",display:"flex"},B,T))}));return o.a.createElement(o.a.Fragment,null,o.a.createElement(d.c,{display:"flex",justifyContent:"between"},I,C))}}])&&g(n.prototype,m),P&&g(n,P),t}(o.a.Component);t.default=Object(m.a)(P)}}]);
//# sourceMappingURL=pjs-CloseupActionBarCommon-dabf7afd2f4aea25ca0d.js.map
