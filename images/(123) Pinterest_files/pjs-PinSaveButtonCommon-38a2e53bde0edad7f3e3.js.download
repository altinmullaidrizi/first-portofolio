(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["PinSaveButtonCommon"],{"3Wjl":function(e,r,t){"use strict";function n(e){return{type:"UPDATE_USER_PIN_COUNT",payload:e}}function o(e){return{type:"UPDATE_USER_SCHEDULED_PIN_COUNT",payload:e}}function a(e,r){return{type:"UPDATE_USER_SOCIAL_NETWORK",payload:{socialNetworkName:e,connected:r}}}t.d(r,"a",(function(){return n})),t.d(r,"b",(function(){return o})),t.d(r,"c",(function(){return a}))},CAUj:function(e,r,t){"use strict";t.d(r,"e",(function(){return o})),t.d(r,"f",(function(){return a})),t.d(r,"d",(function(){return c})),t.d(r,"c",(function(){return i})),t.d(r,"a",(function(){return u})),t.d(r,"b",(function(){return s}));var n=t("7Iyi"),o=function(e,r){return function(t){return t(Object(n.a)("BoardResource",{board_id:e,field_set_key:r}))}},a=function(e){return o(e,"pin_count")},c=function(e){return{type:"BOARD_PIN_COUNT_CHANGED",payload:e}},i=function(e){return{type:"BOARD_INVITE_ACCEPTED_BY_VIEWER",payload:{boardId:e}}},u=function(e,r){return{type:"BOARD_COVER_IMAGE_UPDATED",payload:{boardId:e,coverPin:r}}},s=function(e){return{type:"BOARD_DISABLE_MORE_IDEAS_BADGING",payload:{boardId:e}}}},SMmS:function(e,r,t){"use strict";t.d(r,"a",(function(){return g})),t.d(r,"c",(function(){return w}));var n=t("GyhR"),o=t("Ivf5"),a=t("jlBG"),c=t("E56J"),i=(t("hvnN"),t("7Iyi"));function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function d(e){return function(e){if(Array.isArray(e)){for(var r=0,t=new Array(e.length);r<e.length;r++)t[r]=e[r];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function l(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){m(e,r,t[r])}))}return e}function f(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function p(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(e,r,t){return r&&p(e.prototype,r),t&&p(e,t),e}function _(e,r){return!r||"object"!==u(r)&&"function"!=typeof r?O(e):r}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&h(e,r)}function h(e,r){return(h=Object.setPrototypeOf||function(e,r){return e.__proto__=r,e})(e,r)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var E=function(e,r){return JSON.stringify(e)===JSON.stringify(r)};function g(e,r){return Object(a.a)("function"==typeof e?e(r):e||{})}var D=function(e){var r={};return function(e){return function(t,n){var o,a=t.resources,i=a.fetching,u=a.data,s=e.some((function(e){var r=e.name,t=e.options;return i[r]&&i[r][g(t,n)]})),d={},l=[];e.forEach((function(e){var t=e.name,a=e.options,i=e.key;if(u[t]){var s=g(a,n);if(r[t]||(s in u[t]?c.a.increment("webapp.withResource.cache-hit",.05,{resource:t,cache_size:Object.keys(u[t]).length,level:"success",v:1}):Object.keys(u[t]).length?c.a.increment("webapp.withResource.populated-cache-miss",.05,{resource:t,cache_size:Object.keys(u[t]).length,level:"error",v:1,xFoundKeys:JSON.stringify(Object.keys(u[t])),xExpectedKey:s}):c.a.increment("webapp.withResource.empty-cache-miss",.05,{resource:t,cache_size:Object.keys(u[t]).length,level:"warn",v:1,xFoundKeys:null,xExpectedKey:s})),r[t]=!0,u[t][s]){var f=u[t][s],p=f.data,y=f.nextBookmark,_=f.error;d[i]=p,l.push(y),_&&(o=_)}}else c.a.increment("webapp.withResource.no-cache",.05,{resource:t,cache_size:0,level:"error",v:1})}));var f=e.every((function(e){var r=e.key;return void 0!==d[r]}));return{resourceLoaded:f,isAtEnd:f&&!s&&l.every((function(e){return"-end-"===e})),isFetching:s,nextBookmark:l[0],resourceData:d,error:o}}}},A=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(t){var o,a;return a=o=function(o){function a(){var t,n;f(this,a);for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];return m(O(O(n=_(this,(t=b(a)).call.apply(t,[this].concat(c))))),"loadData",(function(t){var n=r;e.forEach((function(e){var r=e.options,o=e.name,a="function"==typeof r?r(t):r;t.dispatch(Object(i.a)(o,a,void 0,void 0,n.traceLoggerHandlerName))}))})),m(O(O(n)),"loadMoreData",(function(t){var n=r;e.forEach((function(e){var r=e.options,o=e.name,a="function"==typeof r?r(t):r;t.dispatch(Object(i.d)(o,a,void 0,void 0,n.traceLoggerHandlerName))}))})),m(O(O(n)),"resourcesHash",JSON.stringify(e.map((function(e){return l({},e,{options:g(e.options,n.props)})})))),n}return v(a,o),y(a,[{key:"componentDidMount",value:function(){!1!==r.allowStale&&this.props.resourceLoaded||this.loadData(this.props)}},{key:"shouldComponentUpdate",value:function(e){var r=d(Object.keys(this.props)).concat(d(Object.keys(e))),t=!0,n=!1,o=void 0;try{for(var a,c=r[Symbol.iterator]();!(t=(a=c.next()).done);t=!0){var i=a.value;if("resourceData"===i){if(!E(this.props.resourceData,e.resourceData))return!0}else if(this.props[i]!==e[i])return!0}}catch(u){n=!0,o=u}finally{try{t||null==c.return||c.return()}finally{if(n)throw o}}return!1}},{key:"UNSAFE_componentWillUpdate",value:function(r){!this.props.resourceLoaded&&r.resourceLoaded&&this.props.onResourceLoaded&&this.props.onResourceLoaded(),!this.props.error&&r.error&&this.props.onResourceError&&this.props.onResourceError(r.error);var t=JSON.stringify(e.map((function(e){return l({},e,{options:g(e.options,r)})})));this.resourcesHash!==t&&(this.loadData(r),this.resourcesHash=t)}},{key:"render",value:function(){var e=this,r=this.props,o=r.error,a=r.isAtEnd,c=r.isFetching,i=r.resourceData,u=r.resourceLoaded,d=s(r,["error","isAtEnd","isFetching","resourceData","resourceLoaded"]);return delete d.onResourceError,delete d.onResourceLoaded,n.createElement(t,Object.assign({},i,d,{error:o,fetchMoreData:function(){return e.loadMoreData(e.props)},isAtEnd:a,isFetching:c,refreshData:function(){return e.loadData(e.props)},resourceLoaded:u}))}}]),a}(n.Component),m(o,"WrappedComponent",t),m(o,"displayName",1===e.length?e[0].name:"".concat(e.length," resources")),a}},S=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(t){var n={name:e.name,options:e.options||{},key:e.key||"data"};return Object(o.connect)(D()([n]))(A([n],r)(t))}};r.b=S;var j=function(e){var r=e.name,t=e.options;return function(e,n){var o=e.resources.data;if(o[r]){var a=g(t,n);if(o[r][a])return{data:o[r][a].data}}return{data:null}}};function w(e){var r=e.name,t=e.options;return Object(o.connect)(j({name:r,options:t||{}}))}},cjc9:function(e,r,t){"use strict";function n(e){return{type:"FEED_ITEMS_ADDED",payload:e}}t.d(r,"a",(function(){return n}))},evwu:function(e,r,t){"use strict";t.d(r,"b",(function(){return b})),t.d(r,"h",(function(){return v})),t.d(r,"f",(function(){return h})),t.d(r,"d",(function(){return O})),t.d(r,"l",(function(){return m})),t.d(r,"g",(function(){return g})),t.d(r,"c",(function(){return D})),t.d(r,"a",(function(){return A})),t.d(r,"k",(function(){return S})),t.d(r,"i",(function(){return j})),t.d(r,"j",(function(){return w})),t.d(r,"e",(function(){return R}));var n=t("UhjI"),o=t("wCwf"),a=t("E56J"),c=t("ePT2"),i=t("eB/M"),u=t("j/DJ"),s=t("3Wjl"),d=t("7Iyi");function l(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){f(e,r,t[r])}))}return e}function f(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var p="board_create",y="board_delete",_="board_edit";function b(e,r){return Object(d.a)("BoardResource",{board_id:e,field_set_key:r})}function v(){return function(e,r){var t=r().viewer;t.isAuth&&Object(u.b)(t.username).forEach((function(r){e(r)}))}}function h(e){var r=l({},e);return function(t){return t({type:"BOARD_CREATE",payload:{board:e}}),c.a.create("BoardResource",r).callCreate().then((function(e){n.a.trackEvent(p,"success");var o=e.resource_response.data;return o&&(t(v()),t(function(){return{type:"BOARD_CREATE_COMPLETE",payload:{options:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},board:arguments.length>1?arguments[1]:void 0},error:arguments.length>2?arguments[2]:void 0}}(r,o))),o})).catch((function(e){throw n.a.trackEvent(p,"error"),e}))}}function O(){return{type:"BOARD_UPDATE_COMPLETE",payload:{options:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},board:arguments.length>1?arguments[1]:void 0},error:arguments.length>2?arguments[2]:void 0}}function m(e){return function(r){var t=void 0===e.collaborator_requests_enabled||null===e.collaborator_requests_enabled?{}:{collaborator_requests_enabled:e.collaborator_requests_enabled},o=l({board_id:e.id,name:e.name,description:e.description,category:e.category,privacy:e.privacy,collab_board_email:e.collab_board_email,collaborator_invites_enabled:e.collaborator_invites_enabled,allow_homefeed_recommendations:e.allow_homefeed_recommendations},t);return r({type:"BOARD_UPDATE",payload:{boardUpdateOptions:o}}),c.a.create("BoardResource",o).callUpdate().then((function(t){n.a.trackEvent(_,"success");var a=t&&t.resource_response&&t.resource_response.data||e;r(O(o,a))})).catch((function(e){throw n.a.trackEvent(_,"error"),e}))}}function E(e,r){return{type:"BOARD_DELETE_COMPLETE",payload:{boardId:e},error:r}}function g(e){return function(r,t){var o=t().boards.content[e],a=o.pin_count,i=o.owner.id;return r({type:"BOARD_DELETE",payload:{boardId:e}}),c.a.create("BoardResource",{board_id:e}).callDelete().then((function(){n.a.trackEvent(y,"error"),r(E(e)),r(Object(s.a)({userId:i,increment:-a}))})).catch((function(e){throw n.a.trackEvent(y,"error"),e}))}}function D(e){return{type:"BOARD_PIN_TO",payload:{board:e}}}function A(e){return function(r){return r(function(e){return{type:"BOARD_ARCHIVED",payload:{boardId:e}}}(e)),c.a.create("BoardArchiveResource",{boardId:e}).callUpdate()}}function S(e){return function(r){return r(function(e){return{type:"BOARD_UNARCHIVED",payload:{boardId:e}}}(e)),c.a.create("BoardArchiveResource",{boardId:e}).callDelete()}}function j(e,r){return function(t){return c.a.create("BoardsMergeResource",{source_board_id:e,target_board_id:r}).callUpdate().then((function(){return Promise.all([t(E(e)),t(b(r,"pin_count")),t(Object(o.a)(i.a.BOARD_SECTIONS,r))])}))}}function w(e,r){return function(t){return c.a.create("SocialSearchCampaignResource",{boardId:e}).callGet().then((function(e){if(!e||!e.resource_response){return t({type:"SET_SOCIAL_SEASONAL_BOARD",payload:{isSocialSeasonalBoard:!1,socialHeaderBgImage:"",socialHeaderBgColor:"",textIconColor:""}})}var n=e.resource_response.data||{},o=((n.model||{}).custom_properties||{}).campaign_id,c=void 0===o?"unknown":o,i=n.display_data||{},u={isSocialSeasonalBoard:!!n.display_data,socialHeaderBgImage:i.header_image,socialHeaderBgColor:i.header_background_color,textIconColor:i.text_icon_color};return a.a.increment("web.seasonal_board.".concat(c,".").concat(r,".land")),t({type:"SET_SOCIAL_SEASONAL_BOARD",payload:u})}))}}function R(){return function(e){return e({type:"SET_SOCIAL_SEASONAL_BOARD",payload:{isSocialSeasonalBoard:!1,socialHeaderBgImage:"",socialHeaderBgColor:"",textIconColor:""}})}}},"j/DJ":function(e,r,t){"use strict";t.d(r,"c",(function(){return i})),t.d(r,"a",(function(){return u})),t.d(r,"b",(function(){return s}));var n=t("HQ9/"),o=t("wCwf"),a=t("7Iyi"),c=["alphabetical","last_pinned_to","oldest","newest","custom"],i={name:"BoardsResource",key:"boardsResource",options:function(e){var r=e.boardOrder,t=e.mixPublicSecret;return{privacy_filter:"all",sort:r||"last_pinned_to",field_set_key:"profile_grid_item",username:e.username,page_size:25,group_by:t?"mix_public_private":"visibility",include_archived:!0,redux_normalize_feed:!0}}},u=function(e,r,t){return{privacy_filter:r?"secret":"public",sort:t||"last_pinned_to",field_set_key:"profile_grid_item",username:e}},s=function(e){return c.reduce((function(r,t){var c=[Object(o.a)("profileBoards",Object(n.c)(e,t))];return[!0,!1].forEach((function(r){c.push(Object(a.f)(i.name,i.options({username:e,boardOrder:t,mixPublicSecret:r})))})),r.concat(c)}),[])}},"jvv/":function(e,r,t){"use strict";function n(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}t.d(r,"a",(function(){return n}))},wCwf:function(e,r,t){"use strict";function n(e,r){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:r}}}t.d(r,"a",(function(){return n}))}}]);
//# sourceMappingURL=pjs-PinSaveButtonCommon-38a2e53bde0edad7f3e3.js.map
