(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["ArticlePageDesktop~AuthHomePageDesktop~CreateMenuModalsCommon~ExplorePossibilitiesFeed~FollowersPage~88936ad0"],{"0Wmr":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return s}));var r=n("UhjI"),a=n("ePT2"),o="collaborator_approve_invite";function i(e,t){return a.a.create("BoardEmailInviteResource",{board_id:e,emails:t}).callCreate()}function l(e,t){return a.a.create("BoardInviteResource",{board_id:e,invited_user_ids:t}).callCreate()}function c(e,t){return function(n){return a.a.create("BoardInviteResource",{board_id:e,invited_user_id:t}).callUpdate().then((function(){r.a.trackEvent(o,"success")})).catch((function(){return r.a.trackEvent(o,"error")}))}}function s(e,t,n){return function(t){var r=e.invited_user,o=e.status,i=e.board.id;return a.a.create("accepted"===o?"BoardCollaboratorResource":"BoardInviteResource",{ban:n,board_id:i,field_set_key:"boardEdit",invited_user_id:r.id}).callDelete({showError:!1})}}},"3Wjl":function(e,t,n){"use strict";function r(e){return{type:"UPDATE_USER_PIN_COUNT",payload:e}}function a(e){return{type:"UPDATE_USER_SCHEDULED_PIN_COUNT",payload:e}}function o(e,t){return{type:"UPDATE_USER_SOCIAL_NETWORK",payload:{socialNetworkName:e,connected:t}}}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o}))},CAUj:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return s}));var r=n("7Iyi"),a=function(e,t){return function(n){return n(Object(r.a)("BoardResource",{board_id:e,field_set_key:t}))}},o=function(e){return a(e,"pin_count")},i=function(e){return{type:"BOARD_PIN_COUNT_CHANGED",payload:e}},l=function(e){return{type:"BOARD_INVITE_ACCEPTED_BY_VIEWER",payload:{boardId:e}}},c=function(e,t){return{type:"BOARD_COVER_IMAGE_UPDATED",payload:{boardId:e,coverPin:t}}},s=function(e){return{type:"BOARD_DISABLE_MORE_IDEAS_BADGING",payload:{boardId:e}}}},VcmA:function(e,t,n){"use strict";var r=n("GyhR"),a=n("Qo1m"),o=n("ePT2"),i=n("CAUj"),l=n("VSY/"),c=n("+U6O");function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){f(e,t,n[t])}))}return e}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(){return r.createElement("div",{className:"ImageCrop"},r.createElement("div",{className:"holder"},r.createElement(c.c,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",alignItems:"center",justifyContent:"center"},r.createElement(c.G,{accessibilityLabel:a.a._("Loading","accessibility label for loading spinner"),show:!0}))))}var b={border:0,top:120},v=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return r=this,a=(e=m(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==s(a)&&"function"!=typeof a?h(r):a,f(h(h(n)),"state",{deltaY:0,deltaX:0,holderHeight:0,holderWidth:0,isSpinnerShown:!0,startBgPos:{left:0,top:0}}),f(h(h(n)),"handleUpdateImage",(function(){var e=n.image;if(e){var t=e.offsetHeight,r=e.offsetWidth;n.setState({isSpinnerShown:!1,startBgPos:{left:-(r-n.state.holderWidth)/2,top:-(t-n.state.holderHeight)/2}})}})),f(h(h(n)),"handleOnMouseUp",(function(){n.isDragging=!1,n.setState({startBgPos:{left:n.getBgLeft(),top:n.getBgTop()},deltaX:0,deltaY:0}),n.props.updateImgCrop(n.getCropData())})),f(h(h(n)),"isDragging",!1),n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,e),n=t,(o=[{key:"componentDidMount",value:function(){this.holder&&this.setState({holderHeight:this.holder.offsetHeight,holderWidth:this.holder.offsetWidth}),document.body&&document.body.addEventListener("mouseup",this.handleOnMouseUp,!1)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.pin.id!==this.props.pin.id&&this.setState({isSpinnerShown:!0})}},{key:"componentWillUnmount",value:function(){document.body&&document.body.removeEventListener("mouseup",this.handleOnMouseUp)}},{key:"getFrameBounds",value:function(){var e=this.props,t=e.frameHeight,n=e.frameWidth,r=this.state,a=r.holderHeight;return{left:r.holderWidth/2-n/2,width:n,height:t,top:a/2-t/2}}},{key:"getBgLeft",value:function(){var e=this.props.frameWidth,t=this.getFrameBounds(),n=this.getImgScale(),r=this._getImageDimensions(),a=r.imgHeight*n,o=r.imgWidth*n,i=0;return a&&o&&((i=this.state.startBgPos.left+this.state.deltaX)+o-e<t.left&&(i=t.left-o+e),i>t.left&&(i=t.left)),i}},{key:"getBgTop",value:function(){var e=this.props.frameHeight,t=this.getFrameBounds(),n=this.getImgScale(),r=this._getImageDimensions(),a=r.imgHeight*n,o=r.imgWidth*n,i=0;return a&&o&&((i=this.state.startBgPos.top+this.state.deltaY)+a-e<t.top&&(i=t.top-a+e),i>t.top&&(i=t.top)),i}},{key:"getImgScale",value:function(){var e=this.props,t=e.frameHeight,n=e.frameWidth,r=this._getImageDimensions(),a=r.imgHeight,o=r.imgWidth,i=this.getFrameBounds();if(a&&o){var l=a/o;return l=l>=i.height/i.width?n/o:t/a}return 1}},{key:"getImageBounds",value:function(){var e=this._getImageDimensions(),t=e.imgHeight,n=e.imgWidth,r={};if(t&&n){var a=this.getImgScale();r={width:a*n,height:a*t}}return r}},{key:"getBgBounds",value:function(){return{left:this.getBgLeft(),top:this.getBgTop()}}},{key:"getCropData",value:function(){var e=this.props,t=e.frameHeight,n=e.frameWidth,r=this.getFrameBounds(),a=this.getBgBounds(),o=this.getImgScale();return{cropX:Math.round(-(a.left-r.left)/o),cropY:Math.round(-(a.top-r.top)/o),height:Math.round(t/o),width:Math.round(n/o),scale:o}}},{key:"handleOnMouseDown",value:function(e){0===e.button&&(e.stopPropagation(),this.isDragging=!0,this.originX=e.pageX,this.originY=e.pageY)}},{key:"handleOnMouseMove",value:function(e){this.isDragging&&this.setState({deltaX:e.pageX-(this.originX||0),deltaY:e.pageY-(this.originY||0)})}},{key:"_getImageDimensions",value:function(){var e=this.props.pin.images["236x"];return{imgHeight:e.height,imgWidth:e.width}}},{key:"render",value:function(){var e=this,t=this.props,n=t.boardName,o=t.frameHeight,i=t.frameWidth,s=t.isFirst,u=t.isLast,m=t.pin,p=t.showNextPin,h=t.showPrevPin,f=this.state.isSpinnerShown,g=this._getImageDimensions(),v=g.imgHeight,_=g.imgWidth,y=this.getFrameBounds(),E=this.getImageBounds(),C=this.getBgBounds(),S="";return v&&_&&(S="in"),r.createElement("div",{className:"ImageCrop"},r.createElement("div",{className:"holder",ref:function(t){e.holder=t}},r.createElement("div",{className:"bg",style:C},r.createElement("img",{alt:l.c(a.a._("Board cover for {{ boardName }}"),{boardName:n}),className:S,onLoad:this.handleUpdateImage,ref:function(t){e.image=t},src:m.images["236x"].url,style:E})),r.createElement("div",{className:"mask"},r.createElement("span",{style:{top:0,left:0,right:0,height:y.top}}),r.createElement("span",{style:{top:y.top,left:y.left+i,right:0,height:o}}),r.createElement("span",{style:{top:o+y.top,left:0,right:0,bottom:0}}),r.createElement("span",{style:{top:y.top,left:0,width:y.left,height:o}})),r.createElement("div",{className:"frame",style:y}),r.createElement("div",{className:"drag",onMouseDown:function(t){e.handleOnMouseDown(t)},onMouseMove:function(t){e.handleOnMouseMove(t)}}),r.createElement("div",{className:"spinner",style:{display:f?"":"none"}})),s?null:r.createElement(c.c,{position:"absolute",width:46,height:46,dangerouslySetInlineStyle:{__style:d({},b,{left:100})}},r.createElement(c.o,{icon:"arrow-back",accessibilityLabel:a.a._("Previous","Label for indicating selecting the previous pin"),onClick:h})),u?null:r.createElement(c.c,{position:"absolute",width:46,height:46,dangerouslySetInlineStyle:{__style:d({},b,{right:100})}},r.createElement(c.o,{icon:"arrow-forward",accessibilityLabel:a.a._("Next","Label for indicating selecting the previous pin"),onClick:p})))}}])&&u(n.prototype,o),i&&u(n,i),t}(r.Component);f(v,"defaultProps",{frameHeight:236,frameWidth:236});var _=n("Y2BC");function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e){return e.reduce((function(e,t){return"pin"===t.type&&e.push(t),e}),[])}function B(e){var t=e.boardFeedResource.data,n=e.board.cover_pin.pin_id;return Math.max(0,w(t||[]).findIndex((function(e){return e.id===n})))}var P=5,k=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,c=new Array(l),s=0;s<l;s++)c[s]=arguments[s];return r=this,a=(e=C(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==y(a)&&"function"!=typeof a?I(r):a,O(I(I(n)),"state",{coverPinIndex:B(n.props),imgCropData:null,isSaving:!1}),O(I(I(n)),"handleSave",(function(){var e=n.props,t=e.board,r=e.dispatch,a=n.state,l=a.coverPinIndex,c=a.imgCropData,s=(n.pins||[])[l];if(s){n.setState({isSaving:!0});var d=s.images["236x"],u=d.url,m=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){O(e,t,n[t])}))}return e}({board_id:t.id,url:u,pin_id:s.id,pin_image_url:u},c?{crop_x:c.cropX,crop_y:c.cropY,height:c.height,width:c.width,scale:c.scale}:{}),p={height:d.height,width:d.width,x:c?c.cropX:0,y:c?c.cropY:0};o.a.create("BoardResource",m).callUpdate().then((function(){n.setState({isSaving:!1}),n.props.onSave(u,p),r(Object(i.a)(t.id,{custom_cover:!0,scale:c?c.scale:1,pin_id:s.id,crop:p,image_url:u}))})).catch((function(){n.setState({isSaving:!1})}))}})),O(I(I(n)),"updateImgCrop",(function(e){return n.setState({imgCropData:e})})),O(I(I(n)),"handleShowNextPin",(function(){var e=n.props.boardFeedResource,t=e.isAtEnd,r=e.isFetching,a=e.fetchMore,o=(n.pins||[]).length;o&&n.setState((function(e){return{coverPinIndex:(e.coverPinIndex+1)%o}}),(function(){n.pins&&n.state.coverPinIndex+P>=n.pins.length&&!t&&!r&&a()}))})),O(I(I(n)),"handleShowPrevPin",(function(){var e=(n.pins||[]).length;e&&n.setState((function(t){return{coverPinIndex:(t.coverPinIndex||e)-1}}))})),n}var n,l,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,e),n=t,(l=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.boardFeedResource.data;!this.props.boardFeedResource.data&&t&&this.setState({coverPinIndex:B(e)})}},{key:"componentDidUpdate",value:function(e){var t=this.props.boardFeedResource.data,n=e.boardFeedResource.data;(t&&n!==t&&t.length||t&&n&&t.length!==n.length)&&t.forEach((function(e){"pin"===e.type&&((new Image).src=e.url)}))}},{key:"render",value:function(){var e=this.props,t=e.boardName,n=e.frameHeight,o=e.frameWidth,i=e.onCancel,l=this.state.coverPinIndex,s=this.pins||[],d=s[l];return r.createElement(r.Fragment,null,r.createElement(c.c,{position:"relative",dangerouslySetInlineStyle:{__style:{userSelect:"none"}}},d?r.createElement(v,{boardName:t,frameHeight:n,frameWidth:o,isFirst:!l,isLast:l===s.length-1,pin:d,showNextPin:this.handleShowNextPin,showPrevPin:this.handleShowPrevPin,updateImgCrop:this.updateImgCrop}):r.createElement(g,null)),r.createElement(c.c,{display:"flex",justifyContent:"end"},r.createElement(c.c,{padding:2},r.createElement(c.d,{inline:!0,onClick:i,text:a.a._("Cancel")})),r.createElement(c.c,{padding:2},r.createElement(c.d,{disabled:!d,inline:!0,onClick:this.handleSave,text:a.a._("Save Changes","Button for saving board cover edit"),color:"red"}))))}},{key:"pins",get:function(){var e=this.props.boardFeedResource.data;return e?w(e):void 0}}])&&E(n.prototype,l),s&&E(n,s),t}(r.Component),D=Object(_.b)({name:"BoardImagesFeedResource",options:function(e){return{board_id:e.board.id,page_size:50,filter_section_pins:!1}},key:"boardFeedResource"})(k),R=(n("hvnN"),function(e){var t=e.children;return r.createElement(c.c,{role:"list"},r.Children.map(t,(function(e,t){return e&&r.createElement(c.c,{key:t},e,r.createElement(c.j,null))})))}),A=function(e){var t=e.label,n=e.labelId;return n?r.createElement(c.q,{htmlFor:n},r.createElement(c.K,{size:"sm"},t)):r.createElement(c.K,{size:"sm"},t)};function x(e){var t=e.alignTop,n=e.children,a=e.label,o=e.labelId;return r.createElement(c.c,{alignItems:t?"stretch":"center",deprecatedPadding:{x:2,y:3},display:"flex",wrap:!0},r.createElement(c.c,{paddingY:3,paddingX:1,xs:{column:12},md:{column:3}},r.createElement(A,{label:a,labelId:o})),r.createElement(c.c,{xs:{column:12},md:{column:9}},n))}var j=n("D+W/"),T=n("UhjI"),N=n("dsfX"),L=n("QJ2d"),H=n("UmN8"),M=n("Irlq"),U=n("ovu7");function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function V(e,t){return(V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function X(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return K}));var K=function(e){function t(e,n){var r,o,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,i=W(t).call(this,e,n),r=!i||"object"!==F(i)&&"function"!=typeof i?X(o):i,Y(X(X(r)),"handleChangeName",(function(e){var t=e.value,n=Object(U.s)(r.nameValidators,t);r.setState({name:t,nameValidatorErrors:n})})),Y(X(X(r)),"handleChangeDescription",(function(e){var t=e.value,n=Object(U.s)(r.descriptionValidators,t);r.setState({description:t,descriptionValidatorErrors:n})})),Y(X(X(r)),"handleChangeCategory",(function(e){var t=e.value;"true"!==t&&r.setState({category:t})})),Y(X(X(r)),"handleChangePrivateToggle",(function(e){var t=e.checked;r.setState({privacy:t?"secret":"public"})})),Y(X(X(r)),"handleChangeRecommendationToggle",(function(e){var t=e.checked;r.setState({allowHomefeedRecommendations:t})})),Y(X(X(r)),"handleChangeCollabBoardEmail",(function(e){var t=e.value;r.setState({collab_board_email:t})})),Y(X(X(r)),"handleChangeCollaboratorInvitesEnabled",(function(e){var t=e.value;r.setState({collaboratorInvitesEnabled:t})})),Y(X(X(r)),"handleCancel",(function(){T.a.trackEvent(r.props.gaCategory,"click_cancel"),r.props.onClose()})),Y(X(X(r)),"handleSubmit",(function(e){var t=r.props.onSubmit,n=r.state,o=n.category,i=n.collab_board_email,l=n.collaboratorInvitesEnabled,c=n.description,s=n.name,d=n.privacy,u=n.allowHomefeedRecommendations;if(e&&e.preventDefault(),!r.submitDisabled()){var m=s.trim(),p=c.trim();r.setState({submitting:!0,submitError:""}),T.a.trackEvent(r.props.gaCategory,"click_submit"),t({name:m,category:o,collab_board_email:i,collaborator_invites_enabled:l,description:p,privacy:d,allow_homefeed_recommendations:u}).then((function(){r.setState({submitting:!1})})).catch((function(e){var t=a.a._("Uh oh! Something went wrong.");if(e.message){var n=e.message,o=e.message_detail;t=o?"".concat(n," ").concat(o):n}else"string"==typeof e&&(t=e);r.setState({submitting:!1,submitError:t})}))}})),Y(X(X(r)),"handleShowBoardCoverEditModal",(function(){r.setState({showBoardCoverEdit:!0})})),Y(X(X(r)),"handleHideBoardCoverEditModal",(function(){r.setState({showBoardCoverEdit:!1})})),Y(X(X(r)),"handleSaveBoardCoverEditModal",(function(e,t){r.handleHideBoardCoverEditModal();var n=r.props.onCropChange;n&&n(e,t)}));var l=e.board,c=l.category,s=l.collab_board_email,d=l.collaborator_invites_enabled,u=l.description,m=l.name,p=l.pin_count,h=l.privacy,f=l.allow_homefeed_recommendations;return r.state={category:c,collab_board_email:s,description:u,name:m,pin_count:p,privacy:h,allowHomefeedRecommendations:f,collaboratorInvitesEnabled:d,nameValidatorErrors:[],descriptionValidatorErrors:[],showBoardCoverEdit:!1,showDeleteConfirmation:!1,submitting:!1},Object(M.b)(a.a._("Please enter no more than {{ maxLength }} characters.","Validation error when a string is too long"),{maxLength:j.a.MAX_CHARS_FOR_BOARD_TITLE}),r.descriptionValidators=[Object(U.k)({max:j.a.MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION})],r.nameValidators=[Object(U.p)({message:a.a._("Don't forget to name your board!")}),Object(U.k)({max:j.a.MAX_CHARS_FOR_BOARD_TITLE})],r}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}(t,e),n=t,(o=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(e.board.name!==this.props.board.name){var t=Object(U.s)(this.nameValidators,e.board.name);this.setState({name:e.board.name,nameValidatorErrors:t})}if(e.board.description!==this.props.board.description){var n=Object(U.s)(this.descriptionValidators,e.board.description);this.setState({description:e.board.description,descriptionValidatorErrors:n})}e.board.category!==this.props.board.category&&this.setState({category:e.board.category}),e.board.privacy!==this.props.board.privacy&&this.setState({privacy:e.board.privacy})}},{key:"getBoardTitleInput",value:function(){var e=this.state,t=e.name,n=e.nameValidatorErrors;return r.createElement(c.c,{role:"listitem"},r.createElement(x,{label:a.a._("Name"),labelId:"boardEditName"},r.createElement(c.M,{errorMessage:n.join(", "),id:"boardEditName",name:"boardName",onChange:this.handleChangeName,placeholder:a.a._('Like "Places to Go" or "Recipes to Make"'),value:t})))}},{key:"getCategoriesDropdown",value:function(){var e=this.props.categories.map((function(e){return{label:e.name,value:e.key}})),t=a.a._("What kind of board is it?"),n=this.state.category||null;return r.createElement(c.c,{role:"listitem"},r.createElement(x,{label:a.a._("Category"),labelId:"boardEditCategory"},r.createElement(c.F,{id:"boardEditCategory",name:"category",onChange:this.handleChangeCategory,options:e,placeholder:t,value:n})))}},{key:"getCollaboratorsEmailCheckbox",value:function(){var e=this.props.board,t=this.state.collab_board_email;return e.is_collaborative&&r.createElement(c.c,{role:"listitem"},r.createElement(x,{label:a.a._("Email notifications"),labelId:"emailNotificationsCheckbox"},r.createElement(c.c,{alignItems:"center",deprecatedPadding:{y:2},display:"flex"},r.createElement(c.c,{deprecatedMargin:{right:1}},r.createElement(c.I,{switched:t,id:"emailNotificationsCheckbox",name:"email",onChange:this.handleChangeCollabBoardEmail})),r.createElement(c.K,{size:"xs",smSize:"xs",mdSize:"xs",lgSize:"xs"},a.a._("Get an email when someone saves Pins to this board")))))}},{key:"getCollaboratorsInviteList",value:function(){var e=this.props.boardCollaboratorsSection,t=r.createElement(c.c,null,a.a._("Collaborators"),r.createElement(c.c,null,r.createElement(c.t,{target:"blank",href:L.a.settings.HELP_BOARDS_INVITE_URL_SRC_CREATE},r.createElement(c.K,{size:"sm",smSize:"xs",mdSize:"xs",lgSize:"sm"},a.a._("Learn more")))));return e?r.createElement(c.c,{role:"listitem"},r.createElement(x,{alignTop:!0,label:t,labelId:"collaborators"},r.createElement(c.c,{paddingY:3},r.createElement("div",{className:"boardCollaboratorsWrapper"},e)))):null}},{key:"getCollaboratorsInviteToggle",value:function(){var e=this.props.board,t=this.state.collaboratorInvitesEnabled;return e.is_collaborative&&r.createElement(c.c,{role:"listitem"},r.createElement(x,{label:a.a._("Let collaborators add people"),labelId:"collaboratorInvitesEnabledCheckbox"},r.createElement(c.c,{deprecatedPadding:{y:2}},r.createElement(c.I,{switched:t,id:"collaboratorInvitesEnabledCheckbox",name:"collaboratorInvitesEnabled",onChange:this.handleChangeCollaboratorInvitesEnabled}))))}},{key:"getCoverEdit",value:function(){var e=this.props,t=e.board,n=e.coverImageHeight,o=e.coverImageWidth,i=e.isEditable,l=this.state,s=l.name,d=l.pin_count;return i&&d>0&&r.createElement(c.c,{role:"listitem"},r.createElement(x,{label:a.a._("Cover")},r.createElement(c.d,{inline:!0,onClick:this.handleShowBoardCoverEditModal,text:a.a._("Change"),size:"md"}),this.state.showBoardCoverEdit&&r.createElement(N.b,{accessibilityCloseLabel:a.a._("close","accessible label for button to close modal"),accessibilityModalLabel:a.a._("Change Board Cover","accessible label for modal to change board cover image"),size:"lg",heading:"".concat(a.a._("Change Board Cover"),"/ ").concat(t.name),onDismiss:this.handleHideBoardCoverEditModal},r.createElement(D,{board:t,boardName:s,frameHeight:n,frameWidth:o,onCancel:this.handleHideBoardCoverEditModal,onSave:this.handleSaveBoardCoverEditModal}))))}},{key:"getDescriptionInput",value:function(){var e=this.state,t=e.description,n=e.descriptionValidatorErrors,o="boardEditDescription";return r.createElement(c.c,{role:"listitem"},r.createElement(x,{alignTop:!0,label:a.a._("Description"),labelId:o},r.createElement(c.L,{errorMessage:n.join(", "),id:o,name:"description",onChange:this.handleChangeDescription,placeholder:a.a._("What's your board about?"),value:t})))}},{key:"getFormFooter",value:function(){var e=this.props,t=e.board.archived_by_me_at,n=e.isArchivable,o=e.isDeletable,i=e.onArchiveButtonClick,l=e.onDeleteButtonClick,s=e.onMergeButtonClick,d=e.onUnarchiveButtonClick,u=e.submitText,m=this.state,p=m.submitError,h=m.submitting;return r.createElement(c.c,{paddingX:4,paddingY:2},r.createElement(c.c,{alignItems:"center",justifyContent:"between",wrap:!0,display:"flex"},r.createElement(c.c,{display:"flex",alignItems:"center",paddingY:2,marginLeft:-2,marginRight:-2},o&&r.createElement(c.c,{paddingX:2,"data-test-id":"deleteBoardButton"},r.createElement(c.d,{disabled:h,inline:!0,onClick:l,size:"md",text:a.a._("Delete","button label during board edit")})),n&&!t&&r.createElement(c.c,{paddingX:2},r.createElement(c.d,{disabled:h,inline:!0,onClick:i,size:"md",text:a.a._("Archive","button label during board edit")})),t&&r.createElement(c.c,{paddingX:2},r.createElement(c.d,{disabled:h,inline:!0,onClick:d,size:"md",text:a.a._("Unarchive","button label during board edit")})),s&&r.createElement(c.c,{paddingX:2},r.createElement(c.d,{disabled:h,inline:!0,onClick:s,size:"md",text:a.a._("Merge","button label during board edit")}))),r.createElement(c.c,null,r.createElement(c.c,{display:"flex",paddingY:2,marginLeft:-2,marginRight:-2},r.createElement(c.c,{paddingX:2},r.createElement(c.d,{inline:!0,onClick:this.handleCancel,text:a.a._("Cancel"),size:"md"})),r.createElement(c.c,{paddingX:2},r.createElement(c.d,{color:"red",disabled:this.submitDisabled(),inline:!0,text:u,type:"submit",size:"md"}))))),p&&r.createElement(c.c,{paddingX:1,paddingY:2},r.createElement(c.K,{color:"red",smSize:"xs",mdSize:"sm",lgSize:"md"},p)))}},{key:"getSecretToggle",value:function(){var e=this.props.isAdAccountOwner,t=this.state.privacy;if(!1===e)return r.createElement(c.c,{role:"listitem"},r.createElement(x,{label:a.a._("Protected board (not listed on user's profile)","protected board"),labelId:"protected"},r.createElement(c.c,{deprecatedPadding:{y:2}},r.createElement(c.I,{onChange:function(){},id:"protected",switched:!0,disabled:!0}))));if(t!==j.a.BoardPrivacy.PROTECTED){var n=r.createElement(c.c,null,a.a._("Visibility"));return r.createElement(c.c,{role:"listitem"},r.createElement(x,{label:n,labelId:"secret"},r.createElement(c.c,{display:"flex",paddingY:2,alignItems:"center"},r.createElement(c.c,{marginRight:3},r.createElement(c.f,{checked:"secret"===t,id:"secret",name:"secret",onChange:this.handleChangePrivateToggle})),r.createElement(c.c,null,r.createElement(c.K,{size:"sm",smSize:"xs",mdSize:"xs",lgSize:"sm"},a.a._("Keep this board secret.","Caption for board settings to set visibility")),r.createElement(c.t,{target:"blank",href:L.a.settings.HELP_BOARDS_SECRET_URL_SRC_CREATE},r.createElement(c.K,{size:"sm",smSize:"xs",mdSize:"xs",lgSize:"sm",bold:!0},a.a._("Learn more")))))))}return null}},{key:"getRecommendationToggle",value:function(){var e=this.state.allowHomefeedRecommendations,t=r.createElement(c.c,null,a.a._("Personalization"));return r.createElement(c.c,{role:"listitem"},r.createElement(x,{label:t,labelId:"recommendation"},r.createElement(c.c,{display:"flex",paddingY:2,alignItems:"center"},r.createElement(c.c,{marginRight:3},r.createElement(c.f,{checked:e,id:"recommendation",name:"recommendation",onChange:this.handleChangeRecommendationToggle})),r.createElement(c.c,null,r.createElement(c.K,{size:"sm",smSize:"xs",mdSize:"xs",lgSize:"sm"},a.a._("Show Pins inspired by this board in your home feed.","Caption for board settings to set visibility"))))))}},{key:"getBoardFormFields",value:function(){var e=this,t=this.props,n=t.board.archived_by_me_at,a=t.currentUserIsOwner,o=t.isNameAndSecretView;return a?o?r.createElement(R,null,this.getBoardTitleInput(),this.getSecretToggle()):r.createElement(R,null,this.getBoardTitleInput(),this.getDescriptionInput(),this.getCategoriesDropdown(),this.getCoverEdit(),this.getSecretToggle(),!n&&r.createElement(H.a,{name:"web_homefeed_control_board_recommendation_toggle"},(function(t){return t.anyEnabled&&e.getRecommendationToggle()})),this.getCollaboratorsInviteList(),this.getCollaboratorsEmailCheckbox(),this.getCollaboratorsInviteToggle()):r.createElement(R,null,this.getCollaboratorsInviteList(),this.getCollaboratorsEmailCheckbox())}},{key:"submitDisabled",value:function(){var e=this.state,t=e.descriptionValidatorErrors,n=e.name,r=e.nameValidatorErrors,a=e.submitting;return!n||r.length>0||t.length>0||a}},{key:"render",value:function(){var e=this.props.noHeader;return r.createElement(c.c,{color:"white",deprecatedMargin:{left:"auto",right:"auto"},maxWidth:600,shape:"rounded"},r.createElement("form",{method:"post",onSubmit:this.handleSubmit},!e&&r.createElement(r.Fragment,null,r.createElement(c.c,{deprecatedMargin:{right:5},deprecatedPadding:{x:2,y:3}},this.props.title),r.createElement(c.j,null)),this.getBoardFormFields(),this.getFormFooter()))}}])&&z(n.prototype,o),i&&z(n,i),t}(r.Component);Y(K,"defaultProps",{isNameAndSecretView:!1})},evwu:function(e,t,n){"use strict";n.d(t,"b",(function(){return g})),n.d(t,"h",(function(){return b})),n.d(t,"f",(function(){return v})),n.d(t,"d",(function(){return _})),n.d(t,"l",(function(){return y})),n.d(t,"g",(function(){return C})),n.d(t,"c",(function(){return S})),n.d(t,"a",(function(){return I})),n.d(t,"k",(function(){return O})),n.d(t,"i",(function(){return w})),n.d(t,"j",(function(){return B})),n.d(t,"e",(function(){return P}));var r=n("UhjI"),a=n("wCwf"),o=n("E56J"),i=n("ePT2"),l=n("eB/M"),c=n("j/DJ"),s=n("3Wjl"),d=n("7Iyi");function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){m(e,t,n[t])}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p="board_create",h="board_delete",f="board_edit";function g(e,t){return Object(d.a)("BoardResource",{board_id:e,field_set_key:t})}function b(){return function(e,t){var n=t().viewer;n.isAuth&&Object(c.b)(n.username).forEach((function(t){e(t)}))}}function v(e){var t=u({},e);return function(n){return n({type:"BOARD_CREATE",payload:{board:e}}),i.a.create("BoardResource",t).callCreate().then((function(e){r.a.trackEvent(p,"success");var a=e.resource_response.data;return a&&(n(b()),n(function(){return{type:"BOARD_CREATE_COMPLETE",payload:{options:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},board:arguments.length>1?arguments[1]:void 0},error:arguments.length>2?arguments[2]:void 0}}(t,a))),a})).catch((function(e){throw r.a.trackEvent(p,"error"),e}))}}function _(){return{type:"BOARD_UPDATE_COMPLETE",payload:{options:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},board:arguments.length>1?arguments[1]:void 0},error:arguments.length>2?arguments[2]:void 0}}function y(e){return function(t){var n=void 0===e.collaborator_requests_enabled||null===e.collaborator_requests_enabled?{}:{collaborator_requests_enabled:e.collaborator_requests_enabled},a=u({board_id:e.id,name:e.name,description:e.description,category:e.category,privacy:e.privacy,collab_board_email:e.collab_board_email,collaborator_invites_enabled:e.collaborator_invites_enabled,allow_homefeed_recommendations:e.allow_homefeed_recommendations},n);return t({type:"BOARD_UPDATE",payload:{boardUpdateOptions:a}}),i.a.create("BoardResource",a).callUpdate().then((function(n){r.a.trackEvent(f,"success");var o=n&&n.resource_response&&n.resource_response.data||e;t(_(a,o))})).catch((function(e){throw r.a.trackEvent(f,"error"),e}))}}function E(e,t){return{type:"BOARD_DELETE_COMPLETE",payload:{boardId:e},error:t}}function C(e){return function(t,n){var a=n().boards.content[e],o=a.pin_count,l=a.owner.id;return t({type:"BOARD_DELETE",payload:{boardId:e}}),i.a.create("BoardResource",{board_id:e}).callDelete().then((function(){r.a.trackEvent(h,"error"),t(E(e)),t(Object(s.a)({userId:l,increment:-o}))})).catch((function(e){throw r.a.trackEvent(h,"error"),e}))}}function S(e){return{type:"BOARD_PIN_TO",payload:{board:e}}}function I(e){return function(t){return t(function(e){return{type:"BOARD_ARCHIVED",payload:{boardId:e}}}(e)),i.a.create("BoardArchiveResource",{boardId:e}).callUpdate()}}function O(e){return function(t){return t(function(e){return{type:"BOARD_UNARCHIVED",payload:{boardId:e}}}(e)),i.a.create("BoardArchiveResource",{boardId:e}).callDelete()}}function w(e,t){return function(n){return i.a.create("BoardsMergeResource",{source_board_id:e,target_board_id:t}).callUpdate().then((function(){return Promise.all([n(E(e)),n(g(t,"pin_count")),n(Object(a.a)(l.a.BOARD_SECTIONS,t))])}))}}function B(e,t){return function(n){return i.a.create("SocialSearchCampaignResource",{boardId:e}).callGet().then((function(e){if(!e||!e.resource_response){return n({type:"SET_SOCIAL_SEASONAL_BOARD",payload:{isSocialSeasonalBoard:!1,socialHeaderBgImage:"",socialHeaderBgColor:"",textIconColor:""}})}var r=e.resource_response.data||{},a=((r.model||{}).custom_properties||{}).campaign_id,i=void 0===a?"unknown":a,l=r.display_data||{},c={isSocialSeasonalBoard:!!r.display_data,socialHeaderBgImage:l.header_image,socialHeaderBgColor:l.header_background_color,textIconColor:l.text_icon_color};return o.a.increment("web.seasonal_board.".concat(i,".").concat(t,".land")),n({type:"SET_SOCIAL_SEASONAL_BOARD",payload:c})}))}}function P(){return function(e){return e({type:"SET_SOCIAL_SEASONAL_BOARD",payload:{isSocialSeasonalBoard:!1,socialHeaderBgImage:"",socialHeaderBgColor:"",textIconColor:""}})}}},"j/DJ":function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return s}));var r=n("HQ9/"),a=n("wCwf"),o=n("7Iyi"),i=["alphabetical","last_pinned_to","oldest","newest","custom"],l={name:"BoardsResource",key:"boardsResource",options:function(e){var t=e.boardOrder,n=e.mixPublicSecret;return{privacy_filter:"all",sort:t||"last_pinned_to",field_set_key:"profile_grid_item",username:e.username,page_size:25,group_by:n?"mix_public_private":"visibility",include_archived:!0,redux_normalize_feed:!0}}},c=function(e,t,n){return{privacy_filter:t?"secret":"public",sort:n||"last_pinned_to",field_set_key:"profile_grid_item",username:e}},s=function(e){return i.reduce((function(t,n){var i=[Object(a.a)("profileBoards",Object(r.c)(e,n))];return[!0,!1].forEach((function(t){i.push(Object(o.f)(l.name,l.options({username:e,boardOrder:n,mixPublicSecret:t})))})),t.concat(i)}),[])}},wCwf:function(e,t,n){"use strict";function r(e,t){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:t}}}n.d(t,"a",(function(){return r}))}}]);
//# sourceMappingURL=pjs-ArticlePageDesktop~AuthHomePageDesktop~CreateMenuModalsCommon~ExplorePossibilitiesFeed~FollowersPage~88936ad0-19e58fbe3da464845e5e.js.map
