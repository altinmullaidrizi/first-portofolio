(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["ExperiencesBeforeHomefeed"],{"2XPX":function(e,t,n){"use strict";t.decode=t.parse=n("PAUS"),t.encode=t.stringify=n("I8H7")},"5x9v":function(e,t,n){"use strict";n.r(t);var r=n("GyhR"),a=n.n(r),o=n("Ivf5"),i=n("kiCl"),l=n("pjsG"),c=n("Qo1m"),u=n("9Fbe"),s=n("7Tih"),p=n("QtSf"),f=n("RQRm"),d=n("NmcB"),h=n("rPo8"),m=n("OtLr"),g=n("kIql"),E=n("ovu7"),y=n("+U6O"),v=n("9Y9K");function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C="age",R="parent_info",S=13,j=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return r=this,a=(e=w(t)).call.apply(e,[this].concat(i)),n=!a||"object"!==b(a)&&"function"!=typeof a?P(r):a,_(P(P(n)),"state",{age:"",ageValidatorError:"",parentEmail:"",parentEmailValidatorError:"",step:n.props.skipAgeStep?R:C}),_(P(P(n)),"handleAgeChange",(function(e){var t=e.value;n.setState({age:t,ageValidatorError:""})})),_(P(P(n)),"handleAgeSubmit",(function(){var e=[Object(E.a)({message:c.a._("Please enter a valid number.","Error message when user enters invalid age.")})],t=Object(p.a)(n.state.age,e);t?n.setState({age:"",ageValidatorError:t}):parseInt(n.state.age,10)<S?n.setState({age:"",ageValidatorError:c.a._("Age must be at least 13.","Error message when user enters age less than 13")}):n.completeAgeStep()})),_(P(P(n)),"handleParentEmailSubmit",(function(){var e=[Object(E.f)({message:c.a._("Hmm... that doesn't look like an email address.","Error message when user enters invalid email address")})],t=Object(p.a)(n.state.parentEmail,e);t?n.setState({age:"",parentEmailValidatorError:t}):n.props.viewer.email===n.state.parentEmail?n.setState({age:"",parentEmailValidatorError:c.a._("Not a valid email.","Invalid email error message")}):n.completeParentConsentStep()})),_(P(P(n)),"handleParentEmailChange",(function(e){var t=e.value;n.setState({parentEmail:t,parentEmailValidatorError:""})})),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.contextLogView(3175)}},{key:"contextLogView",value:function(e){Object(d.a)(13,{view:205,viewParameter:e})}},{key:"contextLogClick",value:function(e){Object(d.a)(101,{component:17,element:1112,view:205,viewParameter:e})}},{key:"completeAgeStep",value:function(){var e=this,t=this.props,n=t.dispatch,r=t.experienceClient,a={age:this.state.age};n(Object(h.f)({updateUserData:a})).then((function(){e.contextLogClick(3175),parseInt(e.state.age,10)<16?(r.fetchExperienceForPlacement(30),e.setState({step:R}),e.contextLogView(3176)):(r.completeExperience(30,500735),n(f.a))}))}},{key:"completeParentConsentStep",value:function(){var e=this,t=this.props,n=t.dispatch,r=t.experienceClient,a={parent_email:this.state.parentEmail};n(Object(h.f)({updateUserData:a})).then((function(){e.contextLogClick(3176),r.fetchExperienceForPlacement(30);var t=new s.a;t.evt=new i.a("",null,{forceRefresh:1}),l.a.navigate("/",t),n(f.a)}))}},{key:"renderAgeStep",value:function(){var e=this,t=c.a._("To continue using Pinterest, let us know how old you are.","Subtext on age step of GDPR flow.");return a.a.createElement(y.c,{alignItems:"center",direction:"column",display:"flex"},a.a.createElement(y.c,{margin:3},a.a.createElement(y.m,{size:"sm"},c.a._("Tell us your age","Prompt asking user to enter age"))),a.a.createElement(y.c,{marginLeft:12,marginRight:12,marginTop:5,marginBottom:6},a.a.createElement(y.K,{color:"darkGray",overflow:"normal"},t)),a.a.createElement(y.c,{marginLeft:12,marginRight:12,marginBottom:3,width:300},a.a.createElement("div",{ref:function(t){e._ageTextField=t}},a.a.createElement(y.M,{id:"age",onChange:this.handleAgeChange,placeholder:"Age",value:this.state.age,type:"number"})),this.state.ageValidatorError?a.a.createElement(y.k,{color:"red",anchor:this._ageTextField,idealDirection:"right",onDismiss:function(){},size:"xs",shouldFocus:!1},a.a.createElement(y.c,{padding:3},a.a.createElement(y.K,{bold:!0,color:"white"},a.a.createElement("span",null,this.state.ageValidatorError)))):null),a.a.createElement(y.c,{marginLeft:12,marginRight:12,marginBottom:3,width:300},a.a.createElement(y.d,{color:"red",disabled:!this.state.age,onClick:this.handleAgeSubmit,text:c.a._("Submit","Text on submit button on GDPR age step"),type:"submit"})))}},{key:"renderParentInfoStep",value:function(){var e=this,t=c.a._("In some countries, you can only use Pinterest if you're old enough to consent to us using your information under the laws of your country, or if your parent or guardian has agreed that you can use Pinterest.","Subtext in parent consent step for underaged users."),n=c.a._("If you'd like for us to contact your parent or guardian, let us know how to reach them.","Prompt in parent consent step asking underaged users for parent information.");return a.a.createElement(y.c,{alignItems:"center",direction:"column",display:"flex"},a.a.createElement(y.c,{margin:3},a.a.createElement(y.m,{size:"sm"},c.a._("Get parental consent","Title text for parent consent information step"))),a.a.createElement(y.c,{marginLeft:12,marginRight:12,marginTop:5,maxWidth:400},a.a.createElement(y.K,{color:"darkGray",overflow:"normal"},t)),a.a.createElement(y.c,{marginLeft:12,marginRight:12,marginTop:5,marginBottom:6,maxWidth:400},a.a.createElement(y.K,{color:"darkGray",overflow:"normal"},n)),a.a.createElement(y.c,{marginLeft:12,marginRight:12,marginBottom:3,width:300},a.a.createElement("div",{ref:function(t){e._parentEmailField=t}},a.a.createElement(y.M,{id:"email",onChange:this.handleParentEmailChange,placeholder:"Parent's email",value:this.state.parentEmail,type:"email"})),this.state.parentEmailValidatorError?a.a.createElement(y.k,{anchor:this._parentEmailField,color:"red",idealDirection:"right",onDismiss:function(){},size:"xs",shouldFocus:!1},a.a.createElement(y.c,{padding:3},a.a.createElement(y.K,{bold:!0,color:"white"},a.a.createElement("span",null,this.state.parentEmailValidatorError)))):null),a.a.createElement(y.c,{marginLeft:12,marginRight:12,marginBottom:3,width:300},a.a.createElement(y.d,{color:"red",disabled:!this.state.parentEmail,onClick:this.handleParentEmailSubmit,text:c.a._("Send","Text on submit button on GDPR parent consent email step"),type:"submit"})))}},{key:"render",value:function(){return a.a.createElement(y.c,{alignItems:"center",color:"white",direction:"column",display:"flex",height:540,overflow:"hidden",shape:"rounded",width:400},a.a.createElement(y.c,{marginTop:7},Object(u.a)(50,!0)),this.state.step===C?this.renderAgeStep():this.renderParentInfoStep())}}])&&x(n.prototype,r),o&&x(n,o),t}(r.PureComponent),A=Object(v.compose)(Object(o.connect)(),m.a,g.a)(j),k=n("QG6s"),D=n("fifU"),L=n("8UPC"),I=Object(r.lazy)((function(){return Promise.all([n.e("BusinessAccountLoginPageDesktop~CreativeEditorPageDesktop~ExperiencesAfterHomefeed~ExperiencesBefore~3ed46a35"),n.e("CreativeEditorPageDesktop~ExperiencesAfterHomefeed~ExperiencesBeforeHomefeed~PinAnalyticsPageDesktop~2be2a0f0"),n.e("CreativeEditorPageDesktop~ExperiencesAfterHomefeed~ExperiencesBeforeHomefeed~PinAnalyticsPageDesktop~988a84bc"),n.e("RenuxContainerCommon")]).then(n.bind(null,"IMUx"))}));t.default=function(e){var t=e.experience,n=e.isNux,r=e.showGDPRModal,o=e.showGDPRParentConsentModal;return a.a.createElement(a.a.Fragment,null,n||function(e){return!!(e&&e.display_data&&e.display_data.is_partner_renux)}(t)?a.a.createElement(L.f,{placementId:11}):a.a.createElement(D.a,null,a.a.createElement(I,{experience:t})),a.a.createElement(L.g,{placementId:11}),a.a.createElement(L.e,{placementId:11}),a.a.createElement(L.d,{placementId:11}),a.a.createElement(L.c,{placementId:11}),r&&a.a.createElement(k.a,{noButton:!0},a.a.createElement(A,{skipAgeStep:o,additionalChildren:null})))}},"9Fbe":function(e,t,n){"use strict";var r=n("GyhR"),a=n.n(r);t.a=function(e,t,n){var r,o,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l="M27.5 71c3.3 1 6.7 1.6 10.3 1.6C57 72.6 72.6 57 72.6 37.8 72.6 18.6 57 3 37.8 3 18.6 3 3 18.6 3 37.8c0 14.8 9.3 27.5 22.4 32.5-.3-2.7-.6-7.2 0-10.3l4-17.2s-1-2-1-5.2c0-4.8 3-8.4 6.4-8.4 3 0 4.4 2.2 4.4 5 0 3-2 7.3-3 11.4C35.6 49 38 52 41.5 52c6.2 0 11-6.6 11-16 0-8.3-6-14-14.6-14-9.8 0-15.6 7.3-15.6 15 0 3 1 6 2.6 8 .3.2.3.5.2 1l-1 3.8c0 .6-.4.8-1 .4-4.4-2-7-8.3-7-13.4 0-11 7.8-21 22.8-21 12 0 21.3 8.6 21.3 20 0 12-7.4 21.6-18 21.6-3.4 0-6.7-1.8-7.8-4L32 61.7c-.8 3-3 7-4.5 9.4z",c=a.a.createElement("circle",{cx:"38",cy:"38",fill:"white",r:"40"});return r=t?"-3 -3 82 82":"3 3 70 70",o=n||"#e60023",i?a.a.createElement("svg",{height:e,viewBox:r,width:e},t?c:null,a.a.createElement("path",{d:l,fill:o,fillRule:"evenodd"})):a.a.createElement("svg",{height:e,style:{display:"block"},viewBox:r,width:e},t?c:null,a.a.createElement("path",{d:l,fill:o,fillRule:"evenodd"}))}},I8H7:function(e,t,n){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,l){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?o(i(e),(function(i){var l=encodeURIComponent(r(i))+n;return a(e[i])?o(e[i],(function(e){return l+encodeURIComponent(r(e))})).join(t):l+encodeURIComponent(r(e[i]))})).join(t):l?encodeURIComponent(r(l))+n+encodeURIComponent(r(e)):""};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var i=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},"IO+S":function(e,t,n){var r=n("llpN");e.exports=function(e){return r(2,e)}},JIWn:function(e,t,n){"use strict";t.__esModule=!0;var r=l(n("hvnN")),a=l(n("GyhR")),o=n("Mr4W"),i=l(n("SlVY"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}r.default.bool.isRequired;var u=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=c(this,e.call.apply(e,[this].concat(o))),s.call(r),c(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleLifecycle=function(e,t,n){var r,i=this.props.children,l=a.default.Children.toArray(i)[t];l.props[e]&&(r=l.props)[e].apply(r,n),this.props[e]&&this.props[e]((0,o.findDOMNode)(this))},t.prototype.render=function(){var e=this.props,t=e.children,n=e.in,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["children","in"]),o=a.default.Children.toArray(t),l=o[0],c=o[1];return delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,a.default.createElement(i.default,r,n?a.default.cloneElement(l,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):a.default.cloneElement(c,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},t}(a.default.Component),s=function(){var e=this;this.handleEnter=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.handleLifecycle("onEnter",0,n)},this.handleEntering=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.handleLifecycle("onEntering",0,n)},this.handleEntered=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.handleLifecycle("onEntered",0,n)},this.handleExit=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.handleLifecycle("onExit",1,n)},this.handleExiting=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.handleLifecycle("onExiting",1,n)},this.handleExited=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.handleLifecycle("onExited",1,n)}};u.propTypes={},t.default=u,e.exports=t.default},NtPI:function(e,t,n){var r=n("b0L8"),a=n("PNgw"),o=n("HbWW"),i=a((function(e,t,n){return r(e,o(t)||0,n)}));e.exports=i},PAUS:function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,o){t=t||"&",n=n||"=";var i={};if("string"!=typeof e||0===e.length)return i;var l=/\+/g;e=e.split(t);var c=1e3;o&&"number"==typeof o.maxKeys&&(c=o.maxKeys);var u=e.length;c>0&&u>c&&(u=c);for(var s=0;s<u;++s){var p,f,d,h,m=e[s].replace(l,"%20"),g=m.indexOf(n);g>=0?(p=m.substr(0,g),f=m.substr(g+1)):(p=m,f=""),d=decodeURIComponent(p),h=decodeURIComponent(f),r(i,d)?a(i[d])?i[d].push(h):i[d]=[i[d],h]:i[d]=h}return i};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},QtSf:function(e,t,n){"use strict";t.a=function(e,t){var n;return t.some((function(t){var r=t(e);return r.errors.length>0&&(n=r.errors[0],!0)})),n}},RQRm:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var r={type:"OPEN_GDPR_MODAL"},a={type:"OPEN_GDPR_PARENT_CONSENT_MODAL"},o={type:"CLOSE_GDPR_MODAL"},i=function(e){return{openGDPRModal:function(){return e(r)},openGDPRParentConsentModal:function(){return e(a)},closeGDPRModal:function(){return e(o)}}}},RuEA:function(e,t,n){"use strict";t.__esModule=!0,t.getChildMapping=a,t.mergeChildMappings=o,t.getInitialChildMapping=function(e,t){return a(e.children,(function(n){return(0,r.cloneElement)(n,{onExited:t.bind(null,n),in:!0,appear:i(n,"appear",e),enter:i(n,"enter",e),exit:i(n,"exit",e)})}))},t.getNextChildMapping=function(e,t,n){var l=a(e.children),c=o(t,l);return Object.keys(c).forEach((function(a){var o=c[a];if((0,r.isValidElement)(o)){var u=a in t,s=a in l,p=t[a],f=(0,r.isValidElement)(p)&&!p.props.in;!s||u&&!f?s||!u||f?s&&u&&(0,r.isValidElement)(p)&&(c[a]=(0,r.cloneElement)(o,{onExited:n.bind(null,o),in:p.props.in,exit:i(o,"exit",e),enter:i(o,"enter",e)})):c[a]=(0,r.cloneElement)(o,{in:!1}):c[a]=(0,r.cloneElement)(o,{onExited:n.bind(null,o),in:!0,exit:i(o,"exit",e),enter:i(o,"enter",e)})}})),c};var r=n("GyhR");function a(e,t){var n=Object.create(null);return e&&r.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,r.isValidElement)(e)?t(e):e}(e)})),n}function o(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r=Object.create(null),a=[];for(var o in e)o in t?a.length&&(r[o]=a,a=[]):a.push(o);var i=void 0,l={};for(var c in t){if(r[c])for(i=0;i<r[c].length;i++){var u=r[c][i];l[r[c][i]]=n(u)}l[c]=n(c)}for(i=0;i<a.length;i++)l[a[i]]=n(a[i]);return l}function i(e,t,n){return null!=n[t]?n[t]:e.props[t]}},SlVY:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=c(n("hvnN")),o=c(n("GyhR")),i=n("1Rck"),l=n("RuEA");function c(e){return e&&e.__esModule?e:{default:e}}var u=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},s=(a.default.any,a.default.node,a.default.bool,a.default.bool,a.default.bool,a.default.func,function(e){function t(n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,r)),o=a.handleExited.bind(a);return a.state={handleExited:o,firstRender:!0},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},t.prototype.componentDidMount=function(){this.appeared=!0},t.getDerivedStateFromProps=function(e,t){var n=t.children,r=t.handleExited;return{children:t.firstRender?(0,l.getInitialChildMapping)(e,r):(0,l.getNextChildMapping)(e,n,r),firstRender:!1}},t.prototype.handleExited=function(e,t){var n=(0,l.getChildMapping)(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.setState((function(t){var n=r({},t.children);return delete n[e.key],{children:n}})))},t.prototype.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["component","childFactory"]),a=u(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?a:o.default.createElement(t,r,a)},t}(o.default.Component));s.childContextTypes={transitionGroup:a.default.object.isRequired},s.propTypes={},s.defaultProps={component:"div",childFactory:function(e){return e}},t.default=(0,i.polyfill)(s),e.exports=t.default},b0L8:function(e,t){var n="Expected a function";e.exports=function(e,t,r){if("function"!=typeof e)throw new TypeError(n);return setTimeout((function(){e.apply(void 0,r)}),t)}},llpN:function(e,t,n){var r=n("MQR1"),a="Expected a function";e.exports=function(e,t){var n;if("function"!=typeof t)throw new TypeError(a);return e=r(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}},wfc8:function(e,t,n){"use strict";var r=l(n("0sFh")),a=l(n("JIWn")),o=l(n("SlVY")),i=l(n("1iRG"));function l(e){return e&&e.__esModule?e:{default:e}}e.exports={Transition:i.default,TransitionGroup:o.default,ReplaceTransition:a.default,CSSTransition:r.default}}}]);
//# sourceMappingURL=pjs-ExperiencesBeforeHomefeed-8fc96a70dff54d0cc74f.js.map
