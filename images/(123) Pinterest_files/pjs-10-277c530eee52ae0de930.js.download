(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[10],{Kb0Y:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var o=n("GyhR"),r=n.n(o),a=n("+U6O");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s={__path:"M8.134 8.116a1.25 1.25 0 0 0-1.768 0L4.25 10.232 2.134 8.116A1.25 1.25 0 0 0 .366 9.884L2.483 12 .366 14.116a1.25 1.25 0 0 0 1.768 1.768l2.116-2.117 2.116 2.117a1.248 1.248 0 0 0 1.768 0 1.25 1.25 0 0 0 0-1.768L6.018 12l2.116-2.116a1.25 1.25 0 0 0 0-1.768M24 8v8a2.5 2.5 0 0 1-2.5 2.5h-8A2.5 2.5 0 0 1 11 16V8a2.5 2.5 0 0 1 2.5-2.5h8A2.5 2.5 0 0 1 24 8"},f=function(e){function t(){var e,n,o,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,c=new Array(a),u=0;u<a;u++)c[u]=arguments[u];return o=this,r=(e=l(t)).call.apply(e,[this].concat(c)),n=!r||"object"!==i(r)&&"function"!=typeof r?d(o):r,p(d(d(n)),"state",{hovered:!1}),p(d(d(n)),"handleMouseEnter",(function(e){return n.setState({hovered:!0})})),p(d(d(n)),"handleMouseLeave",(function(e){return n.setState({hovered:!1})})),n}var n,o,f;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){var e=this.props,t=e.bold,n=e.icon,o=e.text,i=e.description,c=e.isContextMenuV2Exp,l=Array.isArray(o)?o.join(""):o;return r.a.createElement("div",{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},r.a.createElement(a.c,{alignItems:"start",color:this.state.hovered?"lightGray":"transparent",display:"flex",direction:"row",overflow:"hidden",paddingX:4,paddingY:2,marginStart:-1,marginEnd:-1,title:l},!c&&n&&r.a.createElement(a.c,{flex:"none",padding:1},"unfollow"===n?r.a.createElement(a.n,{accessibilityLabel:"",color:"darkGray",dangerouslySetSvgPath:s,size:16}):r.a.createElement(a.n,{accessibilityLabel:"",color:"darkGray",icon:n,size:16})),r.a.createElement(a.c,{flex:"grow",display:"flex",direction:c?"row":"column",padding:1,width:"100%",alignItems:c?"center":"start"},r.a.createElement(a.K,{bold:t,size:c?"sm":"md",color:"darkGray"},o),r.a.createElement(a.c,{display:"flex",alignItems:"center"},!c&&i&&r.a.createElement(a.c,{marginTop:1},r.a.createElement(a.K,{color:"darkGray",overflow:"normal"},i))))))}}])&&c(n.prototype,o),f&&c(n,f),t}(o.PureComponent);p(f,"defaultProps",{bold:!0})},aaO7:function(e,t,n){"use strict";function o(e,t,n,o){return{type:"PIN_SHOW_UNDO_AND_FEEDBACK",payload:{id:e,value:!0,text:t,undoAction:n,undoText:o}}}function r(e){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!1}}}function a(e,t){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!0,text:t}}}function i(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!0}}}function c(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!1}}}n.d(t,"e",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return c}))},nZV1:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c}));var o=n("ePT2"),r=function(){};var a={complaint:function(e,t){o.a.create("PinFeedbackResource",e).callUpdate().then((function(){return t()}))},enablePFY:function(e,t){o.a.create("PFYPreferenceResource",e).callCreate().then((function(){return t()}))},followBoard:function(e,t){o.a.create("BoardFollowResource",e).callCreate().then((function(){return t()}))},followPinner:function(e,t){o.a.create("UserFollowResource",e).callCreate().then((function(){return t()}))},followTopic:function(e,t){o.a.create("InterestFollowResource",e).callCreate().then((function(){return t()}))},newsHubPinHide:function(e,t){o.a.create("NewsHubPinFeedbackResource",e).callUpdate().then((function(){return t()}))},promotedComplaint:function(e,t){o.a.create("PinFeedbackResource",e).callUpdate().then((function(){return t()}))},relatedPinHide:function(e,t){o.a.create("RelatedPinFeedbackResource",e).callUpdate().then((function(){return t()}))},reportPin:function(e,t){t()},unfollowBoard:function(e,t){o.a.create("BoardFollowResource",e).callDelete().then((function(){return t()}))},unfollowPinner:function(e,t){o.a.create("UserFollowResource",e).callDelete().then((function(){return t()}))},unfollowTopic:function(e,t){o.a.create("InterestFollowResource",e).callDelete().then((function(){return t()}))},unrelatedSearchPin:function(e,t){o.a.create("SearchPinFeedbackResource",e).callUpdate().then((function(){return t()}))}},i=["complaint","relatedPinHide","unrelatedSearchPin","promotedComplaint","newsHubPinHide","unfollowBoard","unfollowPinner","unfollowTopic"];function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r,o=a[e];return o?o(t,n):n()}},wSOZ:function(e,t,n){"use strict";var o=n("GyhR"),r=n.n(o),a=n("Ivf5"),i=n("wxfF"),c=n("Kb0Y"),l=n("rSK6"),u=n("Qo1m"),d=n("iJ35"),p=n("E/Qu"),s=n("9Y9K"),f=n("JU/q"),m=n("Irlq"),b=n("dsNV"),y=n("NmcB"),h=n("JsRk"),w=n("aaO7"),g=n("2YES"),k=n("+U6O"),v=n("nZV1");function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){C(e,t,n[t])}))}return e}function x(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j={color:"white",textDecorationColor:"white"},R=function(e){function t(e){var n,o,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,a=E(t).call(this,e),n=!a||"object"!==_(a)&&"function"!=typeof a?S(o):a,C(S(S(n)),"getRecommendationDescription",(function(){var e=n.props,t=e.ad_match_reason,o=e.board,r=e.feedbackType,a=e.pinner,i=e.promoter,c=e.recommendationReason,l=e.sourceInterest;return n.feedbackHelpers.getRecommendationDescription({ad_match_reason:t,board:o,feedbackType:r,makeNavigateLink:n.makeNavigateLink,pinner:a,promoter:i,recommendationReason:c,sourceInterest:l})})),C(S(S(n)),"getRecommendationDescriptionImage",(function(){var e,t,o,a=n.props,i=a.board,c=a.feedbackType,l=a.pinner,u=a.recommendationReason;return"followed"!==c&&"pfyBoard"!==c?null:(l&&l.explicitly_followed_by_me?(e=l.image_small_url,t="50%",o="/".concat(l.username)):i&&i.image_thumbnail_url&&(e=i.image_thumbnail_url,t="4px",o=u&&u.board&&u.board.url||i.url),e?r.a.createElement(k.c,{marginStart:3,flex:"none",dangerouslySetInlineStyle:{__style:{borderRadius:t}},overflow:"hidden"},r.a.createElement(k.P,{onTouch:function(){return n.props.router.push(o)}},r.a.createElement(k.u,{width:40,height:40,wash:!0},r.a.createElement(k.p,{src:e,naturalHeight:1,naturalWidth:1,alt:"",fit:"cover"})))):null)})),C(S(S(n)),"getUnfollowAction",(function(){var e=n.props,t=e.board,o=e.feedbackType,r=e.pinner,a=e.sourceInterest;return n.feedbackHelpers.getUnfollowAction({board:t,feedbackType:o,makeNavigateLink:n.makeNavigateLink,pinner:r,sourceInterest:a})})),C(S(S(n)),"getUndoText",(function(e){return"unfollowPinner"===e||"unfollowBoard"===e?u.a._("Follow again","Caption for button to undo a unfollowing of a topic"):""})),C(S(S(n)),"generateUndoHideCallback",(function(e,t){return function(){var o=n.props,r=o.dispatch,a=o.pinId,i=o.viewType,c=o.viewParameter,l=P({},e,{undo:!0}),u=t;"unfollowPinner"===t?u="followPinner":"unfollowBoard"===t?u="followBoard":"unfollowTopic"===t&&(u="followTopic"),Object(v.a)(u,l),r(Object(w.b)(a)),Object(y.a)(101,{component:0,element:11181,view:i,viewParameter:c})}})),C(S(S(n)),"feedbackHelpers",Object(l.a)({i18n:u.a,interpolateNamedTemplate:m.b,isContextMenuV2Exp:n.props.isContextMenuV2Exp})),C(S(S(n)),"makeNavigateLink",(function(e,t,o,a){var i=P({display:"inline"},a?j:{});return r.a.createElement(d.b,{className:"underlineLink",key:e,to:t,onClick:n.props.onLinkClick},r.a.createElement(k.c,{dangerouslySetInlineStyle:{__style:i}},o))})),C(S(S(n)),"reportPinOption",(function(){return{action:"reportPin",elementType:974,icon:"report",text:n.props.isContextMenuV2Exp?u.a._("Report Pin","Report a pin in the dropdown"):u.a._("Report","Report a pin in the dropdown"),description:u.a._("This goes against Pinterest's community guidelines","Description for the report pin option"),callback:n.props.reportPin}})),C(S(S(n)),"hidePinOption",(function(e){var t=n.props,o=t.feedbackData,r=t.feedbackType,a=t.pinId,i=t.isContextMenuV2Exp,c=t.recommendationReason,l="search"===r?973:982,d=n.feedbackHelpers.getHidePinAction({feedbackData:o,feedbackType:r,pinId:a,recommendationReasonId:i&&c&&c.reason&&b.ReasonToChoose[c.reason],pinFeedbackType:i&&("pfy"===r?4:10),throughId:c&&n.getThroughId()}),p=d.action,s=d.actionOptions,f=u.a._("Hide Pin","message displayed in pin feedback list");return{action:p,actionOptions:s,feedbackText:n.pinHiddenFeedbackText(e),icon:"cancel",text:f,description:u.a._("See fewer Pins like this","Description for the hide pin option"),elementType:l}})),C(S(S(n)),"stopRecommendationOption",(function(){var e=n.props,t=e.feedbackData,o=e.feedbackType,r=e.pinId,a=e.recommendationReason,i=a.board,c=a.reason,l=c&&b.ReasonToChoose[c],d=a&&n.getThroughId(),p="pfyBoard"===o,s=n.feedbackHelpers.getHidePinAction({feedbackData:t,feedbackType:o,pinId:r,recommendationReasonId:l,pinFeedbackType:p?2:4,throughId:d}),f=s.action,y=s.actionOptions,h=!!i&&n.makeNavigateLink("boardUrl",i.url,i.name,!0);return{action:f,actionOptions:y,feedbackText:{subTitle:p&&i?Object(m.b)(u.a._("We won't show you Pins inspired by your board {{ formattedBoard }} anymore.","Primary caption displayed in pin feedback list to unfollow a board"),{formattedBoard:h}):u.a._("Got it! We won't show you Pins like this in the future.","message displayed after stopping recommendations from a pin")},text:p&&i?Object(m.b)(u.a._("Stop seeing Pins inspired by {{ boardName }}","Primary caption displayed in pin feedback list to unfollow a board"),{boardName:i.name}):u.a._("See fewer Pins like this","Feedback option to stop recommendations inspired by this Pin"),elementType:284}})),C(S(S(n)),"unfollowBoardOption",(function(){var e=n.props,t=e.board,o=e.isContextMenuV2Exp,r=n.makeNavigateLink("boardUrl",t.url,t.name,!0),a=o?Object(m.b)(u.a._("Unfollow {{ boardName }}","Primary caption displayed in pin feedback list to unfollow a board"),{boardName:t.name}):u.a._("Unfollow board","Primary caption displayed in pin feedback list to unfollow a board"),i=o?Object(m.b)(u.a._("Got it! You unfollowed {{ formattedBoard }} and won't see Pins saved to it in the future.","Confirmation text after unfollowing a board"),{formattedBoard:r}):Object(m.b)(u.a._("You’ve unfollowed the board {{ formattedBoard }}.\n         You can follow it again by searching for it.","Confirmation text after unfollowing a board"),{formattedBoard:r});return{action:"unfollowBoard",actionOptions:{board_id:t.id},feedbackText:{title:o?"":u.a._("Unfollowed","Title shown when unfollowing a certain board"),subTitle:i},icon:"unfollow",text:a,description:Object(m.b)(u.a._('Stop seeing Pins from the board "{{ boardName }}"',"Secondary caption displayed in pin feedback list to unfollow a board"),{boardName:t.name}),elementType:10614}})),C(S(S(n)),"unfollowTopicOption",(function(){var e=n.props,t=e.sourceInterest,o=e.isContextMenuV2Exp;if(t){var r=t.id,a=t.name,i=t.url_name,c="/topics/".concat(i),l=n.makeNavigateLink("topicUrl",c,a,!0),d=o?Object(m.b)(u.a._("See fewer Pins from {{ topicName }}","Primary caption displayed in pin feedback list to unfollow a topic"),{topicName:a}):u.a._("Unfollow topic","Primary caption displayed in pin feedback list to unfollow a topic"),p=o?Object(m.b)(u.a._("We'll show you fewer Pins from {{ formattedTopic }} in the future.","Confirmation text after unfollowing a topic"),{formattedTopic:l}):Object(m.b)(u.a._("Got it! We won’t show you Pins from {{ formattedTopic }} in the future.","Confirmation text after unfollowing a topic"),{formattedTopic:l});return{action:"unfollowTopic",actionOptions:{interest_id:r,interest_list:f.a},feedbackText:{title:o?"":u.a._("Unfollowed","Title shown when unfollowing a certain topic"),subTitle:p},icon:"unfollow",text:d,description:Object(m.b)(u.a._('Stop seeing Pins from the topic "{{ topicName }}"',"Secondary caption displayed in pin feedback list to unfollow a topic"),{topicName:t.name}),elementType:976}}return null})),C(S(S(n)),"unfollowUserOption",(function(){var e=n.props,t=e.pinner,o=e.isContextMenuV2Exp,r=t.id,a=t.username,i=t.full_name,c="/".concat(a),l=n.makeNavigateLink("pinnerUrl",c,i,!0),d=o?Object(m.b)(u.a._("Got it! You unfollowed {{ formattedUser }} and won't see Pins they save in the future.","Confirmation text after unfollowing a user"),{formattedUser:l}):Object(m.b)(u.a._("You’ve unfollowed {{ formattedUser }}. You can follow again by searching for them.","Confirmation text after unfollowing a user"),{formattedUser:l});return{action:"unfollowPinner",actionOptions:{user_id:r},feedbackText:{title:o?"":u.a._("Unfollowed","Title shown when unfollowing a certain user"),subTitle:d},icon:"person",text:Object(m.b)(u.a._("Unfollow {{ fullName }}","Primary caption displayed in pin feedback list to unfollow a user"),{fullName:i}),description:u.a._("Stop seeing all their Pins","Secondary caption displayed in pin feedback list to unfollow a user"),elementType:10640}})),C(S(S(n)),"downloadPinOption",(function(){return{action:"downloadPin",icon:"download",text:u.a._("Download image","Button to download Pin image"),elementType:10836}})),C(S(S(n)),"_pinFeedbackText",(function(){var e=n.props,t=e.location,o=e.feedbackType,r=e.hideDownload,a=e.isContextMenuV2Exp,i=e.pinner,c="followed"===n.props.feedbackType,l=t.pathname.includes("following"),d=(c||"topic"===o)&&!l,p=n.hidePinOption(d),s=n.reportPinOption(),f="promoted"!==o&&!r;switch(o){case"followed":var m=l,b=!m&&n.getRecommendationDescription(),y=i.explicitly_followed_by_me?n.unfollowUserOption():n.unfollowBoardOption();return P({},b?{description:b}:{},{options:a?[p].concat(O(d||m?[y]:[]),O("promoted"!==o?[n.downloadPinOption()]:[]),[s]):O(d?[n.unfollowBoardOption()]:[]).concat(O("promoted"!==o?[n.downloadPinOption()]:[]),[p,s],O(m?[n.unfollowBoardOption(),n.unfollowUserOption()]:[]))});case"promoted":var h=n.props.ad_match_reason,w=[p,{icon:"question-mark",link:n.feedbackHelpers.getLearnMoreUrl(h),text:u.a._("Why am I seeing this ad?","Link to promoted pins explanation page")},s];return{description:n.getRecommendationDescription(),options:w};case"topic":var g=n.unfollowTopicOption(),k=a?[p].concat(O(d&&g?[g]:[]),O(f?[n.downloadPinOption()]:[]),[s]):O(d&&g?[g]:[]).concat(O(f?[n.downloadPinOption()]:[]),[p,s]);return{description:n.getRecommendationDescription(),options:k};case"pfy":case"pfyBoard":var v=a?[p].concat(O("pfyBoard"===o?[n.stopRecommendationOption()]:[]),O(f?[n.downloadPinOption()]:[]),[s]):O(f?[n.downloadPinOption()]:[]).concat([p,s]);return{description:n.getRecommendationDescription(),options:v};default:var _=a?[p].concat(O(f?[n.downloadPinOption()]:[]),[s]):O(f?[n.downloadPinOption()]:[]).concat([p,s]);return{description:n.getRecommendationDescription(),options:_}}})),C(S(S(n)),"handleSecondaryFeedbackItemClick",(function(e,t){var o=n.props,r=o.feedbackData,a=o.feedbackType,i=o.pinId,c=o.onHide,l=o.recommendationReason,u=l&&l.reason&&b.ReasonToChoose[l.reason],d=l&&n.getThroughId(),p=n.feedbackHelpers.getHidePinAction({feedbackData:r,feedbackType:a,pinId:i,recommendationReasonId:u,throughId:d,complaintReason:e}),s=p.action,f=p.actionOptions;n.handleClickLogging(t),Object(v.a)(s,f),c()})),C(S(S(n)),"pinHiddenFeedbackText",(function(e){var t=n.props.isContextMenuV2Exp,o=e?null:n.getUnfollowAction();return o?{title:t?"":u.a._("Pin hidden","Pin feedback"),subTitle:n.getRecommendationDescription(),unfollow:o}:{title:t?"":u.a._("Pin hidden","message displayed after hiding a pin"),subTitle:t?u.a._("Got it! We won't show you this Pin in the future.","message displayed after hiding a pin"):u.a._("Got it! We'll try to show you more relevant Pins in the future.","message displayed after hiding a pin")}})),C(S(S(n)),"renderSecondaryFeedbackItem",(function(e){var t=e.text,o=e.reason,a=e.elementType,i=n.props.isContextMenuV2Exp;return r.a.createElement(k.P,{onTouch:function(){return n.handleSecondaryFeedbackItemClick(o,a)},fullWidth:!1,key:t},r.a.createElement(c.a,{text:t,isContextMenuV2Exp:i}))})),C(S(S(n)),"renderSecondaryFeedback",(function(){var e="promoted"===n.props.feedbackType?[{text:u.a._("Not relevant to me","Feedback option for Pin"),reason:10,elementType:1296},{text:u.a._("Seen Pin too many times",""),reason:3,elementType:11172},{text:u.a._("Blurry or pixelated image","low quality picture"),reason:13,elementType:10898}]:[{text:u.a._("Not relevant to me","Feedback option for Pin"),reason:10,elementType:1296},{text:u.a._("Not in a language I understand",""),reason:15,elementType:11178},{text:u.a._("Seen Pin too many times",""),reason:3,elementType:295},{text:u.a._("Blurry or pixelated image","low quality picture"),reason:13,elementType:10898},{text:u.a._("Other",""),reason:8,elementType:11179}];return r.a.createElement(k.c,{overflow:"hidden",width:"100%",shape:"rounded"},r.a.createElement(k.c,{paddingX:4,paddingY:4},r.a.createElement(k.K,{color:"darkGray",size:"sm"},u.a._("Got a moment? Tell us why.","Title of follow up question after negative Pin feedback"))),r.a.createElement(k.j,null),r.a.createElement(k.c,{paddingY:2},e.map(n.renderSecondaryFeedbackItem)))}));var i=n._pinFeedbackText();return n.state={pinFeedbackConfig:i,showSecondary:!1},n}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(t,e),n=t,(o=[{key:"onPinFeedbackActionButtonClick",value:function(e,t,n){e.stopPropagation(),t.auxData?this.handleClickLogging(t.elementType,t.auxData):this.handleClickLogging(t.elementType),Object(v.a)(t.action,t.actionOptions,n)}},{key:"onPinHide",value:function(e,t,n,o){var r=this.props,a=r.dispatch,i=r.onHide,c=r.pinId,l=r.isContextMenuV2Exp;a(t&&n&&o?Object(w.e)(c,e,this.generateUndoHideCallback(n,o),this.getUndoText(o)):Object(w.a)(c,e)),!l||!n||n.promoted||10!==n.feedback_type&&4!==n.feedback_type?i():(this.setState({showSecondary:!0}),a(Object(w.d)(c)))}},{key:"getThroughId",value:function(){var e=this.props.recommendationReason;return e.reason_id?e.reason_id:e.board?e.board.id:e.pin?e.pin.id:e.interest?e.interest.id:""}},{key:"getComponentType",value:function(){switch(this.props.feedbackType){case"promoted":return 60;case"followed":case"topic":return 100;case"pfyBoard":case"pfy":return 58}}},{key:"makeStrongText",value:function(e,t){return r.a.createElement("strong",{key:e},t)}},{key:"handleClickLogging",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.props,o=n.viewParameter,r=n.viewType;Object(y.a)(101,P({},t,{view:r,viewParameter:o,element:e,component:this.getComponentType()}))}},{key:"renderDownloadButton",value:function(){var e=this.props,t=e.bestPinImgSrc,n=e.pinTitle,o=e.pinDescription,a=e.pinCategory,l=e.isContextMenuV2Exp;return r.a.createElement(i.a,{imgSrc:t,filename:n||o,category:a},(function(e){return r.a.createElement(k.P,{onTouch:e,fullWidth:!1},r.a.createElement(c.a,{text:u.a._("Download image","Button to download Pin image"),icon:"download",isContextMenuV2Exp:l}))}))}},{key:"renderButtons",value:function(){for(var e=this,t=this.props.isContextMenuV2Exp,n=this.state.pinFeedbackConfig.options,o=[],a=n.length,i=function(i){var l=n[i],u=!t&&i<a-1,s=v.b.includes(l.action),f=l.callback?l.callback:function(){return e.onPinHide(l.feedbackText,s,l.actionOptions,l.action)};"downloadPin"!==l.action?o.push(r.a.createElement(k.c,{key:i},l.link?r.a.createElement(d.b,{external:!0,to:l.link},r.a.createElement(c.a,{text:l.text,icon:l.icon,description:l.description,isContextMenuV2Exp:t})):r.a.createElement(k.P,{onTouch:function(t){var n=t.event;return e.onPinFeedbackActionButtonClick(n,l,f)},fullWidth:!1},r.a.createElement(c.a,{text:l.text,icon:l.icon,description:l.description,isContextMenuV2Exp:t})),u&&r.a.createElement(k.j,null))):"undefined"!=typeof window&&"windows"!==Object(p.b)(window)&&o.push(r.a.createElement(k.c,{key:i},e.renderDownloadButton(),u&&r.a.createElement(k.j,null)))},l=0;l<a;l+=1)i(l);return o}},{key:"render",value:function(){var e=this.props.isContextMenuV2Exp,t=this.state,n=t.pinFeedbackConfig,o=t.showSecondary,a=n.description,i=this.getRecommendationDescriptionImage();return e?r.a.createElement(k.c,{overflow:"hidden",width:"100%"},o?this.renderSecondaryFeedback():r.a.createElement(k.c,null,a&&r.a.createElement(k.c,null,r.a.createElement(k.c,{padding:4,display:"flex",alignItems:"center"},r.a.createElement(k.c,{maxHeight:56,overflow:"hidden"},r.a.createElement(k.K,{color:"darkGray",size:"sm",overflow:"normal"},a)),i),r.a.createElement(k.j,null)),r.a.createElement(k.c,{marginTop:2,marginBottom:3},this.renderButtons()))):r.a.createElement(k.c,{overflow:"hidden",width:"100%"},this.renderButtons(),a&&r.a.createElement(k.c,null,r.a.createElement(k.j,null),r.a.createElement(k.c,{paddingX:4,paddingY:3},r.a.createElement(k.K,{color:"darkGray"},a))))}}])&&x(n.prototype,o),a&&x(n,a),t}(r.a.Component);t.a=Object(s.compose)(Object(a.connect)(),g.e,h.withRouter)(R)},wxfF:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var o=n("GyhR"),r=n("ggpB"),a=n("+U6O");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function(e){function t(){var e,n,o,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,u=new Array(c),s=0;s<c;s++)u[s]=arguments[s];return o=this,a=(e=l(t)).call.apply(e,[this].concat(u)),n=!a||"object"!==i(a)&&"function"!=typeof a?d(o):a,p(d(d(n)),"state",{href:void 0}),p(d(d(n)),"onEvent",(function(){if("undefined"!=typeof window){var e=n.props,t=e.imgSrc,o=e.isUnauth,a=e.category;null==n.state.href&&fetch(t,{headers:new Headers({Origin:location.origin}),mode:"cors"}).then((function(e){return e.blob()})).then((function(e){n.setState({href:window.URL.createObjectURL(e)},(function(){n.imageDownload&&n.imageDownload.click()}))})).catch((function(){return n.setState({href:n.DOWNLOAD_ERROR})})),Object(r.a)("web.".concat(o?"unauth":"auth",".download.click.").concat(a||"no_category"))}})),p(d(d(n)),"DOWNLOAD_ERROR","error"),n}var n,s,f;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,e),n=t,(s=[{key:"render",value:function(){var e=this,t=this.props.children,n=this.props.filename,r=this.state.href,i=null!=r&&r!==this.DOWNLOAD_ERROR;return o.createElement(o.Fragment,null,t(this.onEvent),i&&o.createElement(a.c,{display:"none"},o.createElement("a",{ref:function(t){return e.imageDownload=t},tabIndex:-1,download:n&&n.replace(".","_"),href:r})))}}])&&c(n.prototype,s),f&&c(n,f),t}(o.Component)}}]);
//# sourceMappingURL=pjs-10-277c530eee52ae0de930.js.map
