(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[29],{"24KF":function(e,t,n){"use strict";n.r(t),n.d(t,"PinRepEditButton",(function(){return c}));var o=n("GyhR"),r=n("/mke"),i=n("Qo1m"),a=n("Oeu6"),l=n("+U6O"),c=function(e){var t=e.handlePinEditButtonClick,n=e.iconSize,a=e.style,c=e.useLegoStyles,d=void 0!==c&&c,s=e.usePersistentOneClickSaveStyles,u=e.wrappingIconStyle;return d||s?o.createElement(r.a,{accessibilityLabel:i.a._("Edit","edit button on pin"),bgColor:a&&a.bgColor||"white",icon:"edit",iconColor:a&&a.iconColor||"darkGray",iconSize:n||12,onClick:function(e){var n=e.event;return t(n)},size:a&&a.size||"md",wrappingPogStyle:u}):o.createElement(l.o,{accessibilityLabel:i.a._("Edit","edit button on pin"),bgColor:a&&a.bgColor||"white",icon:"edit",iconColor:a&&a.iconColor||"darkGray",onClick:function(e){var n=e.event;return t(n)},size:a&&a.size||"md"})};t.default=Object(a.a)(c)},CmIM:function(e,t,n){"use strict";function o(e){return{type:"PIN_BETTER_SAVE",payload:e}}function r(e){return{type:"PIN_BETTER_UNSAVE",payload:e}}function i(e){return{type:"PIN_BETTER_SELECT_BOARD_OR_SECTION",payload:e}}function a(e){return{type:"POST_REPIN_MORE_IDEAS_UPSELL_SHOWN",payload:{boardId:e}}}n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a}))},M1pi:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i}));var o={CONDITIONAL:0,EMOTIONAL_DISDRESS_OR_SUICIDE:4},r={ABUSIVE:0,SENSITIVE:1,BRAND_UNSAFE:2};function i(e){return!!e&&e.severity===r.ABUSIVE}},YwMX:function(e,t,n){},cbcT:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var o=function(e,t){return{type:"MOST_RECENT_BOARD",payload:{id:e,name:t}}}},qoD0:function(e,t,n){"use strict";n.r(t);var o=n("GyhR"),r=n.n(o),i=n("Ivf5"),a=(n("YwMX"),n("HvLx")),l=n("PNko"),c=n.n(l),d=n("POeB"),s=n("XwKk"),u=n("Qo1m"),p=n("jE+E");function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function m(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var S=function(e){function t(){var e,n,o,r,i,a,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,d=new Array(c),s=0;s<c;s++)d[s]=arguments[s];return o=this,r=(e=v(t)).call.apply(e,[this].concat(d)),n=!r||"object"!==f(r)&&"function"!=typeof r?h(o):r,i=h(h(n)),l=function(){var e=n.props,t=e.setActive,o=e.showOnTopOfModal;t("flyout",b(e,["setActive","showOnTopOfModal"]),o||!1)},(a="renderFlyout")in i?Object.defineProperty(i,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[a]=l,n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,e),n=t,(o=[{key:"componentDidMount",value:function(){this.renderFlyout()}},{key:"componentDidUpdate",value:function(){this.renderFlyout()}},{key:"componentWillUnmount",value:function(){this.props.setActive()}},{key:"render",value:function(){return null}}])&&m(n.prototype,o),r&&m(n,r),t}(o.Component),g=function(e){return o.createElement(p.a.Consumer,null,(function(t){return o.createElement(S,Object.assign({},e,{setActive:t}))}))};g.displayName="MasonryFlyout";var _=g,w=n("iJ35"),O=n("24KF"),I=n("ePT2"),B=n("KsVg"),E=n("3DU5"),P=n("CAUj"),C=n("9Y9K"),j=n("EGTn"),R=n("4+0X"),k=n("Irlq"),T=n("M1pi"),D=n("RTyF"),A=n("io0I"),L=n("cbcT"),N=n("mpDz"),x=n("lixz"),M=n("b7z0"),U=n("NmcB"),F=n("3Wjl"),z=n("KCDi"),H=n("CmIM");function K(e){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var V=function(e){var t=e.boardId,n=e.boardUrl,o=e.postRepinMoreIdeasUpsell;if(!n)return!1;var r=o.recentSaves;if(o.recentUpsell[t])return!1;var i=r.findIndex((function(e){return e.boardId!==t}));return(-1===i?r.length:i)+1>=3},Y=function(e){function t(){var e,n,o,r,i,a,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,d=new Array(c),s=0;s<c;s++)d[s]=arguments[s];return o=this,r=(e=G(t)).call.apply(e,[this].concat(d)),n=!r||"object"!==K(r)&&"function"!=typeof r?q(o):r,i=q(q(n)),l=function(){var e=n.props.boardId;Object(U.a)(101,{component:20,element:10805,objectId:e})},(a="handleClick")in i?Object.defineProperty(i,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[a]=l,n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){(0,this.props.toastShown)()}},{key:"render",value:function(){var e=this.props,t=e.boardName,n=e.boardUrl,r=e.onHide;return o.createElement(z.a,{duration:5e3,onHide:r,text:Object(k.b)(u.a._("Find more ideas for {{ boardName }}"),{boardName:t}).join(""),href:"".concat(n,"more_ideas/?ideas_referrer=").concat(16),onClick:this.handleClick})}}])&&W(n.prototype,r),i&&W(n,i),t}(o.PureComponent),Q=Object(i.connect)(null,(function(e,t){return{toastShown:function(){return e(Object(H.c)(t.boardId))}}}))(Y),J=n("Y2BC"),Z=n("Kqiz"),$=n("2YES"),ee=n("+U6O"),te=n("kR61");function ne(e){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){ce(e,t,n[t])}))}return e}function re(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ie(e){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ae(e,t){return(ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function le(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"PinBetterSave",(function(){return fe}));var de=40,se=44,ue=4;function pe(e){var t=e.savedInfo,n="lego-closeup"===e.variant,o=n?"sm":"md",i=n?"semibold":"bold";return r.a.createElement(w.b,{className:"underlineLink",stopPropagation:!0,style:{color:"#333"},to:t.url},r.a.createElement(ee.c,{marginStart:n?1:0},r.a.createElement(ee.K,{color:"darkGray",inline:!0,size:o},Object(k.b)(u.a._("Saved to {{ destination }}","Saved to label for better save"),{destination:r.a.createElement(M.a,{color:"darkGray",inline:!0,key:"pin_auto_save_link",size:o,weight:i},t.title)}))))}var fe=function(e){function t(){var e,n,o,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,c=new Array(l),s=0;s<l;s++)c[s]=arguments[s];return o=this,i=(e=ie(t)).call.apply(e,[this].concat(c)),n=!i||"object"!==ne(i)&&"function"!=typeof i?le(o):i,ce(le(le(n)),"state",{boardWithSection:null,buttonRef:null,createdBoard:null,suggestedBoardTitle:"",showBoardFlyout:!1,showRepinModal:!1,sensitiveContentNotice:null}),ce(le(le(n)),"saveButtonRef",(function(e){n.setState({buttonRef:e})})),ce(le(le(n)),"setBoardSaveCompletionPromise",(function(e){var t=n.state.createdBoard;n._repinCompletionPromise=e,n._repinCompletionPromise.promise.then((function(e){if(e.board){var o=e.board,r={boardId:o.id,title:o.name,url:o.url};n.updateSelectedBoardOrSection(r),n.updateSavedState(oe({},r,{localPinId:e.id})),t&&Object(T.c)(t.sensitivity)&&t.sensitivity&&t.sensitivity.notice?n.setState({sensitiveContentNotice:t.sensitivity.notice}):n.handleRepinHide()}}))})),ce(le(le(n)),"updateSavedState",(function(e){var t=n.props,o=t.location,r=t.save,i=t.searchQueryInvalidated,a=t.onSave,l=t.pin.id,c=o.query&&o.query.q||Object(j.a)(o.history);r(oe({pinId:l},e)),c&&i(c),a&&a()})),ce(le(le(n)),"updateSelectedBoardOrSection",(function(e){var t=n.props;(0,t.selectBoardOrSection)(oe({pinId:t.pin.id},e))})),ce(le(le(n)),"updateSelectedItem",(function(){var e=n.props,t=e.initialSelection;!e.selectedItem&&t&&n.updateSelectedBoardOrSection(t)})),ce(le(le(n)),"dropdownRef",r.a.createRef()),ce(le(le(n)),"handleItemChosen",(function(e){n.updateSelectedBoardOrSection(e),n.hideFlyout(!0),n.save(e)})),ce(le(le(n)),"handleBoardCreate",Object(a.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.title,o=void 0===t?"":t;n.hideFlyout(!0),n.setState((function(e){return oe({},e,{suggestedBoardTitle:o,showRepinModal:!0})}));var r=n.props.onToggleFlyout;r&&r(!0,!0)}))),ce(le(le(n)),"handleBoardCreated",(function(e){n.setState({createdBoard:e})})),ce(le(le(n)),"handleRepinHide",(function(){n.setState((function(e){return oe({},e,{suggestedBoardTitle:"",showRepinModal:!1})}));var e=n.props.onToggleFlyout;e&&e(!1,!1)})),ce(le(le(n)),"handleBoardDropdownClick",(function(e){var t=n.props,o=t.pin.id,r=t.viewParameter;e&&e.preventDefault&&e.preventDefault(),e&&e.stopPropagation&&e.stopPropagation(),n.state.showBoardFlyout?n.hideFlyout(!0):(Object(U.a)(101,{component:13282,element:10960,viewParameter:r,objectId:o}),Object(x.g)(16),n.showFlyout())})),ce(le(le(n)),"handleSaveClick",(function(e){var t=n.props.selectedItem;t?(e&&e.preventDefault&&e.preventDefault(),e&&e.stopPropagation&&e.stopPropagation(),Object(U.a)(101,{component:13282,element:36,objectId:t.boardId,grid_index:ue}),n.save(t)):n.handleBoardDropdownClick(e)})),ce(le(le(n)),"setBoardWithSection",(function(e){n.setState({boardWithSection:e})})),ce(le(le(n)),"handleEditSubmit",(function(e){var t=e.boardId,o=e.sectionId,r=e.url,i=e.title,a=n.props,l=a.pin.id,c=a.savedInfo,d=(c=void 0===c?{}:c).localPinId;n.updateSavedState({pinId:l,localPinId:d,boardId:t,sectionId:o||"",url:r,title:i})})),ce(le(le(n)),"resetPinSavedState",(function(){n.updateSavedState({boardId:"",localPinId:"",sectionId:"",title:"",url:""})})),ce(le(le(n)),"deleteSavedState",(function(){var e=n.props,t=e.unsave,o=e.onDelete;t({pinId:e.pin.id}),o&&o()})),ce(le(le(n)),"save",(function(e){var t=n.props,o=t.isLimitedLogin,i=t.mostRecentBoard,a=t.pin.id,l=t.postRepinMoreIdeasUpsell,c=t.postRepinUpsellDisabled,s=t.save,u=t.setMostRecentBoard,p=t.showRepinAnimation,f=t.showToast;return n.updateSavedState(e),n.getPinResource(e).callCreate({showError:!1}).then((function(t){var o=t.resource_response.data,d=e.url,b=n.props,m=b.incrementBoardPinCount,v=b.updateUserPinCount,y=b.viewerUserId;!c&&d&&V({boardId:e.boardId,boardUrl:d,postRepinMoreIdeasUpsell:l})&&f((function(t){var n=t.onHide;return r.a.createElement(Q,{boardId:e.boardId,boardName:e.title,boardUrl:d,onHide:n})})),s(oe({pinId:a},oe({},e,{localPinId:o.id}))),R.b.publish("currentUser","pinCreated",o),R.b.publish(o.board.id,"pinCreated",{pin:o}),m({boardId:e.boardId,sectionId:e.sectionId}),v(y),p(a),i&&e.boardId!==i.id&&u(e.boardId,e.title)})).catch((function(e){o||d.a.showError(e.message_detail||e.message),n.resetPinSavedState()}))})),ce(le(le(n)),"hideFlyout",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=n.props.onToggleFlyout;n.setState({showBoardFlyout:!1}),t&&t(!1,e)})),n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ae(e,t)}(t,e),n=t,(o=[{key:"componentDidMount",value:function(){this.updateSelectedItem()}},{key:"componentDidUpdate",value:function(e){this.updateSelectedItem()}},{key:"getPinResource",value:function(e){var t=this.props,n=t.carousel_data,o=t.location,r=t.pin,i=n&&n.index,a=Object(s.a)(r,o)||"".concat(r.tracking_params,"~0"),l=oe({description:r.description||"",link:r.link,title:r.title||"",clientTrackingParams:a,board_id:e.boardId||"",pin_id:r.id||"",image_base64:r.image_base64,is_buyable_pin:!1,is_removable:r.promoted_is_removable,carousel_slot_index:i||0},e.sectionId?{section:e.sectionId}:{},Object(te.a)(r)||{});return I.a.create("RepinResource",l)}},{key:"showFlyout",value:function(){var e=this.props.onToggleFlyout;this.setState({showBoardFlyout:!0}),e&&e(!0,!0)}},{key:"render",value:function(){var e=this,t=this.props,n=t.boardResource,o=t.useMasonryFlyout,i=t.onToggleModal,a=t.pin,l=t.renderSavedStatus,d=t.renderPinSaveTooltip,s=t.selectedItem,p=t.savedInfo,f=t.unselectedText,b=t.variant,m=t.viewParameter,v=this.state,y=v.boardWithSection,h=v.buttonRef,S=v.showBoardFlyout,g=v.showRepinModal,w=v.sensitiveContentNotice,I=v.suggestedBoardTitle,B=o?_:ee.k,P=a.carousel_data,C="lego-closeup"===b||"lego-pin"===b,j=C?"sm":"md",R={};"lego-closeup"===b?R={bgColor:"transparent",iconColor:"darkGray",size:"sm"}:"lego-pin"===b?R={bgColor:"white",iconColor:"darkGray",size:"sm"}:"pin"===b&&(R={bgColor:"transparentDarkGray",iconColor:"white",size:"sm"});var k=l&&l({savedInfo:p,variant:b}),T=r.a.createElement(E.a,{boardResource:n,setBoardWithSection:this.setBoardWithSection,onItemChosen:this.handleItemChosen,onBoardCreate:this.handleBoardCreate,pin:a});return r.a.createElement(ee.c,Object.assign({width:"100%"},"lego-closeup"===b?{display:"flex",height:se,dangerouslySetInlineStyle:{__style:{backgroundColor:"#efefef",borderRadius:"16px"}}}:{}),p&&p.title?r.a.createElement(ee.c,Object.assign({display:"flex",direction:"row",alignItems:"center"},"lego-closeup"===b?{width:"100%",paddingX:2}:{},"lego-pin"===b?{marginLeft:-1,marginRight:-1}:{}),k&&r.a.createElement(ee.c,{paddingX:1,"data-test-id":"saved-info",flex:"grow"},k),r.a.createElement(ee.c,{paddingX:1,flex:"none",dangerouslySetInlineStyle:{__style:{marginLeft:"auto"}}},r.a.createElement(O.default,{component:0,onDelete:this.deleteSavedState,onSubmit:this.handleEditSubmit,pinId:p.localPinId,onToggleModal:i,viewParameter:m,carouselSlotCurrentIndex:P&&P.index,style:R,useLegoStyles:"lego-pin"===b}))):r.a.createElement(ee.c,{alignItems:"center",display:"flex",width:"100%",height:C?se:de},r.a.createElement("button",{className:c()("PinBetterSave__Dropdown",{"PinBetterSave__Dropdown--lego":C,"PinBetterSave__Dropdown--lego-pin":"lego-pin"===b,"PinBetterSave__Dropdown--lego-closeup":"lego-closeup"===b,"PinBetterSave__Dropdown--expanded":S&&!C,"PinBetterSave__Dropdown--expandedLego":S&&C}),"data-test-id":"PinBetterSaveDropdown",onClick:this.handleBoardDropdownClick,ref:this.dropdownRef},r.a.createElement(ee.c,{paddingX:4,display:"flex",flex:"grow",alignItems:"center"},r.a.createElement(ee.c,{flex:"grow",minWidth:0,overflow:"hidden"},s&&s.title?r.a.createElement(ee.K,{truncate:!0,__dangerouslyIncreaseLineHeight:!0,size:j},r.a.createElement("span",{className:c()("PinBetterSave__DropdownText",{"PinBetterSave__DropdownText--lego":C})},s.title)):r.a.createElement(ee.K,{color:"gray",__dangerouslyIncreaseLineHeight:!0,truncate:!0,size:j},r.a.createElement("span",{className:c()("PinBetterSave__DropdownText",{"PinBetterSave__DropdownText--lego":C})},f))),r.a.createElement(ee.c,{marginLeft:2,flex:"none","data-test-id":"boardSelectionDropdown"},r.a.createElement("div",{className:c()("PinBetterSave__DownArrowContainer",{"PinBetterSave__DownArrowContainer--lego":C})},r.a.createElement(ee.n,{accessibilityLabel:u.a._("Select a board you want to save to","BetterSave accessibility label to change the board"),color:"darkGray",icon:"arrow-down",size:12}))))),!S&&r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:c()("PinBetterSave__Button",{"PinBetterSave__Button--lego":C,"PinBetterSave__Button--lego-pin":"lego-pin"===b}),onClick:this.handleSaveClick,"data-test-id":"PinBetterSaveButton",ref:this.saveButtonRef},r.a.createElement(ee.K,{bold:!0,color:"white",size:j},u.a._("Save","BetterSave Save label"))),!!d&&!!h&&d(h))),r.a.createElement(D.b,{additionalCreateFields:{is_stl_pin:Object(te.d)(a)},boardWithSection:y,action:"create",onClose:this.handleRepinHide,setCompletionPromise:this.setBoardSaveCompletionPromise,showCreate:!0,shouldShowToast:!0,pin:a},(function(t){var n=t.boardSavedTo,o=t.dismissModal,i=t.displaySuccessAnimation,a=t.handleAbort,l=t.handleNewBoardAnimationCompletion,c=t.handleSocialConnectSet,d=t.handleSaveToBoard,s=t.newPin,u=t.updateDescription,p=t.showSharingUpsell,f=t.modalTitle,b=t.setModalTitle,m=t.pin;return r.a.createElement(Z.b,{boardSavedTo:n,isInModal:!0,displaySuccessAnimation:i,dismissModal:o,handleAbort:a,handleNewBoardAnimationCompletion:l,handleSocialConnectSet:c,handleSaveToBoard:d,updateDescription:u,onBoardCreated:e.handleBoardCreated,sensitiveContentNotice:w,pin:m,pwtAuxData:{pin_create_method:"repin"},suggestedBoardTitle:I,boardWithSection:y,shouldRenderContent:g,newPin:s,modalTitle:f,setModalTitle:b,showCreate:!0,showSharingUpsell:p})})),S&&"lego-closeup"===b&&r.a.createElement(ee.r,null,r.a.createElement(ee.k,{anchor:this.dropdownRef.current,idealDirection:"down",onDismiss:this.hideFlyout,positionRelativeToAnchor:!1,size:"lg"},T)),S&&"lego-closeup"!==b&&r.a.createElement(B,{anchor:this.dropdownRef.current,idealDirection:"down",onDismiss:this.hideFlyout,positionRelativeToAnchor:!o,size:"lg"},T))}}])&&re(n.prototype,o),i&&re(n,i),t}(r.a.Component);ce(fe,"defaultProps",{variant:"pin",renderSavedStatus:function(e){var t=e.savedInfo,n=e.variant;return r.a.createElement(pe,{savedInfo:t,variant:n})}});t.default=r.a.memo(Object(C.compose)($.e,Object(i.connect)((function(e,t){var n=e.location,o=e.mostRecentBoard,r=e.pins,i=e.ui,a=e.viewer,l=r[t.pin.id],c=i.postRepinMoreIdeasUpsell;return{carousel_data:l&&l.carousel_data,isLimitedLogin:a.isLimitedLogin,savedInfo:l&&l.savedInfo,selectedItem:l&&l.selectedItem,location:n,postRepinMoreIdeasUpsell:c,mostRecentBoard:o,viewerUserId:a.id}}),(function(e){return{incrementBoardPinCount:function(t){var n=t.boardId,o=t.sectionId;return e(Object(P.d)({boardId:n,sectionId:o,increment:1}))},save:function(t){return e(Object(H.a)(t))},unsave:function(t){return e(Object(H.d)(t))},selectBoardOrSection:function(t){return e(Object(H.b)(t))},setMostRecentBoard:function(t,n){return e(Object(L.a)(t,n))},searchQueryInvalidated:function(t){return e(Object(A.c)(t))},showRepinAnimation:function(t){return e(Object(N.c)(t))},updateUserPinCount:function(t){return e(Object(F.a)({userId:t,increment:1}))}}})),B.a,Object(J.b)({name:"BoardPickerBoardsResource",key:"boardResource",options:function(){return{field_set_key:"board_picker"}}}),Object(J.b)({name:"BoardPickerBoardsShortlistResource",key:"suggestedBoardsShortListResource",options:function(e){return{pin_id:e.pin.id,shortlist_length:2,num_shortlist_suggestions:2,suggestions_only:!0,min_confidence:.5}}}))((function(e){var t=e.suggestedBoardsShortListResource,n=e.initialSelection,o=e.mostRecentBoard;if(n)return r.a.createElement(fe,Object.assign({},e,{postRepinUpsellDisabled:!0,unselectedText:n.title}));var i=t&&t.data&&t.data[0];return r.a.createElement(ee.c,{overflow:"hidden"},r.a.createElement(fe,Object.assign({},e,{initialSelection:t&&t.isLoaded&&i&&{boardId:i.id,title:i.name,url:i.url}||t&&t.isLoaded&&!i&&o&&{boardId:o.id,title:o.name}||void 0,unselectedText:t&&t.isLoaded?u.a._("Select","BetterSave label to pick a board from the list"):"..."})))})))}}]);
//# sourceMappingURL=pjs-29-0581e384d2dff032ca3d.js.map
