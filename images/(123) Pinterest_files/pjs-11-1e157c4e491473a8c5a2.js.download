(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[11],{"2LZR":function(e,t,n){"use strict";function r(e,t){return e&&e[t]&&e[t].url}n.d(t,"a",(function(){return r}))},"92s0":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("GyhR"),a=n.n(r),i=n("iJ35"),o=n("buVl"),l=n("kR61"),c=n("lixz"),s=n("NmcB"),u=n("yJaP");function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){m(e,t,n[t])}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){var t,n=e.additionalStyles,r=void 0===n?{}:n,m=e.children,p=e.collageChipId,b=e.componentType,f=e.contextLogData,y=e.elementType,v=e.pin,g=e.viewParameter,h=e.viewType,w=Object(u.b)(),O=v.carousel_data,E=v.id,P="/pin/".concat(p||E,"/");if(O){var k=O.carousel_slots,S=void 0===k?[]:k,_=O.id,C=O.index;P="/pin/".concat(E,"/"),t={carousel_slot_id:S[C]&&S[C].id,carousel_data_id:_,carousel_slot_index:C}}t=d({},t||{},Object(l.a)(v,f)||{});return a.a.createElement(i.b,{auxData:t,deeplinkUrls:Object(o.m)(E),forceRefresh:1,onClick:function(){Object(c.g)(13),Object(s.a)(101,d({},f,{component:b||w.componentType,element:y,objectId:E,view:h||w.viewType,viewParameter:g||w.viewParameter},Object(l.a)(v,f)||{}))},pinId:E,style:d({cursor:"zoom-in",display:"block"},r),to:P},m)}},Alt3:function(e,t,n){"use strict";var r=n("GyhR"),a=n.n(r),i=n("jCHc"),o=n("9SSN"),l=n("+U6O");function c(e){var t=e.selected;return a.a.createElement(l.c,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,dangerouslySetInlineStyle:{__style:{borderWidth:"3px",borderStyle:"solid",borderColor:t?"#e60023":"#efefef",borderRadius:s,boxShadow:"inset 0 0 0 3px #fff",zIndex:1}}})}n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return d}));var s=16,u={wrapper:{borderRadius:s,WebkitMaskImage:"-webkit-radial-gradient(white, black)"},primaryContentContainer:{marginBottom:"auto"},visualOverlay:{backgroundColor:"rgba(0, 0, 0, .1)"},savedOverlay:{backgroundColor:"rgba(0, 0, 0, .33)"}};function d(e){var t=e.children,n=e.savedOverlayVisibility,r=void 0===n?"none":n,s=e.visualOverlayVisibility,d=void 0===s?"none":s,m=e.primaryContent,p=e.primaryContentVisibility,b=void 0===p?"none":p,f=e.secondaryContent,y=e.secondaryContentVisibility,v=void 0===y?"none":y,g=e.accessoryContent,h=e.accessoryContentVisibility,w=void 0===h?"none":h,O=e.actionBar,E=e.actionBarVisibility,P=void 0===E?"none":E,k=e.footer,S=e.selectionState,_=void 0===S?"no-selection":S,C=e.debugContent,j=e.signalDebuggerContent,x=e.obscuredPinOverlay;return a.a.createElement(l.c,{dangerouslySetInlineStyle:{__style:u.wrapper},"data-test-id":"pinWrapper",overflow:"hidden",position:"relative"},"no-selection"!==_&&a.a.createElement(c,{selected:"selected"===_}),a.a.createElement(l.c,{dangerouslySetInlineStyle:{__style:u.wrapper},overflow:"hidden",position:"relative"},t,a.a.createElement(o.a,{visibility:d},a.a.createElement(i.a,{additionalStyles:u.visualOverlay})),a.a.createElement(o.a,{visibility:r},a.a.createElement(i.a,{additionalStyles:u.savedOverlay})),g&&a.a.createElement(o.a,{visibility:w},a.a.createElement(i.a,null,g)),f&&a.a.createElement(o.a,{visibility:v},a.a.createElement(i.a,null,f)),m&&a.a.createElement(o.a,{visibility:b},a.a.createElement(i.a,null,m)),O&&a.a.createElement(o.a,{visibility:P},a.a.createElement(i.a,null,a.a.createElement(l.c,{position:"absolute",left:!0,right:!0,bottom:!0},O))),C&&a.a.createElement(i.a,null,C),j),k,x&&a.a.createElement(l.c,null,x))}},BsUa:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("GyhR"),a=n.n(r),i=n("92s0"),o=n("+U6O"),l={chip:{marginRight:1,flex:"1 1 0"},chipInner:{paddingBottom:"100%"},chipContainer:{marginRight:-1}};function c(e){var t=e.pin,n=e.enableCloseupLink,r=(t.aggregated_pin_data||{}).pin_tags_chips,c=r&&r.length>=3?r.slice(0,3):[];return a.a.createElement(o.c,{display:"flex",dangerouslySetInlineStyle:{__style:l.chipContainer}},c.map((function(e){var r=e.images["750x"]||{},c=a.a.createElement(o.p,{alt:"",naturalHeight:r.height,naturalWidth:r.width,src:r.url,fit:"cover"});return a.a.createElement(o.c,{key:e.id,dangerouslySetInlineStyle:{__style:l.chip}},a.a.createElement(o.c,{position:"relative",dangerouslySetInlineStyle:{__style:l.chipInner}},a.a.createElement(o.c,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0},a.a.createElement(o.u,{width:"100%",height:"100%",wash:!0},n&&a.a.createElement(i.a,{additionalStyles:{width:"100%",height:"100%"},collageChipId:e.id,pin:t},c),!n&&c))))})))}},CYxK:function(e,t,n){"use strict";function r(e){return Boolean(e.promoted_is_removable)}n.d(t,"a",(function(){return r}))},IaXd:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("GyhR"),a=n("NmcB"),i=n("yJaP");function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object(i.b)(),l=n.componentType,c=n.contextLogData,s=n.viewParameter,u=n.viewType;return Object(r.useCallback)((function(){Object(a.a)(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}({component:l,view:u,viewParameter:s},c,t||{}))}),[e,l,c,s,u])}},jSHg:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={V_HLSV4:"V_HLSV4",V_720P:"V_720P"}},mzhd:function(e,t,n){"use strict";var r=n("GyhR"),a=n.n(r),i=n("UmN8"),o=n("Ivf5"),l=n("XwKk");function c(e){var t=e.videos&&e.videos.video_list&&Object.keys(e.videos.video_list).length>0?e.videos.video_list:null;return t?t.V_HLSV3_MOBILE||t.V_HLSV4||t.V_720P:null}var s=n("CwDa"),u=n("E/Qu"),d=n("iJ35"),m=n("s3m5"),p=n("jSHg"),b=n("+U6O"),f={overlay:{__style:{backgroundColor:"#000",opacity:.4}}};function y(e){var t=e.pin,n=t.id,r=t.images,i=t.title,o=t.videos,l=t.video_status_message||{},c=r&&r["236x"],s=(o&&o.video_list[p.a.V_HLSV4]||{}).duration;return a.a.createElement(a.a.Fragment,null,a.a.createElement(b.e,null,a.a.createElement(d.b,{to:"/pin/".concat(n)},a.a.createElement(b.c,{overflow:"hidden",position:"relative",shape:"rounded"},c&&a.a.createElement(b.p,{alt:i||"",color:"lightGray",naturalHeight:c.height,naturalWidth:c.width,src:c.url}),!!s&&a.a.createElement(b.c,{padding:2,position:"absolute",bottom:!0,left:!0,display:"flex"},a.a.createElement(m.a,{duration:s})),a.a.createElement(b.c,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,dangerouslySetInlineStyle:f.overlay}),a.a.createElement(b.c,{position:"absolute",top:!0,left:!0,padding:5,width:"100%"},a.a.createElement(b.K,{bold:!0,color:"white",size:"xl",overflow:"normal"},l.title),a.a.createElement(b.c,{marginTop:4},a.a.createElement(b.K,{color:"white",size:"sm",overflow:"normal"},l.subtitle)))),a.a.createElement(b.c,{display:"flex",alignItems:"start",justifyContent:"between",marginTop:1,paddingX:1},a.a.createElement(b.c,{flex:"grow"},i&&a.a.createElement(b.c,{paddingY:1},a.a.createElement(b.K,{bold:!0,inline:!0,size:"sm"},i)))))))}var v=n("zBQm"),g=n("6wLB");function h(e){var t=e.inChangeTitlesExp,n=e.isGroupBoard,r=e.pin,a=e.surface,i=r.buyable_product,o=r.carousel_data,l=r.grid_title,c=r.rich_summary,s=r.title;if(t)return l||"";var u=c&&"mobile application"!==c.type_name&&c.display_name,d=i&&i.title;if(Object(g.a)(r).isOwnPin&&!n&&!o&&"UserProfilePinGrid"!==a)return"";if(o){var m=o.carousel_slots,p=void 0===m?[]:m,b=o.index;if(p[b]&&p[b].title)return p[b].title.trim()}return s||u||d||l||""}var w=["EngagementDetails","UserProfilePinGrid"];var O=["CloseupRelatedProducts","ProductPinsFeed","RelatedProductsFeed","ShoppingPackageItem","STLProductsFeed"];var E={BaseBoardPinGrid:"boardPinView",UserProfilePinGrid:"profilePinView"};var P=n("rSK6"),k=n("Qo1m"),S=n("Irlq");var _=n("CYxK");function C(e){return a.a.createElement("div",{style:{pointerEvents:"auto"}},e)}var j=n("fifU"),x=n("yJaP"),I=n("q579");function T(e,t){var n=e.carousel_data,r=e.domain||"";return n&&n.id&&(r=function(e,t){var n=t||e&&e.index||0,r=e&&e.carousel_slots||[],a=r[n]&&r[n].link||"";return a&&I.a.parse(a).hostname||""}(n,t)),r.replace("www.","")}var B=n("/mke"),D=n("b7z0"),L=n("IaXd"),A=n("kR61");function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){V(e,t,n[t])}))}return e}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(c){a=!0,i=c}finally{try{r||null==l.return||l.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var M={container:{backgroundColor:"rgba(255, 255, 255, 0.9)",borderRadius:"18px",height:"32px",maxWidth:"132px"},containerHovered:{backgroundColor:"rgba(255, 255, 255, 1.0)"},containerTruncated:{maxWidth:"87px"},text:{color:"#333333"}};var H=function(e){var t=e.pin,n=e.url,i=e.sourceLinkStyle,o=F(Object(r.useState)(!1),2),l=o[0],c=o[1],s=t.id,u=T(t),m=Object(A.a)(t)||{},p=Object(x.b)().slotIndex,f=Object(L.a)(12,R({grid_index:p,objectId:s},Object(A.a)(t)||{})),y=Object(L.a)(101,R({element:162,objectId:s},Object(A.a)(t)||{}));return"icon-only"===i?a.a.createElement(d.b,{auxData:m,onClick:function(){f(),y()},pinId:s,to:n},a.a.createElement(B.a,{accessibilityLabel:k.a._("link","Website url link"),bgColor:"white",icon:"arrow-up-right",iconColor:"darkGray",iconSize:12,size:"sm"})):a.a.createElement(b.c,{dangerouslySetInlineStyle:{__style:R({},M.container,l?M.containerHovered:{},"truncated-text"===i?M.containerTruncated:{})},onMouseEnter:function(){return c(!0)},onMouseLeave:function(){return c(!1)},position:"relative"},a.a.createElement(d.b,{onClick:function(){f(),y()},pinId:s,to:n},a.a.createElement(b.c,{alignItems:"baseline",dangerouslySetInlineStyle:{__style:M.text},display:"flex",justifyContent:"between"},a.a.createElement(b.c,{display:"flex",flex:"none",marginTop:3,marginBottom:3,marginStart:3},a.a.createElement(b.n,{accessibilityLabel:k.a._("link","Website url link"),color:"darkGray",icon:"arrow-up-right",size:9})),a.a.createElement(b.c,{alignItems:"center",display:"flex",height:18,marginStart:2,marginEnd:3,overflow:"hidden"},a.a.createElement(D.b,{color:"darkGray",size:"sm",weight:"semibold",truncate:!0},u)))))},N=Object(r.lazy)((function(){return Promise.all([n.e("ArticlePageDesktop~AuthHomePageDesktop~BoardPageContainerDesktop~BoardPageDesktop~BoardSectionPageDe~96007a1e"),n.e("CreateFlowSterling~PersistentOneClickSaveCommon~PinBetterSaveCommon~PinFeedbackPageDesktop~PinPersis~927303d1"),n.e("PersistentOneClickSaveCommon~PinBetterSaveCommon~PinFeedbackPageDesktop~PinPersistentOneClickSaveCom~5976c585"),n.e("PinRepEditButtonCommon")]).then(n.bind(null,"24KF"))})),z=Object(r.lazy)((function(){return Promise.resolve().then(n.bind(null,"qE0g"))})),G=Object(r.lazy)((function(){return n.e("PinRepSendShareLinkButtonCommon").then(n.bind(null,"hm37"))}));var U=Object(r.memo)((function(e){var t=e.feedbackData,n=e.feedbackType,r=e.onToggleFlyout,i=(e.onToggleModal,e.pin),o=e.pinTitle,l=e.setForcePrimary,c=e.showEditButton,s=e.showOverflowMenu,u=e.showShareButton,d=e.sourceLinkStyle,m=e.useDenseGroupBoardLayout,p=Object(x.b)(),f=p.viewParameter,y=p.viewType,v=i.carousel_data,g=i.id,h=i.tracked_link,w=i.link,O=h||w||"",E=!!O&&C(a.a.createElement(H,{pin:i,url:O,sourceLinkStyle:d})),P=u&&a.a.createElement(j.a,null,C(a.a.createElement(G,{pin:i,setForcePrimary:l}))),k=c&&a.a.createElement(j.a,null,C(a.a.createElement(N,{carouselSlotCurrentIndex:v&&v.index,component:0,onToggleModal:r,pinId:g,style:{size:"sm"},view:y,viewParameter:f,useLegoStyles:!0})));return m?a.a.createElement(b.c,{display:"flex",justifyContent:"between",alignItems:"center",padding:3},a.a.createElement("div",{style:{flexBasis:32}},E),P,k):a.a.createElement(b.c,{alignItems:"center",display:"flex",padding:3},a.a.createElement(b.c,{flex:"shrink"},E),a.a.createElement(b.c,{alignItems:"center",display:"flex",flex:"none",dangerouslySetInlineStyle:{__style:{marginLeft:"auto"}}},a.a.createElement(b.c,{paddingX:s||c?2:0},P),s&&a.a.createElement(j.a,null,C(a.a.createElement(z,{feedbackData:t,feedbackType:n,pin:i,pinTitle:o,setForcePrimary:l}))),k))})),W=n("oko/"),K=n("A/dm"),q=n("NmcB");function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var J=Object(o.connect)(null,(function(e){return{changeCarouselSlotIndex:function(t,n){return e(Object(W.a)(t,n))}}}))((function(e){var t=e.pin,n=e.changeCarouselSlotIndex,r=Object(x.b)(),i=r.componentType,o=r.viewParameter,l=r.viewType,c=Object(K.a)(t);if(!c)return null;var s=t.id,u=void 0===s?"":s,d=c.carousel_slots,m=c.index,p=c.id,f=function(e,n){Object(q.a)(108,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Q(e,t,n[t])}))}return e}({objectId:u,component:i,view:l,viewParameter:o,eventData:{pinCarouselSlotEventData:{carouselSlotId:d[e]&&Number(d[e].id),carouselDataId:Number(p),carouselSlotIndex:e,toCarouselSlotIndex:n}}},Object(A.a)(t)||{}))};return a.a.createElement(b.c,{height:"100%",width:"100%",position:"relative"},m>0&&C(a.a.createElement(b.c,{position:"absolute",left:!0,bottom:!0,top:!0},a.a.createElement(b.P,{fullWidth:!0,fullHeight:!0,onTouch:function(){n(u,m-1),f(m,m-1)}},a.a.createElement(b.c,{height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center","data-test-id":"carousel-slider-left",padding:2},a.a.createElement(b.n,{color:"white",icon:"arrow-back",accessibilityLabel:k.a._("View Previous","Button to advance carousel to the previous image")}))))),m<d.length-1&&C(a.a.createElement(b.c,{position:"absolute",right:!0,bottom:!0,top:!0},a.a.createElement(b.P,{fullWidth:!0,fullHeight:!0,onTouch:function(){n(u,m+1),f(m,m+1)}},a.a.createElement(b.c,{height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center","data-test-id":"carousel-slider-right",padding:2},a.a.createElement(b.n,{color:"white",icon:"arrow-forward",accessibilityLabel:k.a._("View Next","Button to advance carousel to the next image")}))))))})),X=32;function Y(e){var t=e.avatarUrl,n=e.attributionNameLink,r=e.name,i=void 0===r?"":r,o=a.a.createElement(b.c,{height:"".concat(X,"px"),width:"".concat(X,"px")},a.a.createElement(b.a,{name:i,src:t}));return n?a.a.createElement(d.b,{className:"underlineLink",to:n},o):o}function Z(e){var t=e.attributionNameLink,n=e.name,r=e.regularWeight,i=a.a.createElement(D.b,{size:"sm",truncate:!0,weight:r?"normal":"semibold"},n);return a.a.createElement(b.c,null,t?a.a.createElement(d.b,{className:"underlineLink",to:t},i):i)}function $(e){var t=e.link,n=e.title;if(!n)return null;var r=a.a.createElement(b.K,{leading:"short",size:"sm",truncate:!0},n);return a.a.createElement(b.c,null,t?a.a.createElement(d.b,{className:"underlineLink",to:t},r):r)}var ee=n("xP02");function te(e){var t=e.board,n=e.pinner,r=void 0===n?{}:n,a=e.promoter,i="",o="",l="",c="",s="";return Object(g.a)(e).isPromoted&&a?(i=a.image_medium_url||a.image_small_url,l=a.full_name,c=k.a._("Promoted by","indicating the username of the person who promoted the pin"),s="/".concat(a.username,"/")):(i=r.image_medium_url||r.image_small_url,o="/".concat(r.username,"/"),c=r.full_name,s=t?t.url:""),{avatarUrl:i,attributionNameLink:o,attributionTitle:l,name:c,url:s}}var ne=n("VI9K"),re=32;var ae=Object(o.connect)(null,(function(e){return{setMostRecentPin:function(t){e(Object(ne.b)(t))}}}))((function(e){e.feedbackData,e.feedbackType;var t=e.isDarkPromoter,n=e.pin,r=(e.pinTitle,e.setForcePrimary,e.setMostRecentPin),i=n.id,o=n.pinner,l=Object(g.a)(n).isPromoted,c=o||n.promoter,s=Object(L.a)(101,{element:l?283:27,objectId:i}),u=te(n),m=u.avatarUrl,p=u.attributionNameLink,f=u.attributionTitle,y=u.name,v=u.url,h=Object(x.b)(),w=h.viewParameter,O=h.viewType,E=v&&!p,P=a.a.createElement(b.c,{alignItems:"center",display:"flex",dangerouslySetInlineStyle:{__style:{marginLeft:"-3px",marginRight:"-3px"}}},a.a.createElement(b.c,{flex:"none",dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}}},a.a.createElement(ee.a,{avatarSize:re,isDarkPromoter:t,pinId:i,user:c,username:c&&c.username,viewParameter:w,viewType:O},a.a.createElement(Y,{attributionNameLink:p,avatarUrl:m,name:y}))),a.a.createElement(b.c,{dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}},flex:"grow",overflow:"hidden"},a.a.createElement(b.c,{dangerouslySetInlineStyle:{__style:{marginBottom:"2px"}}},a.a.createElement(Z,{attributionNameLink:p,name:y,regularWeight:!f})),a.a.createElement($,{title:f})));return E?a.a.createElement(d.b,{className:"underlineLink",onClick:function(){r(i),s()},to:v},P):P})),ie=n("k9eC"),oe=n("2YES"),le=n("9Y9K");function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var se=6,ue=10;var de=Object(le.compose)(Object(o.connect)((function(e,t){var n=e.pins[t.pinId]||{};return{carouselData:Object(K.a)(n),pin:n}}),(function(e){return{changeCarouselSlotIndex:function(t,n){return e(Object(W.a)(t,n))}}})),oe.e)((function(e){var t=e.carouselData,n=e.changeCarouselSlotIndex,r=e.pin,i=e.pinId,o=e.requestContext,l=Object(x.b)(),c=l.componentType,s=l.viewParameter,u=l.viewType,d=t||{},m=d.carousel_slots,p=void 0===m?[]:m,f=d.id,y=d.index,v=new ie.c(o,"web_carousel_pip_improvements").enabled();o.experiments.flush();var g=v?ue:se,h=function(e){return function(t){var a=t.event;a.preventDefault(),a.stopPropagation(),void 0!==n&&(n(i,e),Object(q.a)(108,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ce(e,t,n[t])}))}return e}({component:c,eventData:{pinCarouselSlotEventData:{carouselDataId:Number(f),carouselSlotId:p[y]&&Number(p[y].id),carouselSlotIndex:y,toCarouselSlotIndex:e}},objectId:i,view:u,viewParameter:s},Object(A.a)(r)||{})))}};return a.a.createElement(b.c,{display:"flex",dangerouslySetInlineStyle:{__style:{marginLeft:-3,marginRight:-3}}},p.map((function(e,t){return a.a.createElement(b.c,{key:i+t,dangerouslySetInlineStyle:{__style:{marginLeft:3,marginRight:3}}},a.a.createElement(b.P,{fullWidth:!1,shape:"circle",onTouch:h(t)},a.a.createElement(b.c,{"data-test-id":"ellipsis-size",height:g,width:g,dangerouslySetInlineStyle:{__style:{backgroundColor:t===y?"#555":"lightGray"}},shape:"circle"})))})))})),me=n("92s0"),pe=n("vl7u");function be(e){var t=e.feedbackType,n=e.pin,r=n.pinner,i=n.source_interest,o=r||{},l=o.full_name,c=o.username,s=(i||{}).name,u="topic"===t,m=!u&&"followed"===t,p="/".concat(c,"/"),f=Object(pe.g)(s),y="/search/pins/?q=".concat(encodeURIComponent(f),"&rs=image_only_attribution"),v=u?y:p,g={topic:k.a._("From {topic}","attribution on pin rep"),followed:k.a._("From {pinnerName}","attribution on pin rep"),pfyBoard:k.a._("Picked for you","attribution on pin rep"),pfy:k.a._("Picked for you","attribution on pin rep")}[t];if(!g)return null;if(m||u){var h=0===g.indexOf("{"),w=u?s:l,O=h?g.slice(g.indexOf("}")+1):g.slice(0,g.indexOf("{"));return h?a.a.createElement(b.c,null,a.a.createElement(d.b,{to:v},a.a.createElement(D.b,{weight:"bold",inline:!0,size:"sm",truncate:!0},w)),a.a.createElement(D.b,{inline:!0,size:"sm"},O)):a.a.createElement(b.c,null,a.a.createElement(D.b,{inline:!0,size:"sm"},O),a.a.createElement(d.b,{to:v},a.a.createElement(D.b,{color:"darkGray",weight:"bold",inline:!0,size:"sm",truncate:!0},w)))}return a.a.createElement(b.c,null,a.a.createElement(me.a,{pin:n},a.a.createElement(D.b,{color:"darkGray",overflow:"normal",size:"sm",weight:"semibold"},g)))}var fe=n("/W2v"),ye=n("qE0g"),ve=n("Fpqi");function ge(e){if(!window||!window.prefetchCompletion||!window.prefetchCompletion[e])return"0";var t=window.prefetchCompletion[e],n=t.downloadedAssets,r=t.totalAssets;return r?(n/r*100).toFixed(3).toString():"-1"}var he=n("Mce2"),we=n("buVl");function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ee(e,t,n[t])}))}return e}function Ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pe(e){var t,n,r=e.children,i=e.componentType,o=e.contextLogData,l=(e.elementType,e.pin),c=e.viewParameter,s=e.viewType,u=Object(x.b)(),m=l.carousel_data,p=l.id,f=l.link,y=l.tracked_link,v="one-tap-desktop";if(m){var g=m.carousel_slots,h=void 0===g?[]:g,w=m.id,O=m.index;h[O]&&h[O].link&&(t=h[O].link),n={carousel_slot_id:h[O]&&h[O].id,carousel_data_id:w,carousel_slot_index:O},v+="-carousel"}else t=y||f;return a.a.createElement(b.c,{"data-test-id":"otpp"},a.a.createElement(he.a,{id:v},a.a.createElement(d.b,{auxData:n,deeplinkUrls:Object(we.m)(p),external:!0,onClick:function(){var e=ve.a.getInstance(),t=e.getViewFromContext();Object(q.a)(12,Oe({},o,{view:s||u.viewType,viewParameter:c||u.viewParameter,component:i||u.componentType,objectId:p,grid_index:u.slotIndex,pin_id:p,prefetch_percentage_complete:ge(f||"")})),Object(q.a)(13,Oe({closeup_navigation_type:"web_closeup",objectId:p,component:i||u.componentType,view:3},u.contextLogData,o)),e.addViewToContext(t)},pinId:p,style:{cursor:"pointer",display:"block"},to:t},r)))}function ke(e){var t=e.pin,n=Object(g.a)(t).isOneTap?Pe:me.a;return a.a.createElement(n,e)}function Se(e){return Object(g.a)(e).isProduct&&Object(A.b)(e)||""}var _e=n("LCmp");function Ce(e){var t=e.pin,n=e.singleLineMaxLength,r=Se(t),i=Object(_e.a)(r,n),o=a.a.createElement(D.b,{color:"darkGray","data-test-id":"PinRep-Source",overflow:"normal",size:"sm",weight:"normal"},i);return a.a.createElement(ke,{pin:t},o)}function je(e){var t=e.numberOfLines,n=void 0===t?2:t,r=e.pin,i=e.singleLineMaxLength,o=e.pinTitle,l=n*i,c=Object(_e.a)(o,l);return a.a.createElement(ke,{pin:r},a.a.createElement(D.b,{color:"darkGray","data-test-id":"PinRep-Title",overflow:"normal",size:"sm",weight:"semibold"},c))}var xe=n("HcgI"),Ie=1.8;function Te(e){var t=e.pin,n=e.showGroupBoardAvatar,r=e.singleLineMaxLength,i=e.userNote,o=t.pinner;if(!o)return null;var l=o.full_name,c=o.image_small_url,s=Ie*r,u=Object(_e.a)(i,s);return a.a.createElement(ke,{pin:t},a.a.createElement(b.c,{alignItems:"center",display:"flex"},!n&&a.a.createElement(b.c,{flex:"none",marginEnd:2},a.a.createElement(b.a,{name:l,size:"sm",src:c})),a.a.createElement(b.c,{"data-test-id":"PinRep-UserNote"},a.a.createElement(D.b,{overflow:"normal",size:"sm"},a.a.createElement(xe.a,{text:u,options:{hashtags:{source:"hashtag_closeup"}}})))))}var Be=n("rVpF"),De=Object(r.lazy)((function(){return n.e("BoardActivityPinRepReactionsCommon").then(n.bind(null,"sB4Q"))})),Le={container:{padding:"8px 6px 16px"},imageOnlyAttribution:{hidden:{opacity:0,transition:"opacity ".concat(Be.a,"ms ease")},visible:{opacity:1}}};var Ae=Object(r.memo)((function(e){var t=e.attributionType,n=e.blockClickEvents,r=e.feedbackData,o=e.feedbackType,l=e.hoverTransitionState,c=e.isDarkPromoter,s=e.pin,u=e.pinTitle,d=e.setForcePrimary,m=e.showBoardActivityReply,p=e.showGroupBoardAvatar,f=e.showOverflowMenu,y=e.showReactions,v=e.showSource,g=e.singleLineMaxLength,h=e.titleLines,w=e.userNote,O=s.board_activity,E=s.carousel_data,P=s.id,k=u||v,S=k||w,_=te(s),x=_.avatarUrl,I=_.attributionNameLink,T=_.name,B=null;"default"===t?B=a.a.createElement(ae,{feedbackData:r,feedbackType:o,pin:s,pinTitle:u,setForcePrimary:d,isDarkPromoter:c}):"image-only-credit"===t&&(B=a.a.createElement(b.c,{dangerouslySetInlineStyle:{__style:Le.imageOnlyAttribution["active"===l?"visible":"hidden"]}},a.a.createElement(be,{pin:s,feedbackType:o})));var D=a.a.createElement(b.c,{dangerouslySetInlineStyle:{__style:Le.container}},E&&a.a.createElement(b.c,{dangerouslySetInlineStyle:{__style:k||p||"none"!==t?{marginBottom:"6px"}:{}},display:"flex",justifyContent:"center"},a.a.createElement(b.c,{flex:"none"},a.a.createElement(de,{pinId:P}))),!E&&Object(fe.a)(s)&&a.a.createElement(i.a,{name:"web_carousel_product_pin"},(function(e){var n=e.group;return("enabled_pwt"===n||"enabled"===n)&&a.a.createElement(b.c,{dangerouslySetInlineStyle:{__style:k||p||"none"!==t?{marginBottom:"6px"}:{}},display:"flex",justifyContent:"center"},a.a.createElement(b.c,{flex:"none"},a.a.createElement(de,{pinId:P})))})),a.a.createElement(b.c,{display:"flex"},a.a.createElement(b.c,{flex:"grow"},S&&a.a.createElement(b.c,{dangerouslySetInlineStyle:{__style:"none"!==t||y?{marginBottom:"6px"}:{}}},a.a.createElement(je,{numberOfLines:h,pin:s,pinTitle:u,singleLineMaxLength:g}),v&&a.a.createElement(Ce,{pin:s,singleLineMaxLength:g}),w&&a.a.createElement(b.c,{marginTop:k?1:0},a.a.createElement(Te,{pin:s,showGroupBoardAvatar:p,singleLineMaxLength:g,userNote:w}))),a.a.createElement(b.c,{alignItems:"center",display:"flex"},a.a.createElement(b.c,{flex:"grow"},B),f&&a.a.createElement(b.c,{flex:"none"},a.a.createElement(ye.default,{feedbackData:r,feedbackType:o,pin:s,pinTitle:u,setForcePrimary:d,transparentBackground:!0}))),y&&a.a.createElement(b.c,{position:"relative","data-test-id":"board-activity-reactions",minHeight:16},a.a.createElement(j.a,null,a.a.createElement(De,{pinId:s.id,activityId:O&&O.id||s.id,showReply:m})))),p&&a.a.createElement(b.c,{flex:"none",marginRight:1},a.a.createElement(Y,{attributionNameLink:I,avatarUrl:x,name:T}))));return n?a.a.createElement("div",{style:{pointerEvents:"none"}},D):C(D)})),Re=n("Alt3"),Ve=n("mnfC");function Fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(c){a=!0,i=c}finally{try{r||null==l.return||l.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Me=Object(r.lazy)((function(){return Promise.all([n.e("ArticlePageDesktop~AuthHomePageDesktop~BoardPageContainerDesktop~BoardPageDesktop~BoardSectionPageDe~96007a1e"),n.e("CreateFlowSterling~PersistentOneClickSaveCommon~PinBetterSaveCommon~PinFeedbackPageDesktop~PinPersis~927303d1"),n.e("PersistentOneClickSaveCommon~PinBetterSaveCommon~PinFeedbackPageDesktop~PinPersistentOneClickSaveCom~5976c585"),n.e("PinRepEditButtonCommon")]).then(n.bind(null,"24KF"))})),He=Object(r.lazy)((function(){return Promise.all([n.e("ArticlePageDesktop~AuthHomePageDesktop~BoardPageContainerDesktop~BoardPageDesktop~BoardSectionPageDe~96007a1e"),n.e("CreateFlowSterling~PersistentOneClickSaveCommon~PinBetterSaveCommon~PinFeedbackPageDesktop~PinPersis~927303d1"),n.e("PersistentOneClickSaveCommon~PinBetterSaveCommon~PinFeedbackPageDesktop~PinPersistentOneClickSaveCom~5976c585"),n.e("PinPersistentOneClickSaveCommon")]).then(n.bind(null,"d94/"))})),Ne=Object(r.lazy)((function(){return Promise.all([n.e("ArticlePageDesktop~AuthHomePageDesktop~BoardPageContainerDesktop~BoardPageDesktop~BoardSectionPageDe~96007a1e"),n.e("BoardSectionPageDesktop~ExperienceBizNuxContainer~ImagesFeedPageDesktop~PinBetterSaveCommon~PinBookm~58bd55d7"),n.e("ExperienceBizNuxContainer~ImagesFeedPageDesktop~PinBetterSaveCommon~PinBookmarkletPageDesktop~PinFee~85d27636"),n.e("PinFeedbackPageDesktop~PinSaveButtonCommon"),n.e("PinSaveButtonCommon")]).then(n.bind(null,"odTJ"))})),ze=Object(r.lazy)((function(){return Promise.all([n.e("ArticlePageDesktop~AuthHomePageDesktop~BoardPageContainerDesktop~BoardPageDesktop~BoardSectionPageDe~96007a1e"),n.e("BoardSectionPageDesktop~ExperienceBizNuxContainer~ImagesFeedPageDesktop~PinBetterSaveCommon~PinBookm~58bd55d7"),n.e("ExperienceBizNuxContainer~ImagesFeedPageDesktop~PinBetterSaveCommon~PinBookmarkletPageDesktop~PinFee~85d27636"),n.e("CreateFlowSterling~PersistentOneClickSaveCommon~PinBetterSaveCommon~PinFeedbackPageDesktop~PinPersis~927303d1"),n.e(20),n.e("PersistentOneClickSaveCommon~PinBetterSaveCommon~PinFeedbackPageDesktop~PinPersistentOneClickSaveCom~5976c585"),n.e(29),n.e("PinBetterSaveCommon")]).then(n.bind(null,"qoD0"))})),Ge=Object(r.lazy)((function(){return n.e("BoardActivityPinRepLikeButtonCommon").then(n.bind(null,"1pwd"))}));function Ue(e){var t=e.derivedSaveButtonOptions,n=e.onToggleFlyout,o=e.onToggleModal,l=e.pin,c=e.showEditButton,s=e.showLikeButton,u=e.supportsReactionBar,d=Fe(Object(r.useState)(!1),2),m=d[0],p=d[1],f=l.carousel_data,y=l.id,v=l.savedInfo,g=Object(r.useRef)(!!v),h=Object(x.b)(),w=h.viewParameter,O=h.viewType,E=Object(L.a)(101,{element:0,objectId:y}),P=null,k={onToggleModal:n,view:O,viewParameter:w,useLegoStyles:!0};if(!m)if("classic"===t.type||"controlled"===t.type){var S=t.renderPinSaveTooltip;P=a.a.createElement(b.c,{display:"flex",justifyContent:"end"},a.a.createElement(j.a,null,a.a.createElement(he.a,{id:"pin-save-button"},C(a.a.createElement(Ne,{icon:!1,onClickCallback:E,onToggleModal:o,oneTapSave:"controlled"===t.type&&t,pin:l,renderPinSaveTooltip:S,variant:"lego"})))))}else if("inline"===t.type){var _=l,I=t.initialSelection,T=t.onSave,B=t.renderPinSaveTooltip;P=a.a.createElement(j.a,null,a.a.createElement(he.a,{id:"better-save"},C(a.a.createElement(ze,{initialSelection:I,onSave:T,onToggleFlyout:n,onToggleModal:o,pin:_,renderPinSaveTooltip:B,renderSavedStatus:function(e){var t=e.savedInfo;return t&&C(a.a.createElement(Ve.a,{isNewlySaved:!g.current,name:t.title,url:t.url}))},useMasonryFlyout:!0,variant:"lego-pin",viewParameter:w}))))}else"persistentOneClickSave"===t.type&&(P=a.a.createElement(j.a,null,C(a.a.createElement(He,Object.assign({},k,{saveOptions:t,pin:l})))));var D=null;return c?D=a.a.createElement(j.a,null,C(a.a.createElement(b.c,{"data-test-id":"edit-button",display:"inlineBlock"},a.a.createElement(Me,Object.assign({},k,{carouselSlotCurrentIndex:f&&f.index,component:0,pinId:y,style:{size:"sm"}}))))):s&&(D=a.a.createElement(j.a,null,a.a.createElement(i.a,{name:"group_boards_reactions",activate:!1},(function(e){var t=e.anyEnabled,n=e.customActivate;return C(a.a.createElement(Ge,{pin:l,activateReactionsExperiment:n,inReactionsExperiment:t,onShowReactionsBar:function(){return p(!0)},onHideReactionsBar:function(){return p(!1)},supportsReactionBar:u,useLegoStyles:!0}))})))),a.a.createElement(b.c,{display:"flex",margin:3},D&&a.a.createElement(b.c,{dangerouslySetInlineStyle:{__style:{marginRight:"auto"}},flex:"grow"},D),P&&a.a.createElement(b.c,{dangerouslySetInlineStyle:{__style:{marginLeft:"auto"}},flex:"grow",overflow:"hidden"},P))}var We=n("4mdS"),Ke=n("IqQH"),qe=n("BsUa"),Qe=n("EQo2"),Je=n("k3nM"),Xe=55;function Ye(e){var t=e.allowImageCropping,n=e.blockClickEvents,r=(e.isHovering,e.onError),i=e.onLoad,o=e.pin,l=e.resolution,c=void 0===l?"default":l,s=e.cropProductPin,u=e.isSocialSeasonalBoard,d=void 0!==u&&u,m=Object(x.b)(),p=m.slotIndex,f=m.viewParameter,y=m.viewType,v=Object(oe.d)(),h=o.id,w=void 0===h?"":h,O=o.aggregated_pin_data,E=o.carousel_data,P=o.image_signature,k=(O||{}).pin_tags_chips,S=Object(g.a)(o),_=S.isVideo,j=S.isPromoted,I=S.isGif,T=_&&new ie.c(v,"ads_desktop_video_ads").enabledWithNoActivation(),B=null;if(!_||!T&&j)if(E||Object(fe.a)(o))B=a.a.createElement(Ke.a,{onError:r,onLoad:i,highResOnly:"high-res"===c,lowResOnly:"low-res"===c,pinId:w,showCarouselBadge:!1,cropProductPin:s});else{var D=t?function(e){var t=e.images,n=e.image_crop,r=t&&t["236x"].height;if(n&&(0!==n.min_y||1!==n.max_y)){var a=n.min_y,i=n.max_y;return{marginTop:"".concat(a>0?-1*a*r:0,"px"),marginBottom:"".concat(i<1?Math.round(-1*(1-i)*r):0,"px")}}return{}}(o):{};B=a.a.createElement(b.c,{dangerouslySetInlineStyle:{__style:D},minHeight:Xe},a.a.createElement(Qe.a,{pin:o,highResOnly:"high-res"===c,lowResOnly:"low-res"===c,onLoad:i,onError:r,cropProductPin:s,animateGif:I&&d}))}else B=a.a.createElement(Je.a,{inAdsDesktopVideoExperiment:T,pin:o,onLoad:i,viewType:y,viewParameter:f,highResOnly:"high-res"===c,lowResOnly:"low-res"===c,onError:r,isExperimentalPinRep:!0});var L=a.a.createElement(b.u,{wash:!0},B);return n?a.a.createElement(a.a.Fragment,null,L,k&&a.a.createElement(b.c,{dangerouslySetInlineStyle:{__style:{marginTop:1}}},a.a.createElement(qe.a,{pin:o,enableCloseupLink:!0}))):a.a.createElement(a.a.Fragment,null,a.a.createElement(ke,{pin:o,contextLogData:{grid_index:p,image_signature:P},elementType:35},L),k&&a.a.createElement(b.c,{dangerouslySetInlineStyle:{__style:{marginTop:1}}},C(a.a.createElement(qe.a,{pin:o,enableCloseupLink:!0}))))}var Ze=n("TRIq");function $e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(c){a=!0,i=c}finally{try{r||null==l.return||l.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var et=60,tt=40,nt=60;function rt(e){return e<et+tt+nt?"header-only":"none"}function at(e){var t,n,a,i=$e(Object(r.useState)(e.current?rt(e.current.clientHeight||0):"none"),2),o=i[0],l=i[1];return t=e,n=function(e){var t=rt(e.height);t!==o&&l(t)},a=Object(r.useRef)(),Object(r.useEffect)((function(){var e=t.current;if(e){var r=a.current;r&&r.width===e.offsetWidth&&r.height===e.offsetHeight||(a.current={width:e.offsetWidth||0,height:e.offsetHeight||0},n&&n(a.current))}})),a.current,o}function it(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(c){a=!0,i=c}finally{try{r||null==l.return||l.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var ot=4e3;function lt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(c){a=!0,i=c}finally{try{r||null==l.return||l.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var ct={impressed:{backgroundColor:"#adebad",opacity:.5}},st=function(){return void 0!==I.a.getQueryStringParams().debug_impression_log};function ut(e){var t=e.debugImpressionState,n=void 0===t?"paused":t,r=e.slotIndex;return"paused"===n?null:a.a.createElement(b.c,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,dangerouslySetInlineStyle:{__style:ct.impressed}},a.a.createElement(b.c,{position:"absolute",top:!0,left:!0,padding:2,color:"darkGray"},a.a.createElement(b.K,{size:"xl",color:"white"},r)))}var dt=n("jCHc"),mt=n("nZV1");function pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){bt(e,t,n[t])}))}return e}function bt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ft(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(c){a=!0,i=c}finally{try{r||null==l.return||l.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var yt={background:{base:{transition:"all 250ms",opacity:0},blurred:{backgroundPosition:"50% 50%",backgroundSize:"cover",borderRadius:Re.a,filter:"blur(20px)",opacity:1}},backdrop:{base:{transition:"all 250ms"},blurred:{backgroundColor:"rgba(0,0,0,0.4)"}},feedbackOverlayContainer:{base:{opacity:0,transition:"all 250ms"},visible:{opacity:1}},navigateLinkStyle:{color:"white",textDecorationColor:"white",cursor:"pointer"}};function vt(e){var t=e.feedbackType,n=e.isContextMenuV2Exp,i=e.isHomefeedControlPanelExp,o=e.pin,l=ft(Object(r.useState)(!1),2),c=l[0],s=l[1],u=ft(Object(r.useState)(!1),2),m=u[0],p=u[1];Object(r.useEffect)((function(){return s(!0)}),[s]);var f=function(){return p(!0)},y=o.feedbackText,v=o.images,g=o.showFeedbackOverlay,h=o.undoAction,w=o.undoText,O=v&&v["236x"].url,E=y.image,P=y.subTitle,S=y.title,_=y.unfollow,C=_&&m&&!n,j=i&&"followed"!==t&&"related"!==t&&"search"!==t,x="pfy"===t||"pfyBoard"===t;return a.a.createElement(b.c,{color:n?"transparent":"darkGray",dangerouslySetInlineStyle:{__style:{borderRadius:Re.a}},overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0},n&&a.a.createElement(b.c,{dangerouslySetInlineStyle:{__style:{borderRadius:Re.a}},margin:-4,overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0},O&&a.a.createElement(dt.a,{additionalStyles:pt({},yt.background.base,c?yt.background.blurred:{},{backgroundImage:'url("'.concat(O,'")')})}),O&&a.a.createElement(dt.a,{additionalStyles:pt({},yt.background.base,c?yt.background.blurred:{},{backgroundImage:'url("'.concat(O,'")')})}),a.a.createElement(dt.a,{additionalStyles:pt({},yt.backdrop.base,c?yt.backdrop.blurred:{})})),a.a.createElement(b.c,{dangerouslySetInlineStyle:{__style:n&&pt({},yt.feedbackOverlayContainer.base,!g&&c?yt.feedbackOverlayContainer.visible:{})},height:"100%",padding:4,position:"relative",width:"100%"},a.a.createElement(b.c,{display:"flex",direction:"column",height:"100%",justifyContent:"between"},a.a.createElement(b.c,{className:"ObscuredOverlay","data-test-id":"PinFeedbackConfirmation",maxWidth:216},a.a.createElement(b.c,{marginBottom:2},a.a.createElement(b.K,{color:"white",size:"xl",bold:!0},C?_.title:S)),a.a.createElement(b.c,{display:"flex"},E&&a.a.createElement(b.c,{marginRight:3},a.a.createElement(b.u,{width:E.width,height:E.height,shape:"rounded",wash:!0},a.a.createElement(b.p,{alt:C?_.subTitle:P||"",fit:"cover",naturalHeight:1,naturalWidth:1,src:E.url}))),a.a.createElement(b.K,{color:"white",overflow:"normal"},C?_.subTitle:P,j&&a.a.createElement(d.b,{className:"underlineLink",to:"/homefeed/edit",onClick:function(){Object(q.a)(101,{view:1,viewParameter:92,element:11347})},style:yt.navigateLinkStyle},k.a._(" Tune your home feed","Text on the button to navigate to homefeed control"))))),!h&&!m&&_&&!x&&a.a.createElement(b.d,{color:"white",onClick:function(){return Object(mt.a)(_.action,_.actionOptions,f)},text:k.a._("Unfollow","Text on the button to unfollow a specific board / user")}),h&&a.a.createElement(b.d,{color:"white",onClick:h,text:w||k.a._("Undo","Text on the button to unfollow hiding a pin")}))))}function gt(e){return"active"===e?"visible":"inactive"===e?"none":"hidden"}function ht(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.includes("visible")?"visible":t.includes("hidden")?"hidden":"none"}function wt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(c){a=!0,i=c}finally{try{r||null==l.return||l.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Ot=228;var Et=Object(r.memo)((function(e){var t=e.actionBarProps,n=e.blockClickEvents,o=e.currentlyPlayingVideo,l=e.disableHover,c=void 0!==l&&l,s=e.footerProps,u=e.forcePrimaryContentVisibility,d=e.impressionsDebuggerProps,m=e.onError,p=e.onLoad,f=e.obscuredPinOverlayProps,y=e.pin,v=e.pinVisualProps,g=e.primaryContentProps,h=e.selectionState,w=e.secondaryContentProps,O=e.showActionBar,E=e.showFooter,P=e.showImpressionsDebugger,k=e.showSignalDebugger,S=e.showObscuredPinOverlay,_=e.showPrimaryAndSecondaryContent,C=e.viewType,j=y.carousel_data,x=y.savedInfo,I=wt(Object(r.useState)(!1),2),T=I[0],B=I[1],D=Object(Be.b)(T),L=function(){var e=lt(Object(r.useState)(!1),2),t=e[0],n=e[1];return{isHovering:t,hoverTransitionState:Object(Be.b)(t,0,Be.a),handleMouseOver:Object(r.useCallback)((function(){return n(!0)}),[n]),handleMouseLeave:Object(r.useCallback)((function(){return n(!1)}),[n])}}(),A=L.isHovering,R=L.hoverTransitionState,V=L.handleMouseOver,F=L.handleMouseLeave;c&&(A=!1,R="inactive");var M,H=Object(Be.b)(!!x),N=gt(H),z=gt(R),G=gt(R),W=gt(D),K=gt(H),q={primaryContentVisibility:ht(G,W,K),secondaryContentVisibility:(M=ht(G,W,K),"none"===M?"visible":"visible"===M?"none":"hidden"),actionBarVisibility:ht(G,W),accessoryContentVisibility:"none"},Q=function(e){return B(e)},X=function(e){B(e),e||F()},Y=null;u&&(q.primaryContentVisibility="visible"),"none"!==q.primaryContentVisibility&&_&&(Y=a.a.createElement(Ue,Object.assign({pin:y,onToggleFlyout:Q,onToggleModal:X},g)));var Z,$=Object(r.useRef)(!0),ee=$.current;$.current=!1;var te=function(e,t){var n=e.carousel_data,a=(n||{}).index,i=it(Object(r.useState)(!n||t),2),o=i[0],l=i[1],c=Object(r.useRef)(a),s=Object(r.useRef)(null);if(n){var u=c.current;c.current=a,(a!==u||t)&&(s.current&&clearTimeout(s.current),l(!0),s.current=setTimeout((function(){l(!1),s.current=null}),ot))}return Object(r.useEffect)((function(){return function(){s.current&&clearTimeout(s.current)}}),[]),o}(y,ee),ne=gt(Object(Be.b)(te));q.secondaryContentVisibility=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.includes("none")?"none":t.includes("hidden")?"hidden":"visible"}(q.secondaryContentVisibility,ne),Z=w.allowShoppingPriceIndicator?a.a.createElement(i.a,{name:"web_shopping_surface_price_pill"},(function(e){var t=e.anyEnabled;return w.allowShoppingPriceIndicator=t,("none"!==q.secondaryContentVisibility||w.allowShoppingPriceIndicator)&&_&&!o&&a.a.createElement(b.c,{margin:2},a.a.createElement(We.a,Object.assign({pin:y},w)))})):"none"!==q.secondaryContentVisibility&&_&&!o&&a.a.createElement(b.c,{margin:2},a.a.createElement(We.a,Object.assign({pin:y},w)));var re=null;j&&j.carousel_slots&&(re=a.a.createElement(J,{pin:y}),q.accessoryContentVisibility=gt(R)),Object(fe.a)(y)&&(re=a.a.createElement(i.a,{name:"web_carousel_product_pin"},(function(e){var t=e.group;return("enabled_pwt"===t||"enabled"===t)&&a.a.createElement(J,{pin:y})})),q.accessoryContentVisibility=gt(R)),v.isSocialSeasonalBoard&&(t.showShareButton=!1);var ae=O?a.a.createElement(U,Object.assign({onToggleFlyout:Q,onToggleModal:X,pin:y,setForcePrimary:B},t)):null,ie=null;E&&(ie=a.a.createElement(Ae,Object.assign({hoverTransitionState:"image-only-credit"===s.attributionType?R:null,blockClickEvents:n,pin:y,setForcePrimary:B},s))),v.isSocialSeasonalBoard&&(ie=a.a.createElement(b.c,{marginTop:2,marginBottom:3,width:"100%"},a.a.createElement(b.c,{width:Ot,margin:"auto"},a.a.createElement(Ze.a,{onFlyoutDismiss:function(){return Q(!T)},onToggleFlyout:function(){return Q(!T)},pinId:y.id,sendType:"pin",shownWithinMasonry:!0,isFlyoutOpen:T,viewType:C}))));var oe=P&&a.a.createElement(ut,d),le=k&&y.debug_info_html&&a.a.createElement(b.c,{paddingY:1},a.a.createElement("pre",null,y.debug_info_html)),ce=Object(r.useRef)();"header-only"===at(ce)&&(q.actionBarVisibility="none",q.accessoryContentVisibility="none");var se=S?a.a.createElement(vt,Object.assign({pin:y},f)):null;return a.a.createElement("div",{onMouseOver:V,onMouseLeave:F,"data-test-id":"pin","data-test-pin-id":y.id},a.a.createElement(Re.b,{visualOverlayVisibility:z,savedOverlayVisibility:N,primaryContent:Y,primaryContentVisibility:q.primaryContentVisibility,secondaryContent:Z,secondaryContentVisibility:q.secondaryContentVisibility,accessoryContent:re,accessoryContentVisibility:q.accessoryContentVisibility,actionBar:ae,actionBarVisibility:q.actionBarVisibility,footer:ie,selectionState:h,debugContent:oe,signalDebuggerContent:le,obscuredPinOverlay:se},a.a.createElement(b.c,{ref:ce},a.a.createElement(Ye,Object.assign({blockClickEvents:n,isHovering:A,onError:m,onLoad:p,pin:y},v)))))})),Pt=n("+H5w"),kt=["UserProfilePinGrid","CloseupRelatedProducts"];function St(e){var t=e.attributionOption,n=e.board,r=e.boardActivityOptions,a=e.feedbackData,i=e.feedbackType,o=e.inChangeTitlesExp,l=e.isGroupBoard,c=e.pin,s=e.showImageOnly,u=e.surface,d=Object(g.a)(c).isPromoted,m=c.promoter,p=c.unified_user_note,b=function(e){var t=e.attributionOption,n=e.feedbackType,r=e.isGroupBoard,a=e.pin,i=e.showImageOnly,o=e.surface,l=a.is_downstream_promotion,c=a.promoter;if("promoted"===n||c&&!l)return"default";if(kt.includes(o))return"none";if(r)return"none";var s="default";return t&&("image-only"===t?s="image-only-credit":"hide"===t&&(s="none")),"followed"!==n||i?"none":s}({attributionOption:t,feedbackType:i,isGroupBoard:l,pin:c,showImageOnly:s,surface:u}),f=s?"":h({inChangeTitlesExp:o,isGroupBoard:l,pin:c,surface:u}),y=!d&&!s&&Boolean(Se(c)),v=o&&"BaseBoardPinGrid"===u&&p?p.trim():null,w=2;d?w=3:(y||"none"!==b)&&(w=1);var O=l?25:30;return"CloseupRelatedProducts"===u&&(O=23),{attributionType:b,feedbackData:a,feedbackType:i,isDarkPromoter:!d&&!!m,pinTitle:f,showBoardActivityReply:"no-reply"!==r,showGroupBoardAvatar:l,showOverflowMenu:d,showReactions:Boolean(n&&n.should_show_board_activity)||l,showSource:y,singleLineMaxLength:O,titleLines:w,userNote:v}}var _t=n("hCBh");function Ct(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var jt=Object(o.connect)((function(e,t){var n=e.boards,r=n.isSocialSeasonalBoard,a=void 0!==r&&r,i=n.content,o=void 0===i?{}:i,l=e.pins,c=e.ui,s=e.viewer,u=t.pin,d=t.pinId,m=l[d]||u,p=m.board&&m.board.id,b=(p?o["".concat(p)]:void 0)||m.board,f=c.app?c.app.videosAutoplaying:{organicVideosAutoplaying:{},promotedVideosAutoplaying:{}};return{board:b,currentlyPlayingVideo:Object(v.j)(d,f),isSocialSeasonalBoard:a,reduxPin:m,viewConfig:c.views,viewer:s}}),(function(){return{}}))((function(e){var t=e.allowImageCropping,n=e.blockClickEvents,i=e.attributionOption,o=e.board,l=e.boardActivityOptions,c=e.currentlyPlayingVideo,s=e.debugImpressionState,u=e.feedbackOptions,d=e.imageOnlyOption,m=e.reduxPin,p=e.resolution,b=e.saveButtonOptions,f=e.surface,y=e.trackingParameters,v=e.viewConfig,C=e.viewer,j=e.isSocialSeasonalBoard,I=Ct(e,["allowImageCropping","blockClickEvents","attributionOption","board","boardActivityOptions","currentlyPlayingVideo","debugImpressionState","feedbackOptions","imageOnlyOption","reduxPin","resolution","saveButtonOptions","surface","trackingParameters","viewConfig","viewer","isSocialSeasonalBoard"]),T=o||{},B=T.collaborated_by_me,D=T.collaborator_count,L=T.is_collaborative,A=m.pinner,R=m.showFeedback,V=Object(_.a)(m),F=y.slotIndex,M=y.viewParameter,H=Object(oe.d)(),N=new ie.c(H,"web_unified_description_both").enabled()||new ie.c(H,"web_unified_description_both_perf").enabledWithNoActivation(),z=C.isAuth&&C.isEmployee,G=C.isAuth&&(Object(_t.d)({user:C})||Object(_t.e)({user:C}))&&!C.isPartner,U=G;"default"!==d&&(U="image-only"===d);var W=i;G&&(W="image-only");var K=function(e){var t=e.feedbackOptions,n=e.pin,r=e.viewParameter,a=n.board,i=n.pinner;return(0,Object(P.a)({i18n:k.a,interpolateNamedTemplate:S.b}).getFeedbackType)({board:a,feedback:t,pin:n,pinner:i,viewParameter:r})}({feedbackOptions:u,pin:m,viewParameter:M}),q=(u||{}).data,Q=D>0||L,J=function(e,t){var n=E[t];return!!n&&"dense"===e[n]}(v,f),X=Q&&"BaseBoardPinGrid"===f,Y=function(e,t){var n=e&&e.owner&&e.owner.id;return t.isAuth&&n===t.id}(o,C),Z=Boolean(C.isAuth&&A&&A.id===C.id),$=B||Q&&Y,ee=!["EngagementDetails","BoardCreateUpsell"].includes(f),te=Object(r.useMemo)((function(){return function(e){var t=e.isDenseView,n=e.isGroupBoard,r=e.isOwnBoard,a=e.isOwnPin,i=e.isRemovable,o=e.saveButtonOptions,l=e.surface,c=e.viewer,s=e.viewerIsCollaborator,u=c.isAuth?c.boardCount:void 0,d=o||function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)<2?{type:"classic"}:{type:"inline"}}(u);return r&&"HomefeedMoreIdeasTabs"===l?d={type:"persistentOneClickSave"}:(s||r||"UserProfilePinGrid"===l)&&(d={type:"classic"}),i&&(d={type:"none"}),{derivedSaveButtonOptions:d,showEditButton:r&&!n||a&&"UserProfilePinGrid"===l,showLikeButton:s,supportsReactionBar:!t}}({isDenseView:J,isGroupBoard:X,isOwnBoard:Y,isOwnPin:Z,isRemovable:V,saveButtonOptions:b,surface:f,viewer:C,viewerIsCollaborator:$})}),[X,Y,Z,V,b,f,C]),ne=Object(r.useMemo)((function(){return function(e){var t=e.surface;return{allowShoppingPriceIndicator:O.includes(t)}}({surface:f})}),[f]),re=!["EngagementDetails","BoardCreateUpsell"].includes(f),ae=Object(r.useMemo)((function(){return function(e){var t=e.feedbackData,n=e.feedbackType,r=e.inChangeTitlesExp,a=e.isDenseView,i=e.isGroupBoard,o=e.isOwnBoard,l=e.pin,c=e.surface,s=Object(g.a)(l),u=s.isOwnPin,d=s.isPromoted,m="default";return a&&(m=i?"icon-only":"truncated-text"),{feedbackData:t,feedbackType:n,pinTitle:h({inChangeTitlesExp:r,isGroupBoard:i,pin:l,surface:c}),showEditButton:i&&u,showOverflowMenu:!(d||o||i||w.includes(c)),showShareButton:!("CloseupRelatedProducts"===c),sourceLinkStyle:m,useDenseGroupBoardLayout:i&&a}}({feedbackData:q,feedbackType:K,inChangeTitlesExp:N,isDenseView:J,isGroupBoard:X,isOwnBoard:Y,pin:m,surface:f})}),[q,K,J,X,Y,m,f]),le=Object(r.useMemo)((function(){return St({attributionOption:W,board:o,boardActivityOptions:l,feedbackData:q,feedbackType:K,inChangeTitlesExp:N,isGroupBoard:X,pin:m,showImageOnly:U,surface:f})}),[W,o,l,q,K,N,X,m,U,f]),ce=Boolean(le.pinTitle)||le.userNote||le.showSource||"none"!==le.attributionType||X;"EngagementDetails"===f?ce=!1:J?ce=!1:j&&(ce=!1);var se=Boolean(R),ue=new ie.c(H,"web_homefeed_control_contextual_menu_v2"),de=new ie.c(H,"web_homefeed_control_panel_nag").enabledWithNoActivation(),me=new ie.c(H,"web_homefeed_control_panel_pin_feedback"),pe=se?{feedbackType:K,isContextMenuV2Exp:ue.enabled(),isHomefeedControlPanelExp:de||me.enabled()}:void 0,be=Object(r.useMemo)((function(){return function(e){var t=e.allowImageCropping,n=void 0===t||t,r=e.resolution;return{allowImageCropping:n,resolution:void 0===r?"default":r,cropProductPin:"CloseupRelatedProducts"===e.surface,isSocialSeasonalBoard:e.isSocialSeasonalBoard}}({allowImageCropping:t,resolution:p,surface:f,isSocialSeasonalBoard:j})}),[t,p,f,j]),fe=z&&st(),ye=Object(r.useMemo)((function(){return{debugImpressionState:s,slotIndex:F}}),[s,F]);return a.a.createElement(x.a,{value:y},a.a.createElement(Et,Object.assign({actionBarProps:ae,blockClickEvents:n,currentlyPlayingVideo:c,footerProps:le,forcePrimaryContentVisibility:["ExplorePossibilitiesPersistent","HomefeedMoreIdeasTabs","SearchItemPersistentOneClickSave"].includes(f),impressionsDebuggerProps:ye,obscuredPinOverlayProps:pe,pin:m,pinVisualProps:be,primaryContentProps:te,secondaryContentProps:ne,showPrimaryAndSecondaryContent:ee,showActionBar:re,showFooter:ce,showImpressionsDebugger:fe,showSignalDebugger:z,showObscuredPinOverlay:se},Object(Pt.b)(I,["pinId"]),{viewType:y.viewType})))}));function xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){It(e,t,n[t])}))}return e}function It(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(c){a=!0,i=c}finally{try{r||null==l.return||l.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Bt(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Dt=Object(o.connect)((function(e,t){var n=e.pins,r=e.location,a=t.pin;return{location:r,reduxPin:n[t.pinId]||a}}),(function(){return{}}))((function(e){var t=e.blockClickEvents,n=e.location,i=e.reduxPin,o=e.trackingParameters,d=Bt(e,["blockClickEvents","location","reduxPin","trackingParameters"]),m=Object(l.a)(i,n),p=c(i),b=!!(p&&p.url&&p.height&&p.width)||void 0,f=p&&i.videos?i.videos.id:void 0,g=Tt(Object(r.useState)(!1),2),h=g[0],w=g[1],O=Object(r.useCallback)((function(){return w(!0)}),[]),E=Object(r.useCallback)((function(){return w(!1)}),[]),P=o.componentType,k=o.contextLogData,S=o.impressionAuxFields,_=o.slotIndex,C=o.viewData,j=o.viewParameter,x=o.viewType;return a.a.createElement(s.a,{componentType:P,contextLogData:xt({},"undefined"!=typeof window?{pwa_type:Object(u.b)(window)}:{},k,Object(A.a)(i,k)),loggingId:i.id,impressionAuxFields:xt({},S||{},{isNativeVideoAndWatchable:b,videoIdStr:f,clientTrackingParams:m||"".concat(i.tracking_params||"","-0"),imageURL:i.images&&i.images["236x"].url,richTypes:Object(A.c)(i)}),impressionType:"Pin",isPaused:!h,slotIndex:_,viewData:C,viewParameter:j,viewType:x},Object(v.h)(i)?a.a.createElement(y,{pin:i}):a.a.createElement(jt,Object.assign({},d,{blockClickEvents:t,debugImpressionState:h?"started":"paused",onError:E,onLoad:O,pin:i,trackingParameters:{componentType:P,contextLogData:k,slotIndex:_,viewParameter:j,viewType:x}})))})),Lt=(n("E1Qe"),n("hvnN"),n("Ww6/"));function At(e){return(At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Nt(e,t,n[t])}))}return e}function Vt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ft(e){return(Ft=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mt(e,t){return(Mt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ht(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zt=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return r=this,a=(e=Ft(t)).call.apply(e,[this].concat(o)),n=!a||"object"!==At(a)&&"function"!=typeof a?Ht(r):a,Nt(Ht(Ht(n)),"state",{startImpressionTimer:!1}),Nt(Ht(Ht(n)),"handleLoad",(function(){n.setState({startImpressionTimer:!0})})),Nt(Ht(Ht(n)),"handleError",(function(){n.setState({startImpressionTimer:!1})})),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mt(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.componentType,n=e.contextLogData,r=e.impressionAuxFields,i=e.pin,o=e.slotIndex,d=e.location,m=e.viewData,p=e.viewType,b=e.viewParameter,f=Object(l.a)(i,d),g=c(i),h=!!(g&&g.url&&g.height&&g.width)||void 0,w=g&&i.videos?i.videos.id:void 0;return a.a.createElement(s.a,{componentType:t,contextLogData:Rt({},"undefined"!=typeof window?{pwa_type:Object(u.b)(window)}:{},n,Object(A.a)(i,n)),loggingId:i.id,impressionType:"Pin",impressionAuxFields:Rt({},r||{},{isNativeVideoAndWatchable:h,videoIdStr:w,richTypes:Object(A.c)(i),imageURL:i.images&&i.images["236x"].url,clientTrackingParams:f||"".concat(i.tracking_params,"-0")}),isPaused:!this.state.startImpressionTimer,slotIndex:o,viewData:m,viewType:p,viewParameter:b},Object(v.h)(i)?a.a.createElement(y,{pin:i}):a.a.createElement(Lt.b,Object.assign({},this.props,{onError:this.handleError,onLoad:this.handleLoad})))}}])&&Vt(n.prototype,r),i&&Vt(n,i),t}(r.Component),Gt=Object(o.connect)((function(e){return{location:e.location}}))(zt);function Ut(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Wt(e){var t=e.forceOldPinRep,n=Ut(e,["forceOldPinRep"]);return t?a.a.createElement(Gt,n):a.a.createElement(i.a,{name:"web_grid_immersive_new"},(function(e){var t=e.anyEnabled;return a.a.createElement(i.a,{name:"web_grid_immersive"},(function(e){return e.anyEnabled||t?a.a.createElement(Dt,function(e){var t={};if(t.allowImageCropping=e.truncatePinHeight,t.disableHover=e.hideHover,t.feedbackOptions=e.feedback,t.saveButtonOptions=e.saveOptions,t.blockClickEvents=e.blockClickEvents,t.pin=e.pin,t.pinId=e.pin.id,t.imageOnlyOption="default","boolean"==typeof e.showImageOnly&&(t.imageOnlyOption=e.showImageOnly?"image-only":"not-image-only"),t.boardActivityOptions="default",!1===e.showPinReactionsReply&&(t.boardActivityOptions="no-reply"),t.onError=e.onError,t.onLoad=e.onLoad,t.trackingParameters={componentType:e.componentType,contextLogData:e.contextLogData,impressionAuxFields:e.impressionAuxFields,slotIndex:e.slotIndex,viewData:e.viewData,viewParameter:e.viewParameter,viewType:e.viewType},t.resolution="default",e.highResOnly?t.resolution="high-res":e.lowResOnly&&(t.resolution="low-res"),void 0!==e.selection){t.selectionState={NO_SELECTION:"no-selection",SELECTED:"selected",UNSELECTED:"deselected"}[e.selection]}return t.attributionOption=null,e.showCredits||!1===e.hideAttribution?t.attributionOption="show":(e.hideAttribution||!1===e.showCredits)&&(t.attributionOption="hide"),t.surface=e.surface,t}(n)):a.a.createElement(Gt,n)}))}))}n.d(t,"a",(function(){return Wt}))},qE0g:function(e,t,n){"use strict";n.r(t);var r=n("GyhR"),a=n.n(r),i=n("Ivf5"),o=n("m2OL"),l=n("2LZR"),c=n("Qo1m"),s=n("/mke"),u=n("wSOZ"),d=n("LCmp"),m=n("IaXd"),p=n("UmN8"),b=n("wHKh"),f=n("aaO7"),y=n("zBQm"),v=n("yJaP"),g=n("+U6O");function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(c){a=!0,i=c}finally{try{r||null==l.return||l.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var w=50,O=60;t.default=Object(i.connect)((function(e){var t=e.experiences;return{isHomefeedContextualMenuTooltipExperience:t&&t.eligibleExperiences&&t.eligibleExperiences[1000116]&&501093===t.eligibleExperiences[1000116].experience_id}}),(function(e,t){var n=t.pin;return{hidePinFeedbackOverlay:function(){e(Object(f.c)(n.id))}}}))((function(e){var t,n=e.feedbackData,i=e.feedbackType,f=e.hidePinFeedbackOverlay,E=e.isHomefeedContextualMenuTooltipExperience,P=e.pin,k=e.pinTitle,S=e.setForcePrimary,_=e.transparentBackground,C=Object(v.b)(),j=C.slotIndex,x=C.viewParameter,I=C.viewType,T=h(Object(r.useState)(!1),2),B=T[0],D=T[1],L=h(Object(r.useState)(),2),A=L[0],R=L[1],V=P.ad_match_reason,F=P.board,M=P.category,H=P.description,N=P.id,z=void 0===N?"":N,G=P.images,U=P.is_promoted,W=P.pinner,K=P.promoter,q=P.recommendation_reason,Q=P.source_interest,J=P.videos,X=(t=U?O:w,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(d.a)(e.trim(),t)})(H),Y=Object(l.a)(G,"236x"),Z=Object(y.i)(J),$=Object(m.a)(101,{component:0,element:981,feedback_type:i,objectId:z}),ee=function(){S(!1),f(),D(!1)},te=function(){B&&ee()},ne=1===j&&E;return a.a.createElement(a.a.Fragment,null,a.a.createElement(g.c,{"data-test-id":"feedback-button",ref:R},a.a.createElement(s.a,{accessibilityLabel:c.a._("More information","accessibility label for overflow menu button"),bgColor:_?"transparent":"white",icon:"ellipsis",iconColor:"darkGray",iconSize:12,onClick:function(e){e.event;B?ee():(S(!0),D(!0)),$()},size:"sm"})),B&&a.a.createElement(g.r,null,a.a.createElement(g.k,{anchor:A,idealDirection:"right",onDismiss:ee,positionRelativeToAnchor:!1,size:"md"},a.a.createElement(p.a,{name:"web_homefeed_control_contextual_menu_v2"},(function(e){var t=e.anyEnabled;return a.a.createElement(u.a,{ad_match_reason:V,bestPinImgSrc:Object(b.j)(P),board:F,feedbackData:n,feedbackType:i,hideDownload:Z,isContextMenuV2Exp:t,isHomefeedContextualMenuTooltip:ne,onLinkClick:te,onHide:ee,pinCategory:M,pinDescription:X,pinId:z,pinImgSrc:Y,pinner:W,pinTitle:k,promoter:K,recommendationReason:q,reportPin:Object(o.a)({pin:P,viewParameter:x,viewType:I}),sourceInterest:Q,viewParameter:x,viewType:I})})))))}))},yJaP:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n("hMaQ"),a=Object(r.b)(),i=a.Provider,o=(a.Consumer,a.useHook)}}]);
//# sourceMappingURL=pjs-11-1e157c4e491473a8c5a2.js.map
