(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["CreativeEditorPageDesktop~ExperiencesAfterHomefeed~ExperiencesBeforeHomefeed~PinAnalyticsPageDesktop~988a84bc","BackgroundPinImages"],{"8Hll":function(e,t,n){"use strict";function r(e){return{type:"SET_NUX_PROGRESS",payload:{step:e}}}n.d(t,"a",(function(){return r}))},KrKF:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return p}));var r=n("Qo1m"),o=n("PhUE"),a=n("Irlq");n("zlIe");function i(e,t){return e.some((function(e){return e.id===t.id}))}var l=function(e){return e?Object(a.b)(r.a._("Welcome back, {{ firstName }}!","Header on welcome step of renux"),{firstName:e}):r.a._("Welcome back!","Header on welcome step of renux")};function s(e){var t=[];if(e){var n=Date.now()-72e5,r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done);r=!0){var s=i.value;s.ts>=n&&("string"==typeof s.image_signature&&t.push(s.image_signature),"string"==typeof s.first_pin_image_signature&&t.push(s.first_pin_image_signature))}}catch(c){o=!0,a=c}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}}return t}function c(){return{plpImages:s(o.b.localStorage.getItem("visitedPinLandingPagesBeforeLogin")),blpImages:s(o.b.localStorage.getItem("visitedBoardLandingPagesBeforeLogin"))}}function u(e){return e.url.split("/").pop().replace(/(--.*|\.jpg)$/g,"")}function p(e){var t=e.log_data;return t&&JSON.parse(t).source||""}},UY39:function(e,t,n){},dkdd:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));var r=n("PhUE");function o(e){var t={};return e.forEach((function(e){var n=r.b.localStorage.getItem(e);n&&("signupInterestsPickerStartTime"===e?t.signupInterestsPickerTimeSpent=Date.now()-n:t[e]=n)})),JSON.stringify(t)}function a(){return o(["signupInterestsPickerScrollDown","signupInterestsPickerStartTime"])}function i(){return o(["signupTriedSkipInputName","signupTriedSkipGender","unauthTopicsFollowed"])}},kiCl:function(e,t,n){"use strict";var r=function(e,t,n){this.type=e,this.target=t,this.currentTarget=t,this.data=n||{},this.stopped=!1};r.prototype.stopPropagation=function(){this.stopped=!0},r.prototype.shouldPropagate=function(){return!this.stopped},t.a=r},kpxY:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("GyhR"),o=n.n(r),a=n("Qo1m"),i=n("tbiL"),l=n("+U6O"),s=Object(i.a)({chunkName:function(){return"FullPageSignup"},isReady:function(e){return!!n.m[this.resolve(e)]},requireAsync:function(){return Promise.all([n.e("ArticlePageDesktop~AuthHomePageDesktop~BoardPageContainerDesktop~BoardPageDesktop~BusinessAccountCon~4dc53a39"),n.e("BusinessAccountCreatePageDesktop~BusinessAccountLoginPageDesktop~FullPageSignup~LoginPageDesktop~Log~cebb6848"),n.e("BusinessAccountLoginPageDesktop~FullPageSignup~LoginPageDesktop~LoginPageSterling~PersonalizedLoginF~47ad5b4d"),n.e("BusinessAccountLoginPageDesktop~FullPageSignup~LoginPageDesktop~LoginPageSterling~UnauthBoardPageLaz~fb595e34"),n.e("BusinessAccountCreatePageDesktop~BusinessAccountLoginPageDesktop~FullPageSignup~LoginPageDesktop~Log~0ead2e70"),n.e("FullPageSignup")]).then(n.bind(null,"JpAB"))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"JpAB"}});function c(e){return o.a.createElement(s,Object.assign({},e,{fallback:o.a.createElement(l.c,{display:"flex",justifyContent:"center",alignItems:"center"},o.a.createElement(l.G,{accessibilityLabel:a.a._("Loading signup form"),show:!0}))}))}},"xd+Y":function(e,t,n){},xjFC:function(e,t,n){},zEno:function(e,t,n){"use strict";var r=n("GyhR"),o=n.n(r),a=n("Ivf5"),i=(n("UY39"),n("VSY/")),l=n("KrKF"),s=n("pjsG"),c=n("Qo1m"),u=n("7Tih"),p=(n("xjFC"),n("+U6O")),d=3,f=10,m=["blue","eggplant","green","maroon","midnight","navy","olive","orange","orchid","pine","purple","watermelon"];var h=o.a.memo((function(){var e=function(){for(var e=[],t=0,n=0;n<f;n+=1){e.push([]);for(var r=0;r<d;r+=1){var a=m[t];e[n].push(o.a.createElement("div",{key:n+r,className:"NuxEducationLoaderGrid__column".concat(r)},o.a.createElement(p.c,{color:a,height:155,width:105,dangerouslySetInlineStyle:{__style:{borderRadius:8}}}))),(t+=1)>=m.length&&(t=0)}}return e}();return o.a.createElement("div",{className:"NuxEducationLoaderGrid"},e)}));var g=o.a.memo((function(e){var t=e.selectedInterest,n={label:c.a._("Food and Drink","Title for topic"),images:{"400x":{height:561,url:"https://i.pinimg.com/400x/10/31/0a/10310a3d860e8f7f2a5753612a870f5a.jpg",width:400}}},r={},a=t||n,i=a.label,l=a.images["400x"],s=l.url,u=l.height,d=l.width;r.domain=i.trim().toLowerCase().replace(/\s/g,"").concat(".com"),r.imageHeight=u,r.imageWidth=d,r.imageUrl=s;var f=r.domain,m=r.imageUrl,h=r.imageHeight,g=r.imageWidth;return o.a.createElement("div",{className:"NuxEducationLoaderPin","data-test-id":"nux-loader-pin"},o.a.createElement(p.c,{position:"relative"},o.a.createElement("div",{className:"NuxEducationLoaderPin__pinImage"},o.a.createElement(p.u,{shape:"rounded",height:310,width:210},o.a.createElement(p.p,{alt:c.a._("Pin image","Pin image for nux loading step"),color:"darkGray",fit:"cover",naturalHeight:h,naturalWidth:g,src:m})),o.a.createElement(p.c,{position:"absolute",top:!0,right:!0,marginTop:1,marginRight:1},o.a.createElement("div",{className:"NuxEducationLoaderPin__pinSaveButton"},o.a.createElement(p.d,{accessibilityLabel:c.a._("Save button"),color:"red",text:c.a._("Save","save button for nux loading step"),size:"md"}))),o.a.createElement(p.c,{position:"absolute",bottom:!0,left:!0,margin:2,maxWidth:"90%"},o.a.createElement("div",{className:"NuxEducationLoaderPin__pinLinkButton"},o.a.createElement(p.c,{padding:2,color:"lightGray",display:"flex",justifyContent:"between",alignItems:"center",dangerouslySetInlineStyle:{__style:{borderRadius:4}}},o.a.createElement(p.c,null,o.a.createElement(p.n,{icon:"arrow-up-right",accessibilityLabel:c.a._("link","Pin website url link for nux loading step"),size:14,color:"darkGray"})),o.a.createElement(p.c,{marginLeft:2,height:18,flex:"grow",overflow:"hidden"},o.a.createElement(p.K,{bold:!0,size:"sm",truncate:!0},f))))))))})),b={backgroundColor:"#efefef"},y={transition:"width .4s ease-out"};function x(e,t){return Object.assign({},b,{height:e+"px",borderRadius:t})}function w(e,t,n){return Object.assign({},y,{backgroundColor:e,width:t+"%",borderRadius:n})}var v=function(e){var t=e.color,n=void 0===t?"#333":t,r=e.height,a=void 0===r?8:r,i=e.progress,l=void 0===i?0:i,s=e.outerBorderRadius,c=void 0===s?"10px":s,u=e.innerBorderRadius,d=void 0===u?"inherit":u;return o.a.createElement(p.c,{width:"100%",overflow:"hidden",dangerouslySetInlineStyle:{__style:x(a,c)}},o.a.createElement(p.c,{height:"inherit",dangerouslySetInlineStyle:{__style:w(n,l,d)}}))},S=n("ePT2"),E=n("kIql"),_=n("NmcB"),O=n("8Hll"),k=n("zlIe"),C=n("9Y9K");function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return r=this,o=(e=N(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==T(o)&&"function"!=typeof o?I(r):o,L(I(I(n)),"state",{progressPercent:0}),L(I(I(n)),"incrementStepAndCompleteLoading",(function(){var e=n.props,t=e.incrementNuxStep,r=e.isRenux;(t(),r)||S.a.create("UserStateResource",{state:k.t,value:k.b}).callCreate()})),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.dispatchSetNuxStepProgress,r=t.isRenux;r||S.a.create("UserStateResource",{state:k.t,value:k.y}).callCreate(),n("loader"),Object(_.a)(13,{view:r?213:24,viewParameter:261}),this.intervalId=setInterval((function(){return e.setState((function(e){return{progressPercent:Math.min(e.progressPercent+100/17,100)}}))}),300)}},{key:"componentDidUpdate",value:function(e,t){this.state.progressPercent>=100&&(clearInterval(this.intervalId),setTimeout(this.incrementStepAndCompleteLoading,1e3))}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalId)}},{key:"render",value:function(){var e=this.props,t=e.isRenux,n=e.selectedInterests,r=e.showProgressBar,a=this.state.progressPercent;return o.a.createElement("div",{className:"NuxEducationLoader","data-test-id":"nux-complete-loader"},o.a.createElement(p.c,{alignItems:"center",display:"flex",direction:"row",height:"100%",justifyContent:"center",overflow:"hidden",width:"100%"},o.a.createElement(p.c,{position:"relative",marginLeft:10,marginRight:4},o.a.createElement("div",{className:"NuxEducationLoader__loadingCopyContainer"},o.a.createElement(p.m,{size:"sm"},c.a._("All set!","Title for nux loading step")),o.a.createElement(p.c,{marginTop:4},t?c.a._("We're refreshing your home feed with lots of new Pins...","Details for ReNUX loading step"):c.a._("We're building your home feed with lots of Pins...","Details for nux loading step"))),o.a.createElement("div",{className:"NuxEducationLoader__pinEducationCopyContainer"},o.a.createElement(p.m,{size:"sm"},c.a._("Pins are ideas.","Pin education on NUX loading step")),o.a.createElement(p.c,{marginTop:5},c.a._("They are links saved from around the web","Pin education on NUX loading step")))),o.a.createElement(p.c,{marginRight:5,marginLeft:5,width:344},o.a.createElement(h,null)),o.a.createElement(p.c,null,o.a.createElement(g,{selectedInterest:n[0]}))),r?null:o.a.createElement(p.c,{position:"absolute",top:!0,width:"100%"},o.a.createElement(v,{height:8,color:"#e60023",progress:a})))}}])&&P(n.prototype,r),a&&P(n,a),t}(r.PureComponent),A=Object(C.compose)(Object(a.connect)(null,(function(e){return{dispatchSetNuxStepProgress:function(t){return e(Object(O.a)(t))}}})),E.a)(R),B=n("VLF8"),F=n("FEwd"),G=n("rPo8");function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Y=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return r=this,o=(e=H(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==D(o)&&"function"!=typeof o?M(r):o,W(M(M(n)),"onInstallButtonClicked",(function(){var e=n.props.isRenux;B.a.handleExtensionInstall(n.incrementStepAndCompleteLoading),Object(_.a)(101,{component:17,element:280,view:e?213:24,viewParameter:260})})),W(M(M(n)),"onSkipButtonClick",(function(){var e=n.props.isRenux;Object(_.a)(101,{component:17,element:1150,view:e?213:24,viewParameter:260}),n.incrementStepAndCompleteLoading()})),W(M(M(n)),"incrementStepAndCompleteLoading",(function(){var e=n.props,t=e.incrementNuxStep,r=e.isRenux,o=e.setNuxUpsellProgress;r||o(k.b),t()})),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatchSetNuxStepProgress,n=e.isRenux,r=e.setNuxUpsellProgress;n||r(k.y),t("extension"),Object(_.a)(13,{view:n?213:24,viewParameter:260})}},{key:"render",value:function(){var e=this.props.personalizationCopy,t=e.headerText,n=e.subHeaderText;return o.a.createElement(F.a,{header:t,installClick:this.onInstallButtonClicked,skipClick:this.onSkipButtonClick,subheader:n})}}])&&U(n.prototype,r),a&&U(n,a),t}(r.Component),X=Object(a.connect)(null,(function(e,t){return{setNuxUpsellProgress:function(t){return e(Object(G.a)(k.q,t))},dispatchSetNuxStepProgress:function(t){return e(Object(O.a)(t))}}}))(Y),K=(n("xd+Y"),n("UmN8")),q=n("k9eC"),Q=n("2YES");function V(e){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $(e,t){return($=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ne=function(e){var t,n=e.isChecked,a=e.label,i=e.selectGender,l=e.value,s=e.isHorizontal;switch(a){case k.g:t="end";break;case k.D:t="start";break;default:t="center"}var c=o.a.createElement(p.c,{alignItems:"center",display:"flex","data-test-id":"nux-gender-".concat(a,"-label"),height:40,justifyContent:t,width:"calc(800px / 3)"},o.a.createElement(p.q,{htmlFor:a},o.a.createElement(p.c,{alignItems:"center",display:"flex"},o.a.createElement(p.B,{checked:n,id:a,name:"genderOptions",onChange:i,size:"md",value:a}),o.a.createElement(p.c,{marginStart:2,width:a===k.D&&225},l))));return s?c:o.a.createElement(r.Fragment,null,o.a.createElement(p.c,{"data-test-id":"nux-gender-".concat(a,"-label")},o.a.createElement(p.q,{htmlFor:a},o.a.createElement("div",{className:"NuxGenderSelector"},o.a.createElement(p.c,{alignItems:"center",display:"flex",flex:"none",paddingX:8,paddingY:6},o.a.createElement(p.B,{checked:n,id:a,name:"genderOptions",onChange:i,size:"md",value:a}),o.a.createElement(p.c,{display:"flex",flex:"grow",marginStart:10},l))))),o.a.createElement(p.j,null))},re=function(e){function t(){var e,n,a,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,s=new Array(l),u=0;u<l;u++)s[u]=arguments[u];return a=this,i=(e=Z(t)).call.apply(e,[this].concat(s)),n=!i||"object"!==V(i)&&"function"!=typeof i?ee(a):i,te(ee(ee(n)),"state",{customGender:n.props.customGender,gender:n.props.gender,showCustomGenderTextfield:n.props.gender===k.D&&n.props.customGender.length>0,showNextButton:[k.k,k.g].includes(n.props.gender)||n.props.customGender.length>0,showCustomGenderDoneButton:n.props.gender===k.D&&n.props.customGender.length>0}),te(ee(ee(n)),"setCustomGender",(function(e){e.target instanceof HTMLInputElement&&e.target.value.trim().length>0?n.setState({customGender:e.target.value,showCustomGenderDoneButton:!0}):n.state.showNextButton&&e.target instanceof HTMLInputElement?n.setState({customGender:e.target.value,showCustomGenderDoneButton:!1}):n.setState({showCustomGenderDoneButton:!1})})),te(ee(ee(n)),"updateCustomGender",(function(e){var t=e.value;return n.setState({customGender:t,showCustomGenderDoneButton:t.length>0})})),te(ee(ee(n)),"renderOnHomefeed",(function(){var e=n.props.personalizationCopy.headerText,t=n.state,a=t.customGender,i=t.gender,l=t.showCustomGenderDoneButton,s=t.showCustomGenderTextfield;return o.a.createElement(r.Fragment,null,o.a.createElement(p.m,{overflow:"normal",size:"sm"},e),o.a.createElement(p.c,{direction:"column",display:"flex",height:"100%"},o.a.createElement(p.c,{alignItems:"around",display:"flex",height:"100%",marginTop:10},o.a.createElement(ne,{isChecked:!s&&i.toLowerCase()===k.g,label:k.g,selectGender:function(){return n.onSelectGender(k.g)},value:n.renderGenderLabel(c.a._("Female"),!0),isHorizontal:!0}),o.a.createElement(ne,{isChecked:!s&&i.toLowerCase()===k.k,label:k.k,selectGender:function(){return n.onSelectGender(k.k)},value:n.renderGenderLabel(c.a._("Male"),!0),isHorizontal:!0}),o.a.createElement(ne,{isChecked:s,label:k.D,selectGender:function(){return n.onSelectGender(k.D)},value:s?o.a.createElement(p.c,{"data-test-id":"nux-gender-unspecified-input"},o.a.createElement(p.M,{id:"customGender",onChange:n.updateCustomGender,placeholder:c.a._("Enter custom gender","placeholder text for custom gender text field"),type:"text",value:a})):n.renderGenderLabel(c.a._("Non-binary","Non-binary label for custom gender"),!0),isHorizontal:!0})),l&&o.a.createElement(p.c,{"data-test-id":"nux-gender-unspecified-done-btn"},o.a.createElement(p.d,{color:"red",disabled:!i&&!a,inline:!0,onClick:function(){return n.updateGenderCompleteStep()},text:c.a._("Done","button text for entering a custom gender type")}))))})),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$(e,t)}(t,e),n=t,(a=[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatchSetNuxStepProgress,n=e.isRenux,r=e.setNuxGenderProgress;t("gender"),n||r(k.y),Object(_.a)(13,{view:n?213:24,viewParameter:3120})}},{key:"onSelectGender",value:function(e){var t=this.props.requestContext,n=this.state,r=n.showCustomGenderTextfield;n.showNextButton?this.setState({gender:e,showCustomGenderTextfield:e===k.D}):e===k.D&&new q.c(t,"web_hide_custom_gender_field").enabled()?this.setState({gender:k.D,showCustomGenderTextfield:!1},this.updateGenderCompleteStep):e===k.D||r?this.setState({gender:k.D,customGender:"",showCustomGenderTextfield:!r,showCustomGenderDoneButton:!1}):this.setState({gender:e},this.updateGenderCompleteStep)}},{key:"setUserStateCompletedGenderStep",value:function(){var e=this.props,t=e.isRenux,n=e.setNuxGenderProgress;t||n(k.b)}},{key:"updateGenderCompleteStep",value:function(){var e=this,t=this.props,n=t.incrementNuxStep,r=t.isRenux,o=t.updateGenderInfo,a=this.state,i=a.customGender,l=a.gender;o(a.showCustomGenderTextfield?{gender:k.D,custom_gender:i.slice(0,30)}:{gender:l}).then((function(){e.setUserStateCompletedGenderStep(),Object(_.a)(101,{component:17,element:241,view:r?213:24,viewParameter:3120}),n()}))}},{key:"submitHandler",value:function(e){e.preventDefault()}},{key:"renderGenderLabel",value:function(e,t){return t?o.a.createElement(p.K,{size:"xl"},e):o.a.createElement(p.m,{size:"sm"},e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.isRenux,a=t.personalizationCopy,i=a.headerText,l=a.subHeaderText,s=this.state,u=s.customGender,d=s.showCustomGenderDoneButton,f=s.showCustomGenderTextfield,m=s.showNextButton,h=f?o.a.createElement(r.Fragment,null,o.a.createElement(p.c,{marginEnd:5},o.a.createElement("input",{className:"NuxGenderSelector","data-test-id":"nux-gender-unspecified-input",id:"customGender",onChange:this.setCustomGender,placeholder:u||c.a._("Enter custom gender","placeholder text for custom gender text field"),style:d?k.j:k.i,type:"text"})),!m&&d&&o.a.createElement("div",{"data-test-id":"nux-gender-unspecified-done-btn"},o.a.createElement(p.d,{color:"red",inline:!0,onClick:function(){return e.updateGenderCompleteStep()},text:c.a._("Done","button text for entering a custom gender type")}))):this.renderGenderLabel(c.a._("Non-binary","Non-binary label for custom gender"));return o.a.createElement(K.a,{name:"web_homefeed_nux",activate:!1},(function(t){return t.anyEnabled?e.renderOnHomefeed():o.a.createElement(p.c,{display:"flex",direction:"column",height:"100%",justifyContent:"around",paddingY:8,width:"100%"},o.a.createElement(p.c,{direction:"column",display:"flex",paddingX:8,dangerouslySetInlineStyle:{__style:{textAlign:"center"}}},o.a.createElement(p.m,{size:n?"xs":"sm"},i),n&&o.a.createElement(p.K,{align:"center",size:"xl"},l)),o.a.createElement(p.c,null,o.a.createElement(p.j,null),o.a.createElement(ne,{isChecked:!f&&e.state.gender.toLowerCase()===k.g,label:k.g,selectGender:function(){return e.onSelectGender(k.g)},value:e.renderGenderLabel(c.a._("Female"))}),o.a.createElement(ne,{isChecked:!f&&e.state.gender.toLowerCase()===k.k,label:k.k,selectGender:function(){return e.onSelectGender(k.k)},value:e.renderGenderLabel(c.a._("Male"))}),o.a.createElement(ne,{isChecked:f,label:k.D,selectGender:function(){return e.onSelectGender(k.D)},value:h})),m&&o.a.createElement(p.c,{"data-test-id":"nux_gender_next_btn",marginTop:8,marginStart:8,marginEnd:8},o.a.createElement(p.d,{accessibilityLabel:c.a._("Next","go to next nux step"),color:"red",disabled:f&&0===e.state.customGender.length,onClick:function(){return e.updateGenderCompleteStep()},text:c.a._("Next","next nux step button"),type:"button"})))}))}}])&&J(n.prototype,a),i&&J(n,i),t}(r.PureComponent),oe=Object(C.compose)(Object(a.connect)((function(e){var t=e.viewer;return{gender:t.gender?t.gender:"",customGender:t.customGender?t.customGender:""}}),(function(e,t){return{dispatchSetNuxStepProgress:function(t){return e(Object(O.a)(t))},setNuxGenderProgress:function(t){return e(Object(G.a)(k.s,t))},updateGenderInfo:function(t){return e(Object(G.f)({updateUserData:t}))}}})),Q.e)(re),ae=n("kiCl");function ie(e){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function se(e){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ce(e,t){return(ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var de=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return r=this,o=(e=se(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==ie(o)&&"function"!=typeof o?ue(r):o,pe(ue(ue(n)),"state",{focused:!1,errorIsOpen:!1}),pe(ue(ue(n)),"handleOnChange",(function(e){n.props.onChange({event:e,value:e.target.value})})),pe(ue(ue(n)),"handleBlur",(function(){n.props.errorMessage&&n.setState({errorIsOpen:!1})})),pe(ue(ue(n)),"handleFocus",(function(){n.props.errorMessage&&n.setState({errorIsOpen:!0})})),n}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ce(e,t)}(t,e),n=t,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e.errorMessage!==t.errorMessage?{errorIsOpen:!!e.errorMessage,errorMessage:e.errorMessage}:null}}],(o=[{key:"render",value:function(){var e=this,t=this.props,n=t.id,o=t.name,a=t.options,i=t.value;return r.createElement(p.c,{alignItems:"center",display:"flex",position:"relative"},r.createElement(p.c,{alignItems:"center",bottom:!0,color:"white",display:"flex",position:"absolute",dangerouslySetInlineStyle:{__style:{margin:"1px",paddingRight:"31px",paddingLeft:"15px",pointerEvents:"none"}},right:!0,shape:"rounded",top:!0},r.createElement(p.n,{icon:"arrow-down",size:24,color:"darkGray",accessibilityLabel:""})),r.createElement("select",{id:n,name:o,onBlur:this.handleBlur,onFocus:this.handleFocus,onChange:this.handleOnChange,ref:function(t){e.select=t},value:i,style:{backgroundColor:"white",border:"1px solid #979797",borderRadius:8,cursor:"pointer",height:68,fontSize:20,paddingLeft:32,width:"100%",WebkitAppearance:"none",MozAppearance:"none"}},a.map((function(e){return r.createElement("option",{key:e.value,value:e.value},e.label)}))))}}])&&le(n.prototype,o),a&&le(n,a),t}(r.Component);pe(de,"defaultProps",{options:[]});var fe=function(e){var t=e.defaultOptions,n=e.id,r=e.items,a=e.name,i=e.onChange,l=e.value,s=(r.data||t||[]).sort((function(e,t){return e.name.localeCompare(t.name)})).map((function(e){var t=e.name,n=e.key;return{label:t.toString(),value:n}}));return o.a.createElement(de,{id:n,name:a,onChange:i,options:s,value:l})},me=n("Y2BC"),he=Object(me.b)({name:"CountriesResource",key:"items"})(fe),ge=Object(me.b)({name:"LocalesResource",key:"items"})(fe),be=n("hvnN"),ye=n.n(be),xe=n("PhUE");function we(e){return(we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Se(e){return(Se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ee(e,t){return(Ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _e(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ke=function(e){function t(){var e,n,a,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,s=new Array(l),u=0;u<l;u++)s[u]=arguments[u];return a=this,i=(e=Se(t)).call.apply(e,[this].concat(s)),n=!i||"object"!==we(i)&&"function"!=typeof i?_e(a):i,Oe(_e(_e(n)),"state",{locale:n.props.reduxLocale||(n.context||{}).locale||k.d,country:n.props.reduxCountry||(n.context||{}).country||k.c,swappingLanguage:!1}),Oe(_e(_e(n)),"onNextButtonClick",(function(){var e=n.props,t=e.incrementNuxStep,r=e.isRenux,o=e.updateUserInfo,a=e.setNuxLocaleProgress,i=n.state;o({updateUserData:{country:i.country,locale:i.locale}}).then((function(){r||a(k.b),Object(_.a)(101,{component:17,element:10374,view:24,viewParameter:3139}),t()}))})),Oe(_e(_e(n)),"updateLocale",(function(e){var t=e.value;return n.setState({locale:t})})),Oe(_e(_e(n)),"updateCountry",(function(e){var t=e.value;return n.setState({country:t})})),Oe(_e(_e(n)),"renderOnHomefeed",(function(){var e=n.props.personalizationCopy.headerText,t=n.state,a=t.country,i=t.locale,l=t.swappingLanguage;return o.a.createElement(r.Fragment,null,o.a.createElement(p.m,{size:"sm",overflow:"normal"},e),o.a.createElement(p.c,{display:"flex",justifyContent:"center",marginBottom:10,marginTop:5},o.a.createElement(p.c,{"data-test-id":"nux-locale-select",marginRight:3,width:350},o.a.createElement(ge,{id:"newUserLanguage",name:"locale",onChange:n.updateLocale,value:i})),o.a.createElement(p.c,{"data-test-id":"nux-country-select",marginLeft:3,width:350},o.a.createElement(he,{id:"newUserCountry",name:"country",onChange:n.updateCountry,value:a}))),o.a.createElement(p.c,{"data-test-id":"nux-locale-country-next-btn",direction:"column",display:"flex",flex:"grow",justifyContent:"center",padding:1},o.a.createElement(p.d,{size:"lg",color:"red",text:c.a._("Next","go to next step"),onClick:n.onNextButtonClick,type:"submit",disabled:l})))})),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ee(e,t)}(t,e),n=t,(a=[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatchSetNuxStepProgress,n=e.isRenux,r=e.setNuxLocaleProgress;n||r(k.y),t("country"),xe.b.localStorage.getItem("signupUserLocale")||xe.b.localStorage.getItem("signupUserCountry")||Object(_.a)(13,{view:24,viewParameter:3139})}},{key:"componentDidUpdate",value:function(e,t){var n=this,r=this.props,o=r.toggleLoadingIndicator,a=r.isBizNux,i=r.updateUserInfo,l=t.country,c=t.locale,p=this.state,d=p.country,f=p.locale,m=l!==d,h=c!==f;(m||h)&&i({updateUserData:{country:d,locale:f}}).then((function(){if(m&&xe.b.localStorage.setItem("signupUserCountry",d),h){xe.b.localStorage.setItem("signupUserLocale",f);var e=new u.a;e.evt=new ae.a("",null,{forceRefresh:1}),a?n.setState({swappingLanguage:!0}):o(!0),s.a.navigate("/",e)}}))}},{key:"render",value:function(){var e=this,t=this.props.personalizationCopy.headerText,n=this.state,r=n.country,a=n.locale,i=n.swappingLanguage;return o.a.createElement(K.a,{name:"web_homefeed_nux",activate:!1},(function(n){return n.anyEnabled?e.renderOnHomefeed():o.a.createElement(p.c,{display:"flex",direction:"column",height:"100%",padding:8,width:"100%"},o.a.createElement(p.c,{alignItems:"center",dangerouslySetInlineStyle:{__style:{textAlign:"center"}},display:"flex",direction:"column",flex:"grow",justifyContent:"around",marginBottom:8},o.a.createElement(p.c,{width:"100%"},o.a.createElement(p.m,{size:"sm"},t)),o.a.createElement(p.c,{width:"100%"},o.a.createElement(p.c,{"data-test-id":"nux-locale-select"},o.a.createElement(ge,{id:"newUserLanguage",name:"locale",onChange:e.updateLocale,value:a})),o.a.createElement(p.c,{marginTop:4,"data-test-id":"nux-country-select"},o.a.createElement(he,{id:"newUserCountry",name:"country",onChange:e.updateCountry,value:r})))),o.a.createElement(p.c,{bottom:!0,"data-test-id":"nux-locale-country-next-btn"},o.a.createElement(p.d,{size:"lg",color:"red",text:c.a._("Next","go to next step"),onClick:e.onNextButtonClick,type:"submit",disabled:i})))}))}}])&&ve(n.prototype,a),i&&ve(n,i),t}(r.PureComponent);ke.contextTypes={country:ye.a.string,locale:ye.a.string};var Ce=Object(a.connect)((function(e){var t=e.viewer;return{reduxCountry:t.country?t.country:"",reduxLocale:t.locale?t.locale:""}}),(function(e,t){return{updateUserInfo:function(t){return e(Object(G.f)(t))},setNuxLocaleProgress:function(t){return e(Object(G.a)(k.r,t))},dispatchSetNuxStepProgress:function(t){return e(Object(O.a)(t))}}}))(ke),Te=n("dg2R"),Pe=n("V0Gb"),Ne=function(e){var t=e.nuxStepIndex,n=e.showCounter,r=e.numSteps;return n&&r>1?o.a.createElement(p.c,null,o.a.createElement(p.K,{size:"md"},Object(i.i)(c.a._("Step {{current}} of {{total}}"),{current:"".concat(t+1),total:"".concat(r)}))):null},je=40,Ie="10px",Le="15px",Re="30px",Ae="45px",Be="85px",Fe=function(e,t,n,r,a){return o.a.createElement(p.c,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",margin:2,width:t},o.a.createElement(p.c,{dangerouslySetInlineStyle:{__style:{marginTop:n===Ie?"3px":"0px"}},"data-test-id":"nux-toc-dot",color:e,height:n,shape:"circle",width:n}),r&&o.a.createElement(p.c,{dangerouslySetInlineStyle:{__style:{whiteSpace:a?"nowrap":"",marginTop:n===Ie?"6px":"4px"}},"data-test-id":"nux-toc-text",display:"flex",wrap:!0},o.a.createElement(p.K,{align:"center",bold:!0,color:e,size:"sm"},r)))},Ge="M24 12a2 2 0 0 1-2 2H7.676l4.631 4.586a2 2 0 1 1-2.829 2.828L0 12l9.478-9.414a2 2 0 0 1 2.829 2.828L7.676 10H22a2 2 0 0 1 2 2";var De=o.a.memo((function(e){var t=e.renderType,n=e.currentNuxStep,r=e.steps,a=e.onPrevStepClick,i=r.map((function(e){return e.moduleName})),l=i.indexOf(n.moduleName),s=l>1&&o.a.createElement(K.a,{name:"web_nux_back_button"},(function(e){return e.anyEnabled&&o.a.createElement(p.c,{display:"flex",alignItems:"center"},o.a.createElement(p.o,{accessibilityLabel:c.a._("Go back to previous step","Accessibility label on NUX back button"),dangerouslySetSvgPath:{__path:Ge},iconColor:"gray",size:"sm",onClick:a}))}));if(r.length>1)return o.a.createElement(p.c,{"data-test-id":"nux-toc-container",display:"flex",justifyContent:"between",padding:4},o.a.createElement(p.c,{width:je},s),o.a.createElement(p.c,{display:"flex",justifyContent:"center"},r.map((function(e,r){return o.a.createElement("div",{key:r},function(e){var r=i.indexOf(e.moduleName)>l,o=r?"darkGray":"red",a=r?Ie:Le,s="",u=Re,p=!1;if("single"===t){u=Ae,p=!0;var d=e.moduleName===n.moduleName,f={NuxGenderStep:c.a._("You","Label for NUX gender step in a table of contents"),NuxLocaleCountryStep:c.a._("Your Language","Label for NUX language/locale step in a table of contents"),NuxPicker:c.a._("Your Interests","Label for NUX topic picker in a table of contents"),NuxExtensionUpsell:c.a._("Your Browser","Label for NUX Browser Extension in a table of contents")};s=d?f[e.moduleName]:""}return"all"===t&&(u=Be,s={NuxGenderStep:c.a._("You","Label for NUX gender step in a table of contents, where text should be short since there is not much space to show it"),NuxLocaleCountryStep:c.a._("Language","Label for NUX language/locale step in a table of contents, where text should be short since there is not much space to show it"),NuxPicker:c.a._("Interests","Label for NUX topic picker in a table of contents, where text should be short since there is not much space to show it"),NuxExtensionUpsell:c.a._("Extension","Label for NUX Browser Extension in a table of contents, where text should be short since there is not much space to show it")}[e.moduleName]||""),Fe(o,u,a,s,p)}(e))}))),o.a.createElement(p.c,{width:je}))}));function Ue(e){return(Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function He(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ze(e){return(ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Me(e,t){return(Me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function We(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xe=["NuxDismissableWelcome","NuxWelcomeNameStep","NuxAboutYouStep","NuxGenderStep","NuxLocaleCountryStep"],Ke=110,qe=280,Qe=575,Ve=function(e){function t(){var e,n,a,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,s=new Array(l),c=0;c<l;c++)s[c]=arguments[c];return a=this,i=(e=ze(t)).call.apply(e,[this].concat(s)),n=!i||"object"!==Ue(i)&&"function"!=typeof i?We(a):i,Ye(We(We(n)),"state",{animateIn:!0}),Ye(We(We(n)),"runAnimation",(function(){window.setTimeout((function(){return n.setState({animateIn:!1})}),200)})),Ye(We(We(n)),"renderOnHomefeed",(function(){var e=n.props,t=e.children,a=e.nuxStep,i=e.steps,l=e.isLoading,s=e.onPrevStepClick,c=n.state.animateIn,u=["NuxPicker","NuxEducationLoader"].includes(a.moduleName)&&!l?Qe:qe,d="NuxEducationLoader"===a.moduleName||i.length<=1;return o.a.createElement(r.Fragment,null,o.a.createElement(p.c,{dangerouslySetInlineStyle:{__style:{background:"rgba(255, 255, 255, 0.8)",top:-104,zIndex:999}},height:64,position:"absolute",width:"100%"}),o.a.createElement(p.c,{color:"white",dangerouslySetInlineStyle:{__style:{margin:"40px 40px 16px",opacity:c?0:1,transition:"height .1s, opacity .1s ease-in .1s",textAlign:"center"}},height:c?0:u,overflow:"scroll"},o.a.createElement(p.c,{alignItems:"center",direction:"column",display:"flex",height:"100%",minWidth:k.m,position:"relative"},!d&&o.a.createElement(De,{currentNuxStep:a,onPrevStepClick:s,renderType:"dots",steps:i,inHomefeedExp:!0}),t)),o.a.createElement(p.r,null,o.a.createElement(p.c,{bottom:!0,color:"white",dangerouslySetInlineStyle:{__style:{opacity:.8,top:u+Ke,transition:"height .1s linear .1s"}},height:c?0:"100%",position:"absolute",left:!0,right:!0})),l&&o.a.createElement(p.r,null,o.a.createElement(p.c,{bottom:!0,dangerouslySetInlineStyle:{__style:{zIndex:999}},height:"100vh",left:!0,position:"absolute",right:!0,top:!0},o.a.createElement(Pe.a,null))))})),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Me(e,t)}(t,e),n=t,(a=[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.isRenux,r=t.isSimpleRenux,o=t.requestContext;document.body&&(document.body.style.overflow="hidden");var a=new q.c(o,"web_renux_moving_bg_pins");n&&!r&&a.enabled()&&(this.windowScrollInterval=window.setInterval((function(){window.scrollBy(0,1)}),50),this.windowScrollTimer=window.setTimeout((function(){window.clearInterval(e.windowScrollInterval)}),12e4)),Te.c.pause(),this.runAnimation()}},{key:"componentDidUpdate",value:function(){this.runAnimation()}},{key:"componentWillUnmount",value:function(){this.windowScrollInterval&&window.clearInterval(this.windowScrollInterval),this.windowScrollTimer&&window.clearTimeout(this.windowScrollTimer),document.body&&(document.body.style.overflow=""),Te.c.resume()}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,a=t.displayHide,i=t.onHide,l=t.onPrevStepClick,s=t.nuxStep,u=t.steps,d=t.isLoading,f=t.showCounter,m=t.showTableContents,h=u.map((function(e){return e.moduleName})).indexOf(s.moduleName);return o.a.createElement(K.a,{name:"web_homefeed_nux",activate:!1},(function(t){return t.anyEnabled?e.renderOnHomefeed():o.a.createElement(p.r,null,o.a.createElement(p.c,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, .5)",zIndex:"999"}},display:"flex",height:"100vh",justifyContent:"center",overflow:"scroll",position:"fixed",width:"100vw",top:!0},o.a.createElement(p.c,{color:"white",dangerouslySetInlineStyle:{__style:{transition:Xe.includes(s.moduleName)?"":"width 0.5s"}},direction:"column",display:"flex",height:640,position:"relative",shape:"rounded",width:Xe.includes(s.moduleName)?544:800},d&&o.a.createElement(Pe.a,null),m&&o.a.createElement(r.Fragment,null,o.a.createElement(De,{currentNuxStep:s,onPrevStepClick:l,renderType:"dots",steps:u}),o.a.createElement(p.j,null)),o.a.createElement(p.c,{flex:"grow",height:"100%",width:"100%"},n),o.a.createElement(p.c,{position:"absolute",marginEnd:8,marginTop:8,right:!0,top:!0},o.a.createElement(Ne,{nuxStepIndex:h,showCounter:f,numSteps:u.length}),a&&i&&o.a.createElement(p.o,{accessibilityLabel:c.a._("cancel","close nux modal"),icon:"cancel",onClick:i,size:"sm"})))))}))}}])&&He(n.prototype,a),i&&He(n,i),t}(r.PureComponent),Je=n("dkdd");function Ze(e){return(Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function et(e){return(et=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tt(e,t){return(tt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ot="Flyout_Fade ".concat(1.5,"s ease-in-out"),at="Header_Highlight ".concat(1.5,"s ease-in-out"),it=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,l=new Array(i),s=0;s<i;s++)l[s]=arguments[s];return r=this,n=!(a=(e=et(t)).call.apply(e,[this].concat(l)))||"object"!==Ze(a)&&"function"!=typeof a?nt(r):a,rt(nt(nt(n)),"state",{showFlyout:!1}),rt(nt(nt(n)),"iconRef",o.a.createRef()),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tt(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.item,n=e.onComplete;this.setState({showFlyout:"home"===t}),this.dismissTimeout=setTimeout((function(){n()}),1500)}},{key:"componentWillUnmount",value:function(){this.dismissTimeout&&clearTimeout(this.dismissTimeout)}},{key:"render",value:function(){var e=this.props,t=e.height,n=e.interests,r=e.isSmall,a=e.item,i=e.left,l=e.name,s=e.top,u=e.width,d=this.state.showFlyout;return o.a.createElement(p.c,{bottom:!0,left:!0,position:"fixed",right:!0,top:!0},o.a.createElement("style",{dangerouslySetInnerHTML:{__html:"\n@keyframes Header_Highlight {\n  0% { transform: scale(1.0); opacity: 0 }\n  15% { transform: scale(1.2); opacity: 1 }\n  22% { transform: scale(1.1); opacity: 1 }\n  85% { transform: scale(1.1); opacity: 1 }\n  100% { transform: scale(1.0); opacity: 0 }\n}\n@keyframes Flyout_Fade {\n  0% { transform: translateY(40px); opacity: 0 }\n  22% { transform: translateY(10px); opacity: 1 }\n  85% { transform: translateY(10px); opacity: 1 }\n  100% { transform: translateY(40px); opacity: 0 }\n}\n"}}),o.a.createElement(p.c,{alignItems:"center",color:"white",dangerouslySetInlineStyle:{__style:{animation:at,WebkitAnimation:at,left:i,top:s}},display:"flex",height:t,justifyContent:"center",padding:2,position:"absolute",ref:this.iconRef,shape:r?"circle":"pill",width:u},"home"===a&&r&&o.a.createElement(p.n,{accessibilityLabel:c.a._("Home","Header logo label"),color:"red",icon:"pinterest",size:28}),"profile"===a&&o.a.createElement(p.a,{name:l,size:"sm",src:""}),!r&&o.a.createElement(p.c,{color:"white",paddingX:2,paddingY:1},o.a.createElement(p.K,{bold:!0,color:"home"===a?"darkGray":"gray",overflow:"normal"},"home"===a?c.a._("Home","Header home tab label"):l))),d&&o.a.createElement(p.c,{dangerouslySetInlineStyle:{__style:{animation:ot,WebkitAnimation:ot}}},o.a.createElement(p.k,{anchor:this.iconRef.current,idealDirection:"down",onDismiss:function(){},size:297},o.a.createElement(p.c,{alignItems:"center",display:"flex",justifyContent:"center",padding:4,wrap:!0},!!n&&n.map((function(e){return o.a.createElement("div",{key:e.id},o.a.createElement(p.c,{margin:1},o.a.createElement(p.u,{height:45,shape:"rounded",width:45},o.a.createElement(p.p,{alt:e.label,color:e.background_color,naturalHeight:e.images["400x"].height,naturalWidth:e.images["400x"].width,src:e.images["400x"].url}))))}))))))}}])&&$e(n.prototype,r),a&&$e(n,a),t}(r.Component),lt=Object(a.connect)((function(e){return{name:e.viewer.firstName||""}}))(it),st=n("POeB"),ct=n("yxuo"),ut=Object(Q.e)((function(e){var t=e.requestContext,n=e.interests,r=e.InterestComponentToRender,a=e.gridContainerRef,i=n&&n.length<1,l=k.l.DESKTOP,s=new q.b(t,"web_nux_picker_hover_state"),u=s.check("enabled_border")||s.check("employees")?8:0;return o.a.createElement("div",{style:l.STYLES},o.a.createElement(p.v,{columnWidth:l.COLUMN_WIDTH+u,comp:r,loadItems:function(){},gutterWidth:l.GUTTER_WIDTH-u,items:n,minCols:l.COLUMNS,scrollContainer:function(){return a||window}}),o.a.createElement(p.G,{accessibilityLabel:c.a._("Loading topics"),show:i}))})),pt=n("x0Vy"),dt=function(e){var t=e.interests,n=e.handleInterestClickFn,r=e.interestFlipMessages,a=e.interestsToFlip,i=e.isRenux,s=function(e){e.itemIdx;var l=e.data,s={clickHandler:n(l),interest:l,key:l.id,isRenux:i,isSelected:l.is_followed,flipText:r[l.id]||"",shouldFlip:a.has(l.id)};return t.length>0&&xe.b.localStorage.setItem("signupInterestsPickerStartTime",Date.now()),o.a.createElement(pt.a,s)},u=t.length>5&&"viewed_recs"===Object(l.d)(t[0]);return o.a.createElement(K.a,{name:"web_nux_picker_pfy_section",isEligible:!i&&u},(function(n){var r=n.anyEnabled,a=t.slice(0,5),i=t.slice(5);return r?o.a.createElement(o.a.Fragment,null,o.a.createElement(p.c,{paddingX:8,marginTop:1,marginBottom:1,wrap:!0},o.a.createElement(p.K,{bold:!0,size:"md"},c.a._("Recommended for you","Title above a personalized list of topics for user to follow"))),o.a.createElement(ut,Object.assign({},e,{interests:a,InterestComponentToRender:s})),o.a.createElement(p.c,{paddingX:8,marginTop:7,marginBottom:1,wrap:!0},o.a.createElement(p.K,{bold:!0,size:"md"},c.a._("More topics",'Title above list of topics user can follow. Previous section said "Recommended for you"'))),o.a.createElement(ut,Object.assign({},e,{interests:i,InterestComponentToRender:s}))):o.a.createElement(ut,Object.assign({},e,{InterestComponentToRender:s}))}))},ft=n("IO+S"),mt=function(e){var t=e.categories,n=e.handleInterestClickFn,r=e.interestFlipMessages,a=e.interestsToFlip,i=e.isRenux;return o.a.createElement(p.c,{display:"flex",direction:"row",justifyContent:"between",wrap:!0,paddingX:8},t.map((function(e){return o.a.createElement(p.c,{key:e.title,paddingY:1},o.a.createElement(p.K,{size:"xl",bold:!0},e.title),o.a.createElement(p.c,{direction:"row",display:"flex",justifyContent:"between"},e.interests.map((function(e){var t={clickHandler:n(e),interest:e,key:e.id,isSelected:e.is_followed,isCategorized:!0,isRenux:i,flipText:r[e.id]||"",shouldFlip:a.has(e.id)};return o.a.createElement(p.c,{key:e.id,padding:1},o.a.createElement(pt.a,t))}))))})))};function ht(e){return(ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bt(e){return(bt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yt(e,t){return(yt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var wt=n.n(ft)()((function(){xe.b.localStorage.setItem("signupInterestsPickerScrollDown",!0)})),vt=function(e){function t(){var e,n,r,o,a,i,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,c=new Array(s),u=0;u<s;u++)c[u]=arguments[u];return r=this,o=(e=bt(t)).call.apply(e,[this].concat(c)),n=!o||"object"!==ht(o)&&"function"!=typeof o?xt(r):o,a=xt(xt(n)),l=function(){var e=n.gridContainer.scrollTop===n.gridContainer.scrollHeight-n.gridContainer.offsetHeight;wt(),n.props.handleBottomScroll(e)},(i="handleScroll")in a?Object.defineProperty(a,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[i]=l,n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yt(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this,t=this.props,n=t.categorized,r=t.categoryProps,a=t.handleBottomScroll,i=t.handleInterestClickFn,l=t.isRenux,s=t.interests,u=t.showTableOfContents,d=t.interestFlipMessages,f=t.interestsToFlip,m=o.a.createElement(dt,{gridContainerRef:this.gridContainer,handleBottomScroll:a,handleInterestClickFn:i,interests:s,isRenux:l,showTableOfContents:u,interestFlipMessages:d,interestsToFlip:f});return n&&r.categories&&(m=o.a.createElement(mt,Object.assign({},this.props,r))),o.a.createElement(p.c,{dangerouslySetInlineStyle:{__style:{paddingBottom:!n&&"40px"}},height:u?"280px":"368px",flex:"grow",overflow:"scrollY",width:"800px"},o.a.createElement("div",{onScroll:this.handleScroll,ref:function(t){e.gridContainer=t}},s.length>0?m:o.a.createElement(p.G,{accessibilityLabel:c.a._("Loading default interests"),show:!0})))}}])&&gt(n.prototype,r),a&&gt(n,a),t}(o.a.Component),St=n("q579"),Et=n("p968"),_t=n("yINQ");function Ot(e){return(Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kt(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){It(e,t,n[t])}))}return e}function Tt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pt(e){return(Pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nt(e,t){return(Nt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function It(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lt(){var e,t,n=1e3*(t=90-(e=20),e+Math.floor(Math.random()*t)),r=c.a.getLocaleData().locale,o=Object(Et.d)(r,n,{shortform:!0});return function(e){var t=e.length;return e[Math.floor(Math.random()*t)]}([Object(i.i)(c.a.ngettext("{{ formattedNumber }} person collecting ideas about","{{ formattedNumber }} people collecting ideas about",n,"How many people collect ideas about an interest, where interest name is shown underneath this text, and number is formatted in a short form such as 10K or 1 instead of 10000 when applicable to the locale"),{formattedNumber:o}),Object(i.i)(c.a.ngettext("{{ formattedNumber }} person saving ideas about","{{ formattedNumber }} people saving ideas about",n,"How many people save ideas about an interest, where interest name is shown underneath this text, and number is formatted in a short form such as 10K or 1 instead of 10000 when applicable to the locale"),{formattedNumber:o}),Object(i.i)(c.a.ngettext("{{ formattedNumber }} person sharing ideas about","{{ formattedNumber }} people sharing ideas about",n,"How many people share ideas about an interest, where interest name is shown underneath this text, and number is formatted in a short form such as 10K or 1 instead of 10000 when applicable to the locale"),{formattedNumber:o})])}var Rt=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r=this,o=(e=Pt(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==Ot(o)&&"function"!=typeof o?jt(r):o,It(jt(jt(n)),"state",{defaultInterests:[],defaultInterestsSet:new Set,categoryProps:{},contextualMap:{},addedContextualTopics:new Set,interestFlipMessages:{},interestsToFlip:new Set}),It(jt(jt(n)),"calculateCategories",(function(){var e={},t=n.getInterestsWithUpdatedIsFollowed(),r=n.handleInterestClickFn;t.forEach((function(t){var n=t.nux_category||"";Object.keys(e).includes(n)?e[n].push(t):e[n]=[t]}));var o=[];if(Object.keys(e).forEach((function(t){o.push({title:t,interests:e[t]})})),6===o.length){for(var a=0;a<o.length;a++){var i=o[a];if(""===i.title||!i.interests||3!==i.interests.length)return}n.setState({categoryProps:{categories:o,handleInterestClickFn:r}})}})),It(jt(jt(n)),"handleInterestClickFn",(function(e){return function(){var t=n.props,r=t.selectedInterests,o=t.onSelectedInterestsChange,a=!Object(l.b)(r,e);o([e],a),n.logInterestClick(a),n.setState({interestsToFlip:new Set([e.id])}),n.contextualUpdateInterests(new Set([e.id]))}})),It(jt(jt(n)),"logInterestClick",(function(e){var t=n.props.isRenux,r=e?1030:1151;Object(_.a)(101,{component:36,element:r,view:t?213:24,viewParameter:172})})),It(jt(jt(n)),"componentName",k.u),It(jt(jt(n)),"recordRenderLogToServer",(function(){var e=n.renderTimers.pop();e.end(),ct.default.logToServer(ct.default.SERVER_LOG_TYPE.RENDER_TIME,ct.default.HTTP_METHOD.POST,{timing:e.getCompletedTime(),component:n.componentName})})),It(jt(jt(n)),"renderTimers",[]),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nt(e,t)}(t,e),n=t,(r=[{key:"getExtraImageSignal",value:function(){var e=Object(l.a)(),t=e.plpImages,n=e.blpImages,r=this.props.mostRecentPinImages,o=t.concat(n);return r.concat(o)}},{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.isRenux,r=t.isSimpleRenux,o=t.selectedInterests,a=t.limited,i=t.keepFollowingEnabledGroup,l=this.state.interestFlipMessages;S.a.create("NuxInterestsResource",{is_renux:n,logNetworkTimer:!0,loggerComponentName:k.u,extraImageSignal:this.getExtraImageSignal(),hideFollowedInterests:n&&!r,defaultNuxInterestsOnly:i,limited:a,urlParams:St.a.getQueryStringParams()}).callGet({showError:!1},{retries:1}).then((function(t){if(t.resource_response&&t.resource_response.data){e.logSignupTiming();var n=e.mapInterestsForDisplay(o,t.resource_response.data);e.setState({defaultInterests:n}),e.getInterestsWithUpdatedIsFollowed().length>0&&e.calculateCategories();var r=new Set;n.forEach((function(e){!0===e.is_followed&&r.add(e.id)})),Object.keys(r).length>0&&e.contextualUpdateInterests(r);var a=Ct({},l);n.forEach((function(e){l[e.id]||(a[e.id]=Lt())})),e.setState({interestsToFlip:new Set(Object.keys(r)),interestFlipMessages:a})}})).catch((function(e){st.a&&st.a.showError(e.message||c.a._("Unable to load topics","Error message when failed to load topics."))}))}},{key:"UNSAFE_componentWillUpdate",value:function(e,t){this.state.defaultInterests!==t.defaultInterests&&this.renderTimers.unshift((new _t.a).start())}},{key:"componentDidUpdate",value:function(e,t){var n=this.state.defaultInterests;n!==t.defaultInterests&&(this.renderTimers.length&&this.recordRenderLogToServer(),this.calculateCategories()),n.length>0&&0===t.defaultInterests.length&&this.props.preselect&&this.preselectInterests()}},{key:"getInterestsWithUpdatedIsFollowed",value:function(){var e=this.props.selectedInterests;return this.state.defaultInterests.map((function(t){return t.is_followed=Object(l.b)(e,t),t}))}},{key:"logSignupTiming",value:function(){var e=xe.b.localStorage.getItem("signupTime");if(e){var t=Date.now()-e;t<k.z&&ct.default.logToServer(ct.default.SERVER_LOG_TYPE.SIGNUP_LOAD,ct.default.HTTP_METHOD.POST,{timing:t,component:"nux"}),xe.b.localStorage.removeItem("signupTime")}}},{key:"mapInterestsForDisplay",value:function(e,t){var n=this,r=t.map((function(e){return Ct({},e,{is_followed:!n.props.keepFollowingEnabledGroup&&e.is_followed,label:e.name})}));this.props.onSelectedInterestsChange(r.filter((function(e){return e.is_followed})),!0);var o=new Set(e.map((function(e){return e.id}))),a=r.filter((function(e){return!o.has(e.id)}));return e.concat(a)}},{key:"preselectInterests",value:function(){var e=this.props,t=e.numberToFollow,n=e.onSelectedInterestsChange,r=this.state.defaultInterests,o=t||k.f;n(r.slice(0,o),!0)}},{key:"contextualUpdateInterests",value:function(e){var t=this.state,n=t.defaultInterests,r=t.defaultInterestsSet,o=t.addedContextualTopics,a=[],i=[],l=!1;n.forEach((function(t){if(a.push(t),r.add(t.id),e.has(t.id)&&!o.has(t.id)){var n=t.contextual_interests.filter((function(e){return!r.has(e.id)}));n.length>0&&("InsertionStrategy.INSERT_INPLACE"===t.contextual_insertion_strategy?a.push.apply(a,kt(n)):"InsertionStrategy.INSERT_AT_THE_END"===t.contextual_insertion_strategy&&i.push.apply(i,kt(n)),n.forEach((function(e){r.add(e.id)})),l=!0)}})),i.length>0&&a.push.apply(a,i),l&&this.setState({addedContextualTopics:new Set(kt(o).concat(kt(e))),defaultInterests:a})}},{key:"render",value:function(){var e=this.props,t=e.categorized,n=e.handleBottomScroll,r=e.isRenux,a=e.showTableOfContents,i=this.state,l=i.interestFlipMessages,s=i.interestsToFlip;return o.a.createElement(vt,{categorized:t,categoryProps:this.state.categoryProps,handleBottomScroll:n,handleInterestClickFn:this.handleInterestClickFn,interests:this.getInterestsWithUpdatedIsFollowed(),interestFlipMessages:l,interestsToFlip:s,isRenux:!!r,showTableOfContents:a})}}])&&Tt(n.prototype,r),a&&Tt(n,a),t}(r.Component),At=Object(a.connect)((function(e){var t=e.mostRecentPin;return{mostRecentPinImages:t&&t.plp_image_signatures?t.plp_image_signatures:[]}}),(function(){return{}}))((function(e){return o.a.createElement(K.a,{name:"web_renux_keep_following",isEligible:e.isRenux},(function(t){var n=t.anyEnabled;return o.a.createElement(Rt,Object.assign({},e,{keepFollowingEnabledGroup:n}))}))})),Bt=n("OLQZ"),Ft=n.n(Bt),Gt=n("Irlq");function Dt(e){return(Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ut(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(s){o=!0,a=s}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Xt(e,t,n[t])}))}return e}function zt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mt(e){return(Mt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wt(e,t){return(Wt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Kt=o.a.createElement(p.c,{dangerouslySetInlineStyle:{__style:{background:"linear-gradient(rgba(255, 255, 255, 0), rgba(255, 255, 255, 1))"}},height:40,left:!0,marginTop:-10,position:"absolute",right:!0,top:!0}),qt=function(e){function t(e){var n,a,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,l=Mt(t).call(this,e),n=!l||"object"!==Dt(l)&&"function"!=typeof l?Yt(a):l,Xt(Yt(Yt(n)),"getButtonState",(function(e,t,r,o){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=n.props,s=l.isRenux,u=l.isSimpleRenux,p=l.pickButtonTextGenerator,d=e.length,f=a&&d>=k.o,m=f?0:Math.max(0,t-d),h=o.nextButtonText,g=o.completionNextButtonText,b=p(m),y={done:{buttonText:g||c.a._("Done"),isDisabled:!1,allowSkip:!1},more:{buttonText:s&&!u?c.a._("Next","go to next step"):i.i(h||b,{numberLeftToFollow:"".concat(m)}),isDisabled:!0,allowSkip:!1},skip:{buttonText:c.a._("Skip (pick topics for me)"),isDisabled:!1,allowSkip:!0}};return 0===m?y.done:r?y.skip:y.more})),Xt(Yt(Yt(n)),"handleBottomScroll",(function(e){var t=n.props,r=t.numberToFollow,o=t.selectedInterests,a=t.skipButton,i={nextButtonText:t.nextButtonText,nextButtonTextSingleTopic:t.nextButtonTextSingleTopic,completionNextButtonText:t.completionNextButtonText},l=n.getButtonState(o,r||k.e,a,i,e);n.setState(Ht({},n.state,l))})),Xt(Yt(Yt(n)),"handleBottomScrollThrottled",Ft()(n.handleBottomScroll,50)),Xt(Yt(Yt(n)),"handleNextClick",(function(){var e,t=n.props,r=t.customProcessFollowedInterests,o=t.isRenux,a=t.isSimpleRenux,i=t.selectedInterests,l=t.followedInterests,s=t.incrementNuxStep,c=t.nuxAnimationElement,u=t.setNuxPickerProgress,p=t.dispatchUpdateFollows,d=t.dispatchSubmitOrientationContext,f=t.requestContext;if(r)return o||u(k.b),r(),void s();if(o){var m=l.reduce((function(e,t){return e[t.id]=t.is_followed,e}),{});e=Promise.resolve(p(m))}else{var h=[],g=[];i.forEach((function(e){h.push(e.id),g.push(e.log_data?e.log_data:null)}));var b={interests:h.join(),log_data:JSON.stringify(g),referrer:"nux",user_behavior_data:Object(Je.a)()};e=Promise.resolve(d(b))}e.then((function(){o||u(k.b),Object(_.a)(101,{component:17,element:96,view:n.viewType,viewParameter:172});var e=new q.b(f,"web_nux_topics_home_animation");!a&&c&&window.innerHeight>k.n&&(e.checkWithNoActivation("enabled")||e.checkWithNoActivation("enabled_no_bg")||e.checkWithNoActivation("employees"))?n.setState({animateTopics:!0}):s()}))})),Xt(Yt(Yt(n)),"renderSelectedTopicsSubHeader",(function(){var e=n.props.selectedInterests,t=Ut(e.map((function(e){return e.label})),3),r=t[0],a=t[1],l=t[2],s=e.length-3,u=null;return e&&e.length>0&&(u=1===e.length?i.c(c.a._("You've selected {{firstTopic}}.","Subheader text to show the topics a user selects in topic picker"),{firstTopic:r}):2===e.length?i.c(c.a._("You've selected {{firstTopic}} and {{secondTopic}}.","Subheader text to show the topics a user selects in topic picker"),{firstTopic:r,secondTopic:a}):3===e.length?i.c(c.a._("You've selected {{firstTopic}}, {{secondTopic}} and {{thirdTopic}}.","Subheader text to show the topics a user selects in topic picker"),{firstTopic:r,secondTopic:a,thirdTopic:l}):i.c(c.a.ngettext("You've selected {{firstTopic}}, {{secondTopic}}, {{thirdTopic}} and {{count}} more topic.","You've selected {{firstTopic}}, {{secondTopic}}, {{thirdTopic}} and {{count}} more topics.",s,"Subheader text to show the first three topics a user selects in topic picker, followed by a count of remaining topics chosen."),{firstTopic:r,secondTopic:a,thirdTopic:l,count:s.toString()})),o.a.createElement(p.K,{size:"xl"},u)})),Xt(Yt(Yt(n)),"renderOnHomefeed",(function(){var e=n.props.personalizationCopy.headerText,t=n.state,a=t.isDisabled,i=t.allowSkip,l=t.buttonText,s=n.props,c=s.gender,u=s.isRenux,d=s.isSimpleRenux,f=s.numberToFollow,m=s.onSelectedInterestsChange,h=s.preselect,g=s.selectedInterests,b=s.showTableOfContents;return o.a.createElement(r.Fragment,null,o.a.createElement(p.m,{size:"sm",overflow:"normal"},e),o.a.createElement(p.c,{height:"100%",margin:5,overflow:"hidden"},o.a.createElement(p.c,{direction:"column",display:"flex",height:"100%"},o.a.createElement(At,{gender:c,handleBottomScroll:n.handleBottomScrollThrottled,isRenux:u,isSimpleRenux:d,numberToFollow:f,onSelectedInterestsChange:m,preselect:h,selectedInterests:g,showTableOfContents:b})),o.a.createElement(p.c,{dangerouslySetInlineStyle:{__style:{background:"linear-gradient(rgba(255, 255, 255, 0), rgba(255, 255, 255, 1))",bottom:75}},height:40,position:"absolute",width:k.m})),o.a.createElement(p.c,{"data-test-id":"nux-picker-done-btn",padding:1},o.a.createElement(p.d,{size:"lg",color:i?"gray":"red",text:l,disabled:a,onClick:n.handleNextClick,type:"submit"})))}));var s=e.nextButtonText,u=e.nextButtonTextSingleTopic,d=e.completionNextButtonText,f=e.isRenux,m=e.selectedInterests,h={nextButtonText:s,nextButtonTextSingleTopic:u,completionNextButtonText:d},g=n.getButtonState(m,e.numberToFollow||k.e,e.skipButton,h);return n.state=Ht({},g,{animateTopics:!1}),n.viewType=f?213:24,n}var n,a,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wt(e,t)}(t,e),n=t,(a=[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatchSetNuxStepProgress,n=e.isRenux,r=e.setNuxPickerProgress;n||r(k.y),t("topic"),Object(_.a)(13,{view:this.viewType,viewParameter:172})}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.numberToFollow,r=t.selectedInterests,o=t.skipButton,a=t.nextButtonText,i=t.nextButtonTextSingleTopic,l=t.completionNextButtonText;if(r.length!==e.selectedInterests.length){var s={nextButtonText:a,nextButtonTextSingleTopic:i,completionNextButtonText:l},c=this.getButtonState(r,n||k.e,o,s);this.setButtonState(c)}}},{key:"setButtonState",value:function(e){this.setState(Ht({},e))}},{key:"render",value:function(){var e=this,t=this.props,n=t.gender,a=t.incrementNuxStep,i=t.isRenux,l=t.isSimpleRenux,s=t.nuxAnimationElement,u=t.onSelectedInterestsChange,d=t.personalizationCopy,f=d.headerText,m=d.subHeaderText,h=t.preselect,g=t.selectedInterests,b=t.showTableOfContents,y=t.numberToFollow,x=this.state,w=x.animateTopics,v=x.isDisabled,S=x.buttonText;return o.a.createElement(r.Fragment,null,w&&o.a.createElement(lt,Object.assign({},s,{interests:g,item:"home",onComplete:a})),o.a.createElement(K.a,{name:"web_homefeed_nux",activate:!1},(function(t){return t.anyEnabled?e.renderOnHomefeed():o.a.createElement(K.a,{name:"web_renux_categorized_topics",isEligible:i&&("male"===n||"female"===n)},(function(t){var r=t.group,a=["enabled_categorized","enabled_limited","employees"].includes(r),s="enabled_categorized"===r||"employees"===r;return o.a.createElement(p.c,{direction:"column",display:"flex",height:"100%"},o.a.createElement(p.c,{display:"visuallyHidden",role:"alert"},Object(Gt.b)(c.a._("{{selectedTopicsCount}} of at least 5 topics selected","accessible label how many topics are selected"),{selectedTopicsCount:g.length})),o.a.createElement(p.c,{paddingX:8,marginTop:8,marginBottom:s?3:8,wrap:!0},o.a.createElement(p.m,{size:"xs"},f),i&&o.a.createElement(p.K,{size:"xl"},m),o.a.createElement(K.a,{name:"web_nux_selected_topics_subheader",isEligible:!i},(function(t){return t.anyEnabled?e.renderSelectedTopicsSubHeader():null}))),o.a.createElement(At,{categorized:s,gender:n,handleBottomScroll:e.handleBottomScrollThrottled,isRenux:i,isSimpleRenux:l,limited:a,numberToFollow:y,onSelectedInterestsChange:u,preselect:h,selectedInterests:g,showTableOfContents:b}),o.a.createElement(p.c,{position:"relative"},!s&&Kt,o.a.createElement(p.c,{"data-test-id":"nux-picker-done-btn",marginBottom:8,marginTop:s?3:4,paddingX:8},o.a.createElement(p.d,{size:"lg",color:"red",text:S,disabled:v,onClick:e.handleNextClick,type:"submit"}))))}))})))}}])&&zt(n.prototype,a),l&&zt(n,l),t}(r.Component);Xt(qt,"defaultProps",{skipButton:!1,pickButtonTextGenerator:function(e){return c.a.ngettext("Pick {{ numberLeftToFollow }} more","Pick {{ numberLeftToFollow }} more",e,"number of interests left to pick")}});var Qt=Object(C.compose)(Q.e,Object(a.connect)((function(e){var t=e.viewer,n=e.ui;return{gender:t&&t.gender?t.gender:"",nuxAnimationElement:n&&n.header&&n.header.nuxAnimationElements&&n.header.nuxAnimationElements.hf?n.header.nuxAnimationElements.hf:void 0}}),(function(e){return{dispatchSetNuxStepProgress:function(t){return e(Object(O.a)(t))},dispatchUpdateFollows:function(t){return e(Object(G.e)(t))},dispatchSubmitOrientationContext:function(t){return e(Object(G.b)(t))},setNuxPickerProgress:function(t){return e(Object(G.a)(k.v,t))}}})))(qt),Vt=n("lx8N"),Jt=n("KstO");var Zt,$t={yellow:"#FAB904",orange:"#FF6400",green:"#0FA573",blue:"#4A90E2",purple:"#B469EB"},en="DelightfulBubbles__",tn=["".concat(en,"fadeIn {\n  to {\n    opacity: 1;\n  }\n}\n"),"".concat(en,"growShrink {\n  0% {\n    transform: scale(0);\n  }\n  50% {\n    transform: scale(1);\n  }\n  100% {\n    transform: scale(0);\n  }\n}\n"),"".concat(en,"swirl {\n  0% {\n    transform: rotate(0deg) translateX(-50%);\n  }\n  100% {\n    transform: rotate(-360deg) translateX(-50%);\n  }\n}\n")].concat(function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(Zt=Object.keys($t).map((function(e){var t,n,r,o,a=(t=Object.keys($t),n=e,r=t.length,o=t.indexOf(n)+1>=r?0:t.indexOf(n)+1,t[o]);return"".concat(en,"colorChange_").concat(e," {\n      0% {\n        background-color: ").concat($t[e],";\n      }\n      50% {\n        background-color: ").concat($t[a],";\n      }\n    }\n    ")})))||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(Zt)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()),nn=Object(Jt.a)(tn);function rn(e){return(rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function on(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function an(e){return(an=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ln(e,t){return(ln=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var un=function(e){var t=e.delay,n=e.diameter,r=e.height,a=e.initialColor,i=e.width,l=e.xOffset,s=e.yOffset,c=function(e,t,n,r,o,a,i,l){return{bubblePositionStyles:{position:"absolute",marginLeft:"".concat(a/2-o,"px"),marginTop:"".concat(n/2-o,"px"),left:"".concat(i,"px"),top:"".concat(l,"px")},bubbleSwirlStyles:{animation:"".concat(en,"swirl 6s ease-in-out ").concat(e,"s infinite forwards"),WebkitAnimation:"".concat(en,"swirl 6s ease-in-out ").concat(e,"s infinite forwards")},bubbleGrowShrinkStyles:{transform:"scale(0)",WebkitTransform:"scale(0)",animation:"".concat(en,"growShrink 6s ease-in-out ").concat(e,"s infinite alternate"),WebkitAnimation:"".concat(en,"growShrink 6s ease-in-out ").concat(e,"s infinite alternate")},bubbleShapeStyles:{height:"".concat(t,"px"),width:"".concat(t,"px"),borderRadius:"50%",backgroundColor:$t[r],opacity:0,animation:"".concat(en,"colorChange_").concat(r," 12s steps(1, start) ").concat(e,"s infinite forwards,\n      ").concat(en,"fadeIn 3s linear ").concat(e,"s 1 forwards"),WebkitAnimation:"".concat(en,"colorChange_").concat(r," 12s steps(1, start) ").concat(e,"s infinite forwards,\n      ").concat(en,"fadeIn 3s linear ").concat(e,"s 1 forwards")}}}(t,n,r,a,Math.floor(n/2),i,l,s);return o.a.createElement(p.c,{dangerouslySetInlineStyle:{__style:c.bubblePositionStyles}},o.a.createElement(p.c,{dangerouslySetInlineStyle:{__style:c.bubbleSwirlStyles}},o.a.createElement(p.c,{dangerouslySetInlineStyle:{__style:c.bubbleGrowShrinkStyles}},o.a.createElement(p.c,{dangerouslySetInlineStyle:{__style:c.bubbleShapeStyles}}))))},pn=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return r=this,n=!(o=(e=an(t)).call.apply(e,[this].concat(i)))||"object"!==rn(o)&&"function"!=typeof o?sn(r):o,cn(sn(sn(n)),"state",{isInitialized:!1}),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ln(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){var e=this;this.requestAnimationFrameId=window.requestAnimationFrame((function(){e.setState({isInitialized:!0})}))}},{key:"shouldComponentUpdate",value:function(e,t){return!e.numBubbles===this.props.numBubbles||!t.isInitialized===this.state.isInitialized}},{key:"getSize",value:function(){return void 0!==this.props.width&&void 0!==this.props.height?{height:this.props.height,width:this.props.width}:this.containerElement?{height:this.containerElement.offsetHeight,width:this.containerElement.offsetWidth}:{}}},{key:"createBubbles",value:function(e,t){for(var n=this.props,r=n.bubbleSize,a=n.delayFactor,i=n.delayOffset,l=n.numBubbles,s=n.xRadiusAdjustment,c=e+2*n.yRadiusAdjustment,u=t+2*s,p=[],d=Object.keys($t),f=0;f<l;f+=1){var m=r+Object(Jt.c)(-4,4),h=d[f%d.length],g=Object(Jt.b)(c,u),b=g.x,y=g.y;p.push(o.a.createElement(un,{delay:f*a+i,diameter:m,initialColor:h,xOffset:b,yOffset:y,height:e,width:t,key:f}))}return p}},{key:"render",value:function(){var e=this,t=this.getSize();return o.a.createElement(p.c,Object.assign({},t,{position:"relative"}),o.a.createElement("style",{dangerouslySetInnerHTML:{__html:nn}}),o.a.createElement("div",{ref:function(t){return e.containerElement=t}},this.state.isInitialized&&this.createBubbles(t.height||0,t.width||0),o.a.createElement(p.c,{position:"relative"},this.props.children)))}}])&&on(n.prototype,r),a&&on(n,a),t}(r.Component);cn(pn,"defaultProps",{bubbleSize:16,numBubbles:10,xRadiusAdjustment:0,yRadiusAdjustment:0,delayFactor:1,delayOffset:0});var dn=pn,fn=n("ggpB"),mn=n("hCBh");function hn(e){return(hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bn(e){return(bn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yn(e,t){return(yn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vn=250,Sn=function(e){function t(){var e,n,a,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,u=new Array(s),d=0;d<s;d++)u[d]=arguments[d];return a=this,l=(e=bn(t)).call.apply(e,[this].concat(u)),n=!l||"object"!==hn(l)&&"function"!=typeof l?xn(a):l,wn(xn(xn(n)),"state",{animateProfile:!1,inProfileAnimationExp:!!n.props.nuxAnimationElement&&window.innerHeight>k.n&&new q.c(n.props.requestContext,"web_nux_profile_animation").enabled(),name:n.props.firstName,showAccountSwitchModal:!1,showNameInput:!1,showNoNameError:!1,showNameLengthError:!1}),wn(xn(xn(n)),"onNameChange",(function(e){var t=e.value;n.setState({name:t||"",showNoNameError:!t||i.h(t),showNameLengthError:!!t&&t.length>30})})),wn(xn(xn(n)),"toggleNameInput",(function(){var e=n.state,t=e.showNameInput,r=e.inProfileAnimationExp;if(t&&r){var o=Object(mn.a)(n.state.name);n.props.updateNameInfo(o)}n.setState((function(e){var t=e.showNameLengthError,n=e.showNoNameError,r=e.showNameInput;return{showNameInput:t||n||!r}})),Object(_.a)(101,{element:136,view:24,viewParameter:259})})),wn(xn(xn(n)),"continueAndSave",(function(){var e=n.props,t=e.incrementNuxStep,r=e.setNuxNameProgress,o=e.updateNameInfo,a=n.state,i=a.inProfileAnimationExp,l=a.name;o(Object(mn.a)(l)).then((function(){r(),Object(_.a)(101,{element:96,view:24,viewParameter:259}),i?n.setState({animateProfile:!0}):t()}))})),wn(xn(xn(n)),"getError",(function(){var e=n.state,t=e.showNameLengthError,r="";return e.showNoNameError?r=c.a._("And your name is...?","Error flyout when user doesn't input name"):t&&(r=c.a._("Hmm, that's a few characters too long. Try a nickname instead?","Name exceeds 30 character maximum error")),r})),wn(xn(xn(n)),"handleHideAccountSwitcher",(function(){return n.setState({showAccountSwitchModal:!1})})),wn(xn(xn(n)),"handleNotYouClick",(function(e){e.event.preventDefault(),Object(fn.a)("web.nux.click_login"),n.setState({showAccountSwitchModal:!0})})),wn(xn(xn(n)),"renderOnHomefeed",(function(){var e=n.props.personalizationCopy,t=e.headerText,a=e.subHeaderText,l=n.state,s=l.name,u=l.showNameInput,d=i.c(c.a._("{{ titleText }}, {{ name }}!","Greeting with inferred name."),{titleText:t,name:s}),f=t,m=n.getError(),h=o.a.createElement(p.c,{"data-test-id":"nux-edit-name-btn",marginStart:1},o.a.createElement(p.o,{accessibilityLabel:c.a._("Edit name","Icon to edit name inferred from email"),bgColor:"transparent",icon:u?"check":"edit",onClick:n.toggleNameInput,size:"sm"}));return o.a.createElement(r.Fragment,null,o.a.createElement(p.c,{alignItems:"center",display:"flex",maxWidth:"100%"},o.a.createElement(p.m,{size:"sm",truncate:!0},u?f:d),u&&o.a.createElement(p.c,{"data-test-id":"nux-edit-name-input",marginLeft:2,width:vn},o.a.createElement(p.M,{id:"name",errorMessage:m,onChange:n.onNameChange,placeholder:c.a._("Name","Inferred name textfield placeholder"),type:"text",value:s})),h),o.a.createElement(p.K,{align:"center",size:"xl"},a),o.a.createElement(p.c,{"data-test-id":"nux_name_done_btn",direction:"column",display:"flex",flex:"grow",justifyContent:"center",padding:1},o.a.createElement(p.d,{accessibilityLabel:c.a._("Next","go to next nux step"),color:"red",disabled:!!m,onClick:n.continueAndSave,text:c.a._("Next","next nux step button"),type:"button"})))})),n}var n,a,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yn(e,t)}(t,e),n=t,(a=[{key:"componentDidMount",value:function(){this.props.dispatchSetNuxStepProgress("welcome"),Object(_.a)(13,{view:24,viewParameter:259})}},{key:"render",value:function(){var e=this,t=this.props,n=t.incrementNuxStep,r=t.personalizationCopy,a=r.headerText,l=r.subHeaderText,s=t.nuxAnimationElement,u=t.userEmail,d=this.state,f=d.animateProfile,m=d.name,h=d.showAccountSwitchModal,g=d.showNameInput,b=i.c(c.a._("{{ titleText }}, {{ name }}!","Greeting with inferred name."),{titleText:a,name:m}),y=a,x=c.a._("Already have a Pinterest account?","subtitle to ask users who create a new account if they meant to log in to an existing account"),w=this.getError(),v=o.a.createElement(p.c,{"data-test-id":"nux-edit-name-btn",marginStart:1},o.a.createElement(p.o,{accessibilityLabel:"editName",bgColor:"transparent",icon:g?"check":"edit",onClick:this.toggleNameInput,size:"sm"}));return o.a.createElement(K.a,{name:"web_homefeed_nux",activate:!1},(function(t){return t.anyEnabled?e.renderOnHomefeed():o.a.createElement(o.a.Fragment,null,f&&o.a.createElement(lt,Object.assign({item:"profile",onComplete:n},s)),h&&o.a.createElement(Vt.a,{onDismiss:e.handleHideAccountSwitcher,showAddAccount:!0,hideAccountSwitchValueProp:!0,customTaglineText:c.a._("Log in","Title on modal for users to log in to an existing account after they accidentally created a new account")}),o.a.createElement(p.c,{direction:"column",display:"flex",height:"100%",padding:10,minWidth:"100%"},o.a.createElement(p.c,{alignItems:"center",direction:"column",display:"flex",flex:"grow",justifyContent:"around",marginBottom:10,width:"100%"},o.a.createElement(dn,{delayOffset:-5,xRadiusAdjustment:40},o.a.createElement(p.c,{alignItems:"center",color:"lightWash",direction:"column",display:"flex",height:100,justifyContent:"end",overflow:"hidden",shape:"circle",width:100},o.a.createElement(p.n,{accessibilityLabel:c.a._("Loading state for any sign up registration"),color:"gray",icon:"person",size:70}))),o.a.createElement(p.c,{alignItems:"center",marginTop:5},o.a.createElement(p.K,{align:"center",size:"lg",truncate:!0},u)),o.a.createElement(p.c,{alignItems:"end",display:"flex",width:"100%"},o.a.createElement(p.c,{dangerouslySetInlineStyle:{__style:{textAlign:"center"}},direction:"column",display:"flex",marginStart:9,maxHeight:170,overflow:"hidden",width:"100%"},o.a.createElement(p.q,{htmlFor:"name"},o.a.createElement(p.m,{size:"sm"},g?y:b)),g&&o.a.createElement(p.c,{alignItems:"center","data-test-id":"nux-edit-name-input",display:"flex",justifyContent:"center",padding:1},o.a.createElement(p.c,{width:vn},o.a.createElement(p.M,{id:"name",errorMessage:w,onChange:e.onNameChange,placeholder:c.a._("name"),type:"text",value:m})),v)),!g&&v),o.a.createElement(p.c,{width:"100%"},o.a.createElement(p.K,{align:"center",size:"xl"},l))),o.a.createElement(p.c,{"data-test-id":"nux_name_done_btn"},o.a.createElement(p.d,{accessibilityLabel:c.a._("Next","go to next nux step"),color:"red",disabled:!!w,onClick:e.continueAndSave,text:c.a._("Next","next nux step button"),type:"button"})),o.a.createElement(p.c,{marginTop:4},o.a.createElement(p.P,{onTouch:e.handleNotYouClick,fullWidth:!1},o.a.createElement(p.K,{size:"lg",align:"center"},x),o.a.createElement(p.K,{size:"lg",align:"center",bold:!0},o.a.createElement(p.t,{href:"#"},c.a._("Log in instead","Link allowing users who just created a new account the option to log in instead into an existing account")))))))}))}}])&&gn(n.prototype,a),l&&gn(n,l),t}(r.PureComponent),En=Object(C.compose)(Q.e,Object(a.connect)((function(e){var t=e.viewer,n=e.ui;return{firstName:t.firstName?t.firstName:"",nuxAnimationElement:n&&n.header&&n.header.nuxAnimationElements&&n.header.nuxAnimationElements.profile?n.header.nuxAnimationElements.profile:void 0,userEmail:t.isAuth?t.email:""}}),(function(e){return{dispatchSetNuxStepProgress:function(t){return e(Object(O.a)(t))},updateNameInfo:function(t){return e(Object(G.f)({updateUserData:t}))},setNuxNameProgress:function(){return e(Object(G.a)(k.w,k.b))}}})))(Sn),_n=[{moduleName:"NuxPicker"},{moduleName:"NuxExtensionUpsell"},{moduleName:"NuxEducationLoader"}];function On(e){return(On="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cn(e){return(Cn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tn(e,t){return(Tn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Nn=n("JsRk");function jn(e){return(jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function In(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Gn(e,t,n[t])}))}return e}function Ln(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Rn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function An(e){return(An=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bn(e,t){return(Bn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Dn=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return r=this,o=(e=An(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==jn(o)&&"function"!=typeof o?Fn(r):o,Gn(Fn(Fn(n)),"state",{followedInterests:[],isLoading:!1,nuxStep:n.getNextStepIndex(-1,n.props.steps,!1),selectedInterests:[],userClickedBack:!1}),Gn(Fn(Fn(n)),"onComplete",(function(){var e=n.props,t=e.handleComplete,r=e.isLandingPage,o=e.isRenux,a=e.dispatchUpdateFirstHomeFeedRequestAfterNuxFlag;Object(_.a)(4105,{view:o?213:24,viewParameter:171}),o||a(!0),t(),r&&n.handleNavigate("/")})),Gn(Fn(Fn(n)),"mounted",!1),Gn(Fn(Fn(n)),"handleNavigate",(function(e){var t=n.props.router;if(t)t.push({pathname:e,state:{completedNux:!0}});else{var r=new u.a;s.a.navigate(e,r)}})),Gn(Fn(Fn(n)),"handleSelectedInterestsChange",(function(e,t){n.setState((function(r,o){var a=n.getUpdatedSelectedInterests(r.selectedInterests,e,t),i=n.getUpdatedFollowInterests(r.followedInterests,e,t);return(0,o.dispatchSetNuxSelectedInterestImages)(a.reduce((function(e,t){if(t&&t.images&&t.images["400x"]){var n={bestPinsImages:t.best_pins_images,height:t.images["400x"].height,width:t.images["400x"].width,url:t.images["400x"].url};e.push(n)}return e}),[])),{selectedInterests:a,followedInterests:i}}))})),Gn(Fn(Fn(n)),"nuxSteps",{NuxGenderStep:oe,NuxLocaleCountryStep:Ce,NuxPicker:Qt,NuxExtensionUpsell:X,NuxEducationLoader:A,NuxWelcomeNameStep:En}),Gn(Fn(Fn(n)),"onPrevStepClickFn",(function(e){var t=n.props,r=t.steps,o=t.isRenux,a=r[e].moduleName;return function(){var t={NuxWelcomeNameStep:259,NuxGenderStep:3120,NuxLocaleCountryStep:3139,NuxPicker:172}[a];t&&Object(_.a)(101,{component:17,element:34,view:o?213:24,viewParameter:t}),e>0&&n.setState({nuxStep:e-1,userClickedBack:!0})}})),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bn(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props.isRenux;this.mounted=!0,Object(_.a)(4104,{view:e?213:24,viewParameter:170})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"getUpdatedFollowInterests",value:function(e,t,n){var r=Ln(e);return t.forEach((function(e){var t=In({},e,{is_followed:n}),o=!1;r=r.map((function(e){return e.id===t.id?(o=!0,t):e})),o||r.push(t)})),r}},{key:"getUpdatedSelectedInterests",value:function(e,t,n){var r=Ln(e);return t.forEach((function(t){var o=Object(l.b)(r,t);n&&!o?r.push(In({},t,{is_followed:n})):!n&&o&&(r=e.filter((function(e){return e.id!==t.id})))})),r}},{key:"getPersonalizationCopy",value:function(e){var t,n,r=this.props,o=r.isRenux,a=r.isSimpleRenux,l=r.steps,s=e.moduleName,u=l.map((function(e){return e.moduleName})).indexOf(s)===l.length-2;switch(s){case"NuxWelcomeNameStep":return{headerText:c.a._("Welcome to Pinterest","greeting on welcome name step"),subHeaderText:c.a._("Your answers to the next few questions will help us find the right ideas for you","header on nux welcome and name editing step")};case"NuxGenderStep":return t=c.a._("How do you identify?","Header in NUX gender step."),n="",o&&(t=c.a._("Its time to refresh your feed!","Title on the modal asking user's gender"),n=c.a._("How would you describe yourself?","Subtitle on the modal asking user's gender")),{headerText:t,subHeaderText:n};case"NuxLocaleCountryStep":return{headerText:c.a._("Pick your language and country/region","Header in NUX locale/country step")};case"NuxPicker":return o&&!a?(t=c.a._("What are you into these days?","Header in ReNUX topic picker step."),n=c.a._("Pick the topics you want to see in your home feed","Subheader in ReNUX topic picker step.")):(t=u?c.a._("Last step! Tell us what you're interested in","Header in NUX topic picker step."):c.a._("Tell us what you're interested in","Header in NUX topic picker step."),n=i.c(c.a._("Pick {{ numberToFollow }} (or more!) to start discovering new ideas","Subheader in NUX topic picker step with required number of topics to follow"),{numberToFollow:String(k.e)})),{headerText:t,subHeaderText:n};case"NuxExtensionUpsell":return{headerText:t=u?c.a._("Last step! Get our handy browser button","Header in NUX browser extension upsell step."):c.a._("Get our handy browser button","Header in NUX browser extension upsell step."),subHeaderText:c.a._("Quickly save any idea you find around the web","Subheader in NUX browser extension upsell step")};default:return{}}}},{key:"nuxStepToRender",value:function(e,t){var n=this,r=this.state,a=r.followedInterests,i=r.selectedInterests,l=this.props,s=l.isRenux,c=l.isSimpleRenux,u=e.moduleName,p=this.nuxSteps[u],d=this.hasNuxStep("NuxGenderStep");return o.a.createElement(Q.a,null,(function(r){return o.a.createElement(p,Object.assign({},e.options,{experiments:r.experiments,followedInterests:a,hasGenderStep:d,incrementNuxStep:n.incrementNuxStep(n.state.nuxStep),isSimpleRenux:c,isRenux:s,numberToFollow:s&&!c?k.x:k.e,onSelectedInterestsChange:n.handleSelectedInterestsChange,personalizationCopy:n.getPersonalizationCopy(e),requestContext:r,selectedInterests:i,showTableOfContents:t,toggleLoadingIndicator:function(e){return n.setState({isLoading:e})}}))}))}},{key:"getNextStepIndex",value:function(e,t,n){var r=this.props.isRenux,o=e+1;if(n)return o;if(!r)for(;o<t.length&&t[o].isCompleted;)o+=1;return o}},{key:"incrementNuxStep",value:function(e){var t=this,n=this.props,r=n.steps,o=n.dispatchSubmitOrientationContextFollow,a=this.state.userClickedBack,i=this.getNextStepIndex(e,r,a);return i>=r.length?this.onComplete:function(){var n=function(n){if(e!==n)return t.setState({nuxStep:n})};r.length>i&&r[i].options&&r[i].options.onStartApi&&r[i].options.onStartApi===k.h?o().finally(n):n(i)}}},{key:"hasNuxStep",value:function(e){return this.props.steps.some((function(t){return t.moduleName===e}))}},{key:"render",value:function(){var e=this.state,t=e.isLoading,n=e.nuxStep,r=this.props,a=r.handleDismiss,i=r.isLandingPage,l=r.isPartner,s=r.isRenux,c=r.isSimpleRenux,u=r.requestContext,p=r.steps,d=function(e){return["NuxEducationLoader"].includes(e)},f=p.filter((function(e){return!d(e.moduleName)})),m=!d(p[n].moduleName)&&!i&&!s,h=m&&f.length>1&&!l,g=m&&!h,b=!(!s||d(p[n].moduleName));return o.a.createElement(Ve,{displayHide:b,isLoading:t,isRenux:s,isSimpleRenux:c,nuxStep:p[n],onHide:a,onPrevStepClick:this.onPrevStepClickFn(n),requestContext:u,showCounter:g,showTableContents:h,steps:f},this.nuxStepToRender(p[n],h))}}])&&Rn(n.prototype,r),a&&Rn(n,a),t}(r.Component);Gn(Dn,"defaultProps",{isRenux:!1,isSimpleRenux:!1});t.a=Object(C.compose)(Q.e,Object(a.connect)((function(e){var t=e.viewer;return{isPartner:t.isAuth&&t.isPartner}}),(function(e){return{dispatchSetNuxSelectedInterestImages:function(t){return e(function(e){return{type:"SET_NUX_SELECTED_INTEREST_IMAGES",payload:{images:e}}}(t))},dispatchSubmitOrientationContextFollow:function(){return e(Object(G.c)())},dispatchUpdateFirstHomeFeedRequestAfterNuxFlag:function(t){return e(Object(G.d)(t))}}})),E.a,(function(e){return function(t){function n(){var e,t,r,o,a,i,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var s=arguments.length,c=new Array(s),u=0;u<s;u++)c[u]=arguments[u];return r=this,t=!(o=(e=Cn(n)).call.apply(e,[this].concat(c)))||"object"!==On(o)&&"function"!=typeof o?Pn(r):o,a=Pn(Pn(t)),l={skipExtStep:!1},(i="state")in a?Object.defineProperty(a,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[i]=l,t}var r,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tn(e,t)}(n,t),r=n,(a=[{key:"componentDidMount",value:function(){var e=this,t=this.props.steps;B.a.extensionReady(k.p).then((function(n){t.some((function(e){return"NuxExtensionUpsell"===e.moduleName}))&&n&&e.setState({skipExtStep:!0})}))}},{key:"render",value:function(){var t=this.props.steps;return this.state.skipExtStep&&(t=t.filter((function(e){return"NuxExtensionUpsell"!==e.moduleName}))),o.a.createElement(e,Object.assign({},this.props,{steps:t}))}}])&&kn(r.prototype,a),i&&kn(r,i),n}(r.PureComponent)}),(function(e){return function(t,n){return o.a.createElement(e,Object.assign({},t,{steps:t.steps||_n}))}}),Nn.withRouter)(Dn)}}]);
//# sourceMappingURL=pjs-CreativeEditorPageDesktop~ExperiencesAfterHomefeed~ExperiencesBeforeHomefeed~PinAnalyticsPageDesktop~988a84bc-b3d82e21a8c4516d1d74.js.map
